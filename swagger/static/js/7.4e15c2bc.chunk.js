(this["webpackJsonpdashboard-v1"]=this["webpackJsonpdashboard-v1"]||[]).push([[7],{154:function(e,t,n){"use strict";var c=n(24),r=n(3),i=n(82),s=n(79),a=n(1),o=n(1423),j=n(1435),l=n(1426),d=n(1449),u=n(1410),b=n(1443),h=n(1411),O=n(1412),x=n(80),m=n(249),p=n(114),v=n(46),f=n(1434),g=n(1440),y=n(1441),k=n(1430),w=n(1357),C=n(1442),S=n(28);function N(){var e=Object(s.a)(["\n  color: ",";\n"]);return N=function(){return e},e}function R(){var e=Object(s.a)(["\n  word-break: break-word;\n  padding-left: 1rem;\n  width: 100%;\n"]);return R=function(){return e},e}function T(){var e=Object(s.a)(["\n  display: inline-block;\n  height: 0.5rem;\n  width: 0.75rem;\n  border-top: 1px solid ",";\n  margin-right: 0.5rem;\n"]);return T=function(){return e},e}function _(){var e=Object(s.a)(["\n  font-size: 1.5rem;\n  margin-bottom: 0.5rem;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]);return _=function(){return e},e}function P(){var e=Object(s.a)(["\n  display: block;\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n  max-height: 20rem;\n  max-width: 100%;\n"]);return P=function(){return e},e}function q(){var e=Object(s.a)(["\n  display: block;\n  max-height: 20rem;\n  max-width: 100%;\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n"]);return q=function(){return e},e}var D=x.a.img(q()),B=x.a.video(P()),W=x.a.p(_()),F=x.a.span(T(),(function(e){return e.color})),L=x.a.div(R()),M=x.a.i(N(),(function(e){return e.color})),E=function(e){var t=e.src;return Object(r.jsx)(B,{src:t,controls:!0})},J=function(e){var t=e.src;return Object(r.jsx)("audio",{src:t,controls:!0})},z=function(e){var t=e.uri,n=Object(S.b)(t);return n.startsWith("image")?Object(r.jsx)(D,{src:t}):n.startsWith("audio")?Object(r.jsx)(J,{src:t}):n.startsWith("")?Object(r.jsx)(E,{src:t}):Object(r.jsx)(r.Fragment,{children:"Cannot Preview"})},A=function(e){var t=e.data,n=e.selected,c=e.isDragging,i=e.type,s=Object(v.f)().palette,a=t.item,o=t.onScoreClick,d=t.hasTop,b=void 0===d||d,h=t.hasBottom,O=void 0===h||h,x=t.name,m="parent_id"in a?a.parent_id:void 0,k="score"in a?a.score:void 0,w=a.id,C=a.uri,S=a.mime_type,N=a.text,R=c?20:n?10:2,T={};return"match"===i?T={backgroundColor:s.filters[0].main}:"chunk"===i&&(T={backgroundColor:s.filters[3].main}),Object(r.jsxs)("div",{children:[b&&Object(r.jsx)(p.d,{type:"source",position:p.e.Top}),Object(r.jsxs)(f.a,{elevation:R,color:"red",style:T,children:[Object(r.jsx)(g.a,{title:x,subheader:"Id: ".concat(w),style:{paddingBottom:".5em"},action:k&&Object(r.jsxs)(j.a,{size:"large",onClick:function(){return o(k)},children:["score: ",k.value||"0.0"]})}),Object(r.jsxs)(u.a,{maxWidth:"30rem",padding:"1em",paddingTop:"0em",children:[N&&Object(r.jsxs)(W,{children:['"',N,'"']}),C&&Object(r.jsx)(z,{uri:C}),Object(r.jsxs)(l.a,{container:!0,children:[Object(r.jsx)(l.a,{item:!0,xs:6,children:S&&Object(r.jsx)(y.a,{color:"textSecondary",gutterBottom:!0,children:S})}),Object(r.jsx)(l.a,{item:!0,xs:6,children:Object(r.jsx)(u.a,{textAlign:"right"})})]}),Object(r.jsx)("div",{style:{backgroundColor:"#ffffff80"},children:Object(r.jsx)(I,{data:a},"main table")}),m&&Object(r.jsx)(u.a,{marginTop:"0.5rem",children:Object(r.jsxs)(y.a,{color:"textSecondary",children:["ParentId: ",m]})})]})]}),O&&Object(r.jsx)(p.d,{type:"target",position:p.e.Bottom})]})},I=function(e){var t=e.data,n=e.nested;return Object(r.jsx)(k.a,{disablePadding:!0,dense:!0,children:Object.entries(t).map((function(e){var t=Object(c.a)(e,2),i=t[0],s=t[1];return Object(r.jsx)(U,{itemKey:i,itemValue:s,nested:n},i)}))})},U=function(e){var t=e.itemKey,n=e.itemValue,i=e.nested,s=Object(a.useState)(!1),o=Object(c.a)(s,2),j=o[0],d=o[1],u=Object(v.f)().palette,x=!1;return"object"===typeof n&&null!==n&&(x=!0),Object(r.jsxs)("div",{style:{marginLeft:i?"2em":"0px",borderLeft:"1px solid ".concat(u.grey[500]),backgroundColor:j?x?"".concat(u.grey[100],"80"):u.grey[200]:"inherit"},children:[Object(r.jsxs)(w.b,{button:!0,onClick:function(){d((function(e){return!e}))},style:{paddingLeft:"0px"},children:[Object(r.jsxs)(l.a,{container:!0,children:[Object(r.jsx)(l.a,{item:!0,xs:6,children:Object(r.jsxs)(y.a,{noWrap:!0,children:[Object(r.jsx)(F,{color:u.grey[500]}),t]})}),Object(r.jsx)(l.a,{item:!0,xs:6,children:Object(r.jsx)(y.a,{noWrap:!0,children:x?Object(r.jsx)(M,{color:u.grey[500],children:"Object"}):String(n)})})]}),Object(r.jsxs)(C.a,{children:[x&&Object(r.jsxs)(r.Fragment,{children:["(",Object.keys(n).length,")"]}),j?Object(r.jsx)(h.a,{}):Object(r.jsx)(O.a,{})]})]}),Object(r.jsx)(b.a,{in:j,children:x?Object.keys(n).length?j&&Object(r.jsx)(I,{data:n,nested:!0}):Object(r.jsx)(w.b,{children:Object(r.jsx)(L,{children:"This Object is empty"})}):Object(r.jsx)(w.b,{children:Object(r.jsxs)(L,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"key: "}),t]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"value: "}),n]})]})})})]})};function V(){var e=Object(s.a)(["\n  background: white;\n  padding: 1em;\n  border-radius: 0.25em;\n"]);return V=function(){return e},e}var K=function(e){var t=e.headers;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h5",{children:"Response headers"}),Object(r.jsx)("pre",{className:"microlight",children:t})]})},H=function(e){var t=e.duration;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h5",{children:"Request duration"}),Object(r.jsxs)("pre",{className:"microlight",children:[t," ms"]})]})},G=x.a.div(V()),Q=function(e){var t=e.response,n=e.getComponent,i=e.getConfigs,s=e.displayRequestDuration,o=e.specSelectors,j=e.path,l=e.method,d=i(),u=d.showMutatedRequest,b=d.requestSnippetsEnabled,h=Object(a.useState)("raw"),O=Object(c.a)(h,2),x=O[0],m=O[1],p=u?o.mutatedRequestFor(j,l):o.requestFor(j,l),v=t.get("status"),f=p.get("url"),g=t.get("headers").toJS(),y=t.get("notDocumented"),k=t.get("error"),w=t.get("text"),C=t.get("duration"),S=Object.keys(g),N=g["content-type"]||g["Content-Type"],R=n("responseBody"),T=n("debugResponse"),_=S.map((function(e){var t=Array.isArray(g[e])?g[e].join():g[e];return Object(r.jsxs)("span",{className:"headerline",children:[" ",e,": ",t," "]},e)})),P=0!==_.length,q=n("Markdown",!0),D=n("RequestSnippets",!0),B=n("curl");return Object(r.jsxs)("div",{children:[p&&(!0===b||"true"===b?Object(r.jsx)(D,{request:p}):Object(r.jsx)(B,{request:p,getConfigs:i})),f&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:"Request URL"}),Object(r.jsx)("div",{className:"request-url",children:Object(r.jsx)("pre",{className:"microlight",children:f})})]}),Object(r.jsx)("h4",{children:"Server response"}),Object(r.jsxs)("table",{className:"responses-table live-responses-table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{className:"responses-header",children:[Object(r.jsx)("td",{className:"col_header response-col_status",children:"Code"}),Object(r.jsx)("td",{className:"col_header response-col_description",children:"Details"})]})}),Object(r.jsx)("tbody",{children:Object(r.jsxs)("tr",{className:"response",children:[Object(r.jsxs)("td",{className:"response-col_status",children:[v,y?Object(r.jsx)("div",{className:"response-undocumented",children:Object(r.jsx)("i",{children:" Undocumented "})}):null]}),Object(r.jsxs)("td",{className:"response-col_description",children:[Object(r.jsxs)("div",{className:"tab-header",children:[Object(r.jsx)("div",{onClick:function(){return m("raw")},className:"tab-item ".concat("raw"===x&&"active"),children:Object(r.jsx)("h4",{className:"opblock-title",children:Object(r.jsx)("span",{children:"Raw"})})}),Object(r.jsx)("div",{onClick:function(){return m("list")},className:"tab-item ".concat("list"===x&&"active"),children:Object(r.jsx)("h4",{className:"opblock-title",children:Object(r.jsx)("span",{children:"List"})})}),Object(r.jsx)("div",{onClick:function(){return m("visual")},className:"tab-item ".concat("visual"===x&&"active"),children:Object(r.jsx)("h4",{className:"opblock-title",children:Object(r.jsx)("span",{children:"Visual"})})})]}),k?Object(r.jsx)(q,{source:"".concat(""!==t.get("name")?"".concat(t.get("name"),": "):"").concat(t.get("message"))}):null,w?Object(r.jsxs)(r.Fragment,{children:["raw"===x&&Object(r.jsx)(R,{content:w,contentType:N,url:f,headers:g,getConfigs:i,getComponent:n}),"visual"===x&&Object(r.jsx)(T,{response:JSON.parse(w)}),"list"===x&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h5",{children:"Response body"}),Object(r.jsx)(G,{children:Object(r.jsx)(I,{data:JSON.parse(w)})})]})]}):null,P?Object(r.jsx)(K,{headers:_}):null,s&&C?Object(r.jsx)(H,{duration:C}):null]})]})})]})]})},X=n(1439),Y=n(1444),Z=n(1445),$=n(1446),ee=n(1447),te=n(1448),ne=function(e,t){if(!e||!t)return"Process is still ongoing";var n=new Date(e),c=new Date(t);return"".concat(Math.floor(c.getTime()-n.getTime())," ms")},ce=function(e){var t=e.routes;return Object(r.jsxs)(f.a,{children:[Object(r.jsx)(g.a,{title:"Routes (List of Pods)",titleTypographyProps:{variant:"subtitle1"}}),t&&(null===t||void 0===t?void 0:t.length)&&Object(r.jsx)(X.a,{children:Object(r.jsxs)(Y.a,{children:[Object(r.jsx)(Z.a,{children:Object(r.jsxs)($.a,{children:[Object(r.jsx)(ee.a,{children:"Pod"}),Object(r.jsx)(ee.a,{children:"Pod Id"}),Object(r.jsx)(ee.a,{children:"Start time"}),Object(r.jsx)(ee.a,{children:"End time"}),Object(r.jsx)(ee.a,{children:"Elapsed Time"})]})}),Object(r.jsx)(te.a,{children:t.map((function(e){var t=e.pod_id,n=e.pod,c=e.start_time,i=e.end_time;return Object(r.jsxs)($.a,{children:[Object(r.jsxs)(ee.a,{children:[" ",n," "]}),Object(r.jsx)(ee.a,{children:t}),Object(r.jsx)(ee.a,{children:c}),Object(r.jsx)(ee.a,{children:i}),Object(r.jsx)(ee.a,{children:ne(c,i)})]},t)}))})]})})]})},re=n(26);function ie(){var e=Object(s.a)(["\n  height: 800px;\n  background: white;\n"]);return ie=function(){return e},e}var se={doc:A,chunk:A,match:A},ae=100,oe=x.a.div(ie()),je=function(e){var t=50;return e.uri&&(t+=300),e.text&&(t+=80),t+50*Object.keys(e).length},le=function(e){var t=Object.values(e||{}).map((function(e){return je(e)}));return Math.max.apply(Math,Object(re.a)(t))},de=function(e,t,n,c,r){return{id:"edge-".concat(e,"-").concat(t),source:e,target:t,animated:n,label:c,labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:r.info.light,color:r.text.primary,fillOpacity:.7},style:{stroke:r.primary.main}}},ue=function(e,t,n,c,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Match";return e.reduce((function(e,s,a){return[].concat(Object(re.a)(e),[{id:s.id,type:"match",data:{name:i,item:s,onScoreClick:r,hasBottom:!1},position:{x:600*a,y:c+ae}},de(s.id,t,!0,"match",n)])}),[])},be=function(e){var t,n,c=e.doc,i=e.onScoreClick,s=Object(v.f)().palette,a=je(c),o=a+((null===c||void 0===c||null===(t=c.chunks)||void 0===t?void 0:t.length)?le((null===c||void 0===c?void 0:c.chunks)||[])+ae:0);null===c||void 0===c||null===(n=c.chunks)||void 0===n||n.forEach((function(e){(null===e||void 0===e?void 0:e.matches)&&(o+=le(e.matches)+ae)}));var j=[{id:"1",type:"doc",hasTop:!1,data:{name:"Document",item:c,onScoreClick:i},position:{x:100,y:25}}].concat(Object(re.a)(c.chunks?function(e,t,n,c){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Chunk",i=le(e),s=n+ae,a=[i];return e.forEach((function(e,t){return a.push(a[t]||i+ae+le(e.matches))})),e.reduce((function(e,n,i){return[].concat(Object(re.a)(e),[{id:n.id,type:"chunk",data:{name:r,item:n,onScoreClick:c},position:{x:600*i+50,y:s}},de(n.id,"1",!1,"chunk",t)],Object(re.a)(n.matches?ue(n.matches,n.id,t,s+a[i],c,"Chunk Match"):[]))}),[])}(c.chunks,s,a,i):[]),Object(re.a)(c.matches?ue(c.matches,"1",s,o,i,"Document Match"):[]));return Object(r.jsx)(oe,{children:Object(r.jsxs)(p.f,{elements:j,nodeTypes:se,children:[Object(r.jsx)(p.a,{variant:p.b.Dots,gap:20,size:.8}),Object(r.jsx)(p.c,{})]})})},he=n(1428),Oe=n(1409);function xe(){var e=Object(s.a)(["\n  height: 100%;\n  overflow-y: auto;\n"]);return xe=function(){return e},e}function me(){var e=Object(s.a)(["\n  position: absolute;\n  top: 1em;\n  right: 1em;\n  height: calc(800px - 2em);\n  width: 300px;\n  background: white;\n  z-index: 10;\n"]);return me=function(){return e},e}var pe=Object(x.a)(f.a)(me()),ve=Object(x.a)(X.a)(xe()),fe=function e(t){var n=t.score,i=t.nested,s=Object(a.useState)(!1),o=Object(c.a)(s,2),j=o[0],d=o[1],x=Object(v.f)().palette,m=n.op_name,p=n.operands,f=n.value,g=n.ref_id,S=n.description;if(!m&&!p&&!f)return Object(r.jsx)(r.Fragment,{});var N=p&&p.length>0;return Object(r.jsxs)("div",{style:{paddingLeft:i?"10px":"0px"},children:[Object(r.jsxs)(w.b,{button:N,onClick:function(){d((function(e){return!e}))},children:[Object(r.jsxs)(l.a,{container:!0,children:[Object(r.jsx)(l.a,{item:!0,xs:4,children:Object(r.jsx)(u.a,{paddingTop:"0.75rem",children:Object(r.jsx)(y.a,{noWrap:!0,fontSize:"1.25rem",children:n.value||"0.12341234"})})}),Object(r.jsx)(l.a,{item:!0,xs:7,children:Object(r.jsxs)(u.a,{children:[Object(r.jsx)(y.a,{noWrap:!0,children:m}),Object(r.jsx)(y.a,{noWrap:!0,color:x.grey[500],children:S})]})})]}),N&&Object(r.jsxs)(C.a,{children:["(",null===p||void 0===p?void 0:p.length,")",j?Object(r.jsx)(h.a,{}):Object(r.jsx)(O.a,{})]})]}),p&&Object(r.jsx)("div",{children:Object(r.jsx)(b.a,{in:j,children:Object(r.jsx)(k.a,{children:p.map((function(t,n){return Object(r.jsx)(e,{score:t,nested:!0},"".concat(n,"-").concat(g))}))})})})]})},ge=function(e){var t=e.score,n=e.close;return Object(r.jsxs)(pe,{elevation:5,children:[Object(r.jsx)(g.a,{action:Object(r.jsx)(he.a,{"aria-label":"close",onClick:n,children:Object(r.jsx)(Oe.a,{})}),title:"Score"}),Object(r.jsx)(ve,{children:Object(r.jsx)(k.a,{children:Object(r.jsx)(fe,{score:t})})})]})},ye=function(e){var t,n,i=e.response,s=Object(a.useState)(null),o=Object(c.a)(s,2),j=o[0],l=o[1],d=Object(a.useState)(!1),b=Object(c.a)(d,2),h=b[0],O=b[1];Object(a.useEffect)((function(){l(null)}),[i]);var x=null!==i&&(null===i||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.docs)||void 0===n?void 0:n.length)>0;return Object(r.jsxs)(f.a,{children:[Object(r.jsx)(g.a,{title:"Documents and matches",titleTypographyProps:{variant:"subtitle1"}}),Object(r.jsx)(X.a,{children:Object(r.jsxs)(u.a,{position:"relative",children:[x&&Object(r.jsx)(be,{doc:i.data.docs[0],onScoreClick:function(e){console.log("on score click: ",e),O(!0),l(e)}}),x&&j&&h&&Object(r.jsx)(ge,{score:j,close:function(){return O(!1)}})]})})]})};function ke(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]);return ke=function(){return e},e}function we(){var e=Object(s.a)(["\n  width: 100%;\n"]);return we=function(){return e},e}var Ce=Object(x.a)(o.a)(we()),Se=Object(x.a)(j.a)(ke()),Ne=function(){return{wrapComponents:{liveResponse:function(e,t){return function(e){return Object(r.jsx)(Q,Object(i.a)({},e))}}},components:{debugResponse:function(e){var t=e.response;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h5",{children:"Response body"}),Object(r.jsxs)(l.a,{container:!0,spacing:2,children:[Object(r.jsx)(l.a,{item:!0,xs:12,children:Object(r.jsx)(ce,{routes:null===t||void 0===t?void 0:t.routes})}),Object(r.jsx)(l.a,{item:!0,xs:12,children:Object(r.jsx)(ye,{response:t})})]})]})}}}};function Re(){var e=new URLSearchParams(window.location.search||window.location.hash.split("?")[1]),t=e.get("host"),n=e.get("port");return t?{host:t,port:n}:function(){var e=window.location;return{host:e.protocol+"//"+e.hostname,port:e.port}}()}function Te(e,t,n){return t?"".concat(e,":").concat(t,"/").concat(n):"".concat(e,"/").concat(n)}t.a=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(Re().host),o=Object(c.a)(s,2),x=o[0],p=o[1],v=Object(a.useState)(Re().port),f=Object(c.a)(v,2),g=f[0],y=f[1],k=Object(a.useState)("openapi.json"),w=Object(c.a)(k,2),C=w[0],S=w[1],N=Object(a.useState)(Te(x,g,C)),R=Object(c.a)(N,2),T=R[0],_=R[1];return Object(r.jsxs)(d.a,{"data-name":"debuggingTool",children:[Object(r.jsx)(u.a,{textAlign:"right",children:Object(r.jsxs)(j.a,{onClick:function(){i((function(e){return!e}))},children:["endpoint settings ",n?Object(r.jsx)(h.a,{}):Object(r.jsx)(O.a,{})]})}),Object(r.jsx)(b.a,{in:n,children:Object(r.jsx)(u.a,{paddingTop:"2.5em",children:Object(r.jsxs)(l.a,{container:!0,spacing:2,children:[Object(r.jsx)(l.a,{item:!0,xs:4,children:Object(r.jsx)(Ce,{label:"Host",variant:"outlined",value:x,onChange:function(e){return p(e.target.value)}})}),Object(r.jsx)(l.a,{item:!0,xs:2,children:Object(r.jsx)(Ce,{label:"Port",variant:"outlined",value:g,onChange:function(e){return y(e.target.value)}})}),Object(r.jsx)(l.a,{item:!0,xs:4,children:Object(r.jsx)(Ce,{label:"OpenAPI Schema",variant:"outlined",value:C,onChange:function(e){return S(e.target.value)}})}),Object(r.jsx)(l.a,{item:!0,xs:2,children:Object(r.jsx)(Se,{onClick:function(){_(Te(x,g,C))},variant:"contained",children:"Set"})})]})})}),Object(r.jsx)(m.a,{url:T,presets:[Ne]})]})}},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(3),r=(n(1),n(1449)),i=function(e){var t=e.children;return Object(c.jsx)(r.a,{children:t})}},285:function(e,t){},286:function(e,t){},53:function(e,t,n){"use strict";n.r(t);var c=n(3),r=(n(1),n(184)),i=n(154);n(291);t.default=function(){return document.title="Jina Debug",Object(c.jsx)(r.a,{children:Object(c.jsx)(i.a,{})})}}}]);