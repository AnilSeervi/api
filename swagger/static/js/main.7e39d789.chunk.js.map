{"version":3,"sources":["helpers/utils.ts","components/Common/SpinningLoader.tsx","apps/Swagger.tsx","apps/Dashboard.tsx","components/Styleguide/ColorsPage.tsx","components/Styleguide/MiscPage.tsx","components/Common/Typography.tsx","components/Styleguide/TypographyPage.tsx","routes/Styleguide.tsx","styles/mediaQuery.ts","apps/Styleguide.tsx","services/config.ts","withTracker.tsx","views/FallbackPage.tsx","helpers/featureSwitch.ts","redux/global/global.selectors.ts","components/Layout/MainNavbar/UserActions.tsx","components/Layout/MainNavbar/MainNavbar.tsx","components/Layout/MainFooter.tsx","components/Common/CookiesBanner.tsx","components/Common/InfoToast.tsx","components/Common/ConnectionToast.tsx","modals/PasteYAML.tsx","modals/WriteReview.tsx","modals/LogDetails.tsx","redux/flows/flows.selectors.ts","modals/NewFlow.tsx","modals/PodEdit.tsx","data/globalArguments.ts","modals/FlowSettings.tsx","services/gatewayClient.ts","modals/QuerySearchModal.tsx","layouts/IconSidebar.tsx","layouts/HubLayout.tsx","layouts/SwaggerLayout.tsx","components/LogStream/levels.ts","redux/logStream/logStream.types.ts","components/LogStream/BarChartBase.tsx","components/Common/MultiFilterSelect.tsx","components/LogStream/LogLevelSummaryChart.tsx","components/LogStream/PieChartBase.tsx","components/LogStream/LogLevelPieChart.tsx","components/LogStream/LogItem.tsx","components/LogStream/LogsTableHeader.tsx","components/Common/ExpandingSearchbar.tsx","components/LogStream/LogGroup.tsx","components/LogStream/LogsTable.tsx","redux/logStream/logStream.selectors.ts","views/LogsView.tsx","components/Task/ElapsedCard.tsx","components/Task/ProgressCard.tsx","components/Task/SpeedCard.tsx","components/Task/BarChartCard.tsx","components/Task/QueriesPerSecond.tsx","redux/task/task.selectors.ts","views/TaskView.tsx","components/Settings/options.ts","components/Settings/FormItem.tsx","redux/settings/settings.selectors.ts","components/Settings/Settings.tsx","redux/settings/settings.actions.ts","views/Settings.tsx","services/hubApi.ts","redux/hub/hub.actions.ts","assets/icons/hub-icon.svg","components/Hub/HubOverviewActionsContainer.tsx","components/Hub/ImageCard.tsx","redux/hub/hub.selectors.ts","components/Hub/HubImagesListPreview.tsx","components/Hub/FilterButton.tsx","components/Hub/HubFilters.tsx","components/Hub/HubSortDropdown.tsx","components/Hub/HubImagesList.tsx","helpers/hubHelpers.ts","components/Hub/HubRecommendedCategories.tsx","views/HubView.tsx","assets/icons/Copy.svg","components/Hub/CodeSnippetWithCopy.tsx","components/Hub/ImageDetails.tsx","components/Hub/Readme.tsx","views/PackageView.tsx","services/github.ts","views/LogIn.tsx","components/Common/HelpCard.tsx","views/NotFound.tsx","views/HomeView.tsx","components/Common/NavigateButton.tsx","data/multiModalExample.ts","services/multiModalScript.ts","components/FlowChart/WorkspaceSelection.tsx","assets/icons/Play.svg","assets/icons/Save.svg","assets/icons/Stop.svg","assets/icons/Upload.svg","assets/icons/Yaml.svg","components/FlowChart/CommandBar.tsx","components/FlowChart/ChartNode.tsx","components/FlowChart/SidebarItem.tsx","data/defaultPods.ts","components/FlowChart/Sidebar.tsx","components/FlowChart/FlowChart.tsx","components/FlowChart/FlowSelection.tsx","views/FlowView.tsx","components/DebuggingTool/RouteTable.tsx","components/DebuggingTool/FlowChartNodes.tsx","components/DebuggingTool/Matches.tsx","components/DebuggingTool/Scores.tsx","components/DebuggingTool/Response.tsx","components/DebuggingTool/CustomLiveResponse.tsx","views/SwaggerView.tsx","routes/Dashboard.tsx","routes/Hub.tsx","routes/Swagger.tsx","theme.ts","redux/settings/settings.constants.ts","redux/logStream/logStream.actions.ts","logger.ts","components/Layout/MainSidebar/SidebarMainNavbar.tsx","components/Layout/MainSidebar/SidebarNavItem.tsx","components/Layout/MainSidebar/SidebarNavItems.tsx","components/Layout/MainSidebar/MainSidebar.tsx","services/jinaApi.ts","redux/global/global.actions.ts","redux/flows/flows.constants.ts","redux/flows/flows.actions.ts","data/exampleData.ts","redux/flows/flows.reducer.ts","helpers/typeCheckers.ts","redux/hub/hub.reducer.ts","redux/settings/settings.reducer.ts","redux/logStream/logStream.reducer.ts","redux/global/global.reducer.ts","redux/task/task.constants.ts","redux/task/task.reducer.ts","redux/index.ts","redux/global/global.constants.ts","helpers/serialise.ts","helpers/transform-log.ts","index.tsx","services/jinad.ts","settings.ts","components/Common/PageTitle.tsx","apps/Hub.tsx","redux/hub/hub.constants.ts","helpers/flow-chart.ts","redux/flows/flows.types.ts","helpers/format.ts","redux/logStream/logStream.constants.ts"],"names":["copyToClipboard","str","temp","document","createElement","value","body","appendChild","select","execCommand","removeChild","timeout","ms","Promise","resolve","setTimeout","newVersionLocalStorageReset","version","localVersion","localStorage","setItem","versionList","split","localVersionList","majorVersion","parseInt","majorLocalVersion","minorVersion","minorLocalVersion","patchVersion","patchLocalVersion","clear","window","location","reload","rotate","keyframes","Spinner","styled","div","props","primary","theme","palette","main","background","default","InnerSpinner","rotateAndHide","OuterSpinner","SpinnerContainer","SpinningLoader","Swagger","title","basename","routes","map","route","index","path","exact","component","withTracker","layout","FallbackComponent","FallbackPage","Dashboard","idx","ColorsPage","colorCategories","paletteColorFiltered","Object","entries","filter","category","includes","PageTitle","className","gradiations","gradiation","color","key","css","grey","text","MiscPage","useTheme","headerTextColor","Title","h2","Paragraph","p","TypographyPage","styleGuideRoutes","to","matches","breakPoints","xs","sm","md","lg","xl","xxl","mediaQueries","keys","reduce","acc","breakPoint","Container","Aside","aside","Content","article","Styleguide","MainSidebar","sidebarNavItems","menuVisible","toggleSidebar","children","from","TIMEOUT","FLOW_RETRIES","FLOW_RETRY_TIMEOUT","GoogleAnalytics","initialize","process","REACT_APP_GAID","testMode","debug","WrappedComponent","options","trackPage","page","set","pageview","BASENAME","REACT_APP_BASENAME","HOC","this","pathname","search","prevProps","currentPage","nextPage","React","Component","error","resetErrorBoundary","fluid","noGutters","subtitle","message","onClick","isFeatureEnabled","feature","featureFlags","environmentVariables","fromEntries","envVariableName","startsWith","envVariableValue","replace","getFeatureFlags","Boolean","selectMenuState","state","globalState","selectSidebarItems","navItems","navItem","selectUser","user","selectBanners","banners","selectModal","modal","selectModalParams","modalParams","selectConnectionStatus","connected","selectLoading","loading","UserActions","logOut","userActionsVisible","toggleUserActions","useSelector","dispatch","useDispatch","useState","anchorEl","setAnchorEl","handleMenu","href","IconButton","data-name","aria-controls","aria-haspopup","event","currentTarget","Avatar","src","_json","avatar_url","alt","AccountCircle","Menu","id","keepMounted","open","onClose","MenuItem","NavigationItems","MainNavbar","usesConnection","reconnect","AppBar","position","elevation","Toolbar","style","green","red","logout","MainFooter","menuItems","copyright","loggerEnabled","enableLogger","disableLogger","exportLogs","item","defaultProps","contained","CookiesBanner","acceptCookies","Button","InfoToast","data","icon","cssProperties","bottom","String","Toast","Header","closeButton","Body","ConnectionToast","Row","Col","target","rel","variant","overlay","backgroundColor","content","border","maxHeight","left","padding","right","top","transform","width","maxWidth","overflow","PasteYAML","inputRef","closeModal","importYAML","ariaHideApp","isOpen","contentLabel","shouldCloseOnOverlayClick","onRequestClose","closeTimeoutMS","Form","Group","Label","Control","placeholder","ref","as","rows","WriteReviewModal","submitReview","hiddenKeys","LogDetails","log","JSON","stringify","selectSelectedFlow","selectedFlowId","flowState","workspaces","selectedWorkspaceId","flows","selectFlowsOfSelectedWorkspace","_","pickBy","flow","workspaceId","selectWorkspaces","selectFlowArguments","flowArguments","selectExampleFlowsKeyEntryPairs","workspaceFlows","flowKeyEntryPair","type","selectSelectedFlowId","selectSelectedWorkspaceId","CloseModal","CreateOptionsContainer","CreateOption","CreateOptionAdd","fontSize","marginBottom","OptionName","span","NewFlow","exampleFlowsKeyEntryPairs","handleAction","action","yaml","showModal","duplicateFlow","createNewFlow","exampleFlowsKeyEntryPair","name","display","alignItems","justifyContent","PodEditContainer","Header1","header","Header2","PropertyTable","Input","input","DeleteButton","PodEditComponent","nodeId","flowChart","node","elements","find","element","searchQuery","setSearchQuery","pod","filteredArguments","setFilteredArguments","useEffect","results","argument","toLowerCase","_updateNodeProp","nodePropertiesUpdate","updateNodeData","label","logger","onChange","e","nodeUpdate","_updateLabel","toggle","checked","deleteNode","globalArguments","rest_api","description","port_expose","FlowSettingsContainer","PropertyItem","CheckBoxWrapper","CheckBoxLabel","CheckBox","SwitchInput","setChecked","htmlFor","FlowSettingsComponent","flowId","_updateFlowWith","flowUpdate","with","updateSelectedFlow","_updateFlowName","values","toString","deleteFlow","gatewayInstance","axios","create","gatewayClient","connect","settings","callback","a","baseURL","gatewayHost","gatewayPort","defaults","get","status","searchRequest","post","top_k","mode","result","indexRequest","QuerySearchModal","searchText","setSearchText","indexText","setIndexText","setResult","searchResult","indexResult","store","getState","settingsState","handleGatewayConnectionStatus","IconSidebarLayout","isEnabled","getItem","acceptedCookies","setAcceptedCookies","_closeModal","connectJinaD","_toggleSidebar","usesAuth","navigateButton","tag","banner","enable","storeCopy","showBanner","disable","yamlString","importFlow","WriteReview","PodEdit","FlowSettings","HubLayout","hideSidebarToggle","showLogo","displayName","emails","photos","profileUrl","provider","username","_raw","SwaggerLayout","getLevelPalette","colorPalette","INFO","borderColor","info","SUCCESS","success","WARNING","warning","ERROR","CRITICAL","dark","DEBUG","LEVELS","getParsedDatasets","levelPalette","level","levelData","tick","levels","barPercentage","categoryPercentage","fill","getLabels","amount","labels","i","push","ChartBase","height","numTicks","timeLabels","canvasRef","useRef","chartInstance","setChartInstance","onClickChart","activePoints","getElementsAtEvent","getXAxisLabel","useCallback","Math","floor","length","getYAxisLabel","Number","isInteger","ChartLegend","current","chartOptions","animation","duration","events","maintainAspectRatio","responsive","legend","tooltips","enabled","point","radius","hitRadius","scales","xAxes","stacked","ticks","maxRotation","autoSkip","gridLines","zeroLineColor","yAxes","scaleLabel","borderDash","drawBorder","suggestedMin","maxTicksLimit","chartConfig","datasets","newChartInstance","ChartElement","chartData","update","customStyles","dropdownIndicator","styles","indicatorSeparator","opacity","container","provided","selectProps","option","cursor","control","MultiFilterSelect","isMulti","isSearchable","clearAfter","onFilterChange","rest","undefined","val","Array","isArray","readOnly","LogLevelSummaryChart","numSeconds","showLog","setTimeSelection","timeOptions","selectedTime","Card","PieChartBase","getColor","names","borderWidth","boxWidth","LogLevelPieChart","LogItem","memo","columns","items","showLogDetails","logData","formattedTimestamp","logName","substring","levelInitial","firstCol","secondCol","thirdCol","textOverflow","whiteSpace","paddingRight","marginRight","areEqual","LogsTableHeader","ExpandingSearchbar","onSearch","SearchBar","InputBase","autoFocus","defaultValue","onKeyPress","_icons","pending","failed","CountSummary","numItems","StatusIcon","k","getStatusFromLevels","ExpandController","expanded","LogGroup","group","setExpanded","prev","Collapse","in","VIEW_PREFERENCE_NAME","saveOptions","viewOptions","table","getInitialView","preference","getUserViewPreference","_lastNumLogs","_searchIndex","FlexSearch","doc","field","saveLogData","format","filename","Date","generateFileName","saveAs","serializeLogsToCSVBlob","serializeLogsToJSONBlob","serializeLogsToTextBlob","itemKey","arrayLikeToArray","arrayLike","toOption","list","LogsList","small","listRef","scrolledToBottom","setScrolledToBottom","scrollToItem","onScroll","scrollOffset","itemCount","itemSize","itemData","GroupedLogs","groupedData","grouping","LogsTable","currentView","setCurrentView","selectedSources","setSelectedSources","selectedLevels","setSelectedLevels","searchResults","setSearchResults","searchString","setSearchString","newData","slice","add","setView","view","unfiltered","sources","curr","Set","resultData","filters","podNames","forEach","podName","countBy","levelItem","selectLogs","logStreamState","logs","selectLogLevels","logLevels","selectLogLevelOccurrences","logLevelOccurrences","TIME_PREFERENCE_NAME","chartLabels","getInitialTimeSelection","getUserTimePreference","LogsView","setSelectedTime","getLogLevelCharts","logLevelCharts","setLogLevelCharts","currentDate","newCharts","timeSelection","_index","lastLog","showLogAtIndex","time","ElapsedCard","elapsed","task_name","seconds","ProgressCard","progress","hoverBorderColor","cutoutPercentage","percent","num_bars","bar_len","currentRequest","SpeedCard","speed","history","maxValue","max","minValue","min","getChartOptions","difference","line","tension","suggestedMax","getChartConfig","newChartData","unit","BarChartCard","currentTab","setCurrentTab","callbacks","tooltipItem","xLabel","datasetIndex","formatBytes","afterLabel","toFixed","d","sent","pointBackgroundColor","pointHoverBackgroundColor","received","getChartData","newOptions","active","QueriesPerSecondCard","qps","selectTaskData","taskState","taskData","TaskView","QueriesPerSecond","messages","bytes","lastUpdate","lastUpdateChart","baseOptions","advancedOptions","FormItem","colSpan","replaceAll","selectSettings","SettingsCard","updates","setUpdates","changeSetting","setting","newUpdates","form","aria-expanded","UPDATE_SETTINGS","payload","updateSettings","SettingsView","render","Settings","getHubImages","HUB_API_ENDPOINT","params","paramsSerializer","serializeQueryParams","response","getDocumentationHTML","url","rawMarkdownURL","getRawMarkdownURL","rawMarkdownResponse","HTMLResponse","queryString","arrayFormat","skipNull","defaultParams","kind","keywords","fetchHubImages","FETCH_HUB_IMAGES","images","fetchHubImagesSuccess","fetchHubImagesFailure","FETCH_HUB_IMAGES_SUCCESS","FETCH_HUB_IMAGES_FAILURE","HubOverviewActionCard","light","HubOverviewActionCardContent","HubOverviewTitle","h6","HubIcon","img","HubOverviewDescription","HubOverviewButtonsContainer","PrimaryActionButton","SecondaryActionButton","HubOverviewActionsContainer","useHistory","disableElevation","hubIconSource","ImageCardContainer","Tag","filterColorIndex","filterPalette","contrastText","ImageTitle","ImageLink","Link","ImageDescription","ImageCard","image","keyword","capitalizeFirstLetter","tagsToHide","Libraries","Language","selectHubFilters","filterKey","applicableFilters","hubState","filterLabel","filterValue","selected","selectedFilters","count","getImagesCountForFilter","f","selectHubImages","selectIsHubImagesLoading","selectHubImagesFetchError","SubTitle","ImageListPreviewContainer","HubImagesListPreview","hubImages","isHubImagesLoading","Grid","spacing","ToggleButton","filterCategoryIndex","FilterButton","handleFilterChange","setSelected","disabled","getSelectedFilters","getCheckedFilterValues","FiltersTitle","FilterTitleContainer","ClearButton","FiltersContainer","HubFilters","setFilters","PICK_FILTER","handleClearFilters","v","CLEAR_FILTERS","clearFilters","SortSelect","Select","SortLabel","InputLabel","HubSortDropdown","selectedSortOption","sortOptions","handleSortOption","FormControl","shrink","sortOption","HubLibraryGrid","HubLibraryHeaderGrid","FilterContainerGrid","ImagesContainerGrid","ImagesBarGrid","EmptyResultMessage","h3","HubImagesList","imageFilters","hubImagesFetchError","setSelectedSortOption","sort","imageA","imageB","sortHubImagesNamesIncreasing","sortHubImagesNamesDecreasing","author","sortHubImagesAuthorsIncreasing","sortHubImagesAuthorsDecreasing","sortHubImages","margin","fontWeight","recommendedCategories","TextIcon","ImageIcon","VideoIcon","AudioIcon","CardWithOutline","RecommendedCategoryItem","CategoryLabel","HubRecommendedCategories","HubView","useRouteMatch","CodeContainer","CodeSnippetContainer","CopyIcon","CodeSnippetWithCopy","codeSnippet","openFeedback","setOpenFeedback","size","aria-label","Copy","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","DetailCard","SectionHeading","DetailsSection","getUsageInFlow","dockerName","getPythonUsage","ImageDetails","platform","dockerCommand","CardContent","ReadmeContainer","secondary","ReadMe","documentation","readme","setReadme","readmeHTML","dangerouslySetInnerHTML","__html","ImageContainer","NavigationButton","PackageView","packageId","useParams","goBack","code","_getAccessToken","lambdaUrl","showError","_getUserInfo","access_token","accessToken","config","headers","Authorization","gitHubApi","login","email","setUser","Login","parse","loginGithub","HelpCard","link","dataName","NotFound","GridItem","HomeView","console","x","y","w","h","cols","rowHeight","NavigationLink","NavigateButton","configDataList","configUrl","indexFlow","queryFlow","indexData","FIELD4","FIELD5","FIELD6","multiModalScript","configFiles","fileName","responseType","file","File","jinadClient","createWorkspace","workspaceResult","startFlow","workspace","flow_id","dataEntry","caption","terminateFlow","FALLBACK_WORKSPACE_NAME","ConnectionIndicator","show","TitleConnectionIndicator","Delete","WorkspaceSelection","WorkspaceSelectionMenu","SelectedWorkspaceHeader","WorkspaceTab","WorkspaceTabOverflowHider","bodyBackground","WorkspaceHeader","SubHeader","AddButton","FilesList","FileItem","FileIcon","userWorkspaces","exampleWorkspaces","currentWorkspace","FilesListComponent","createNewWorkspace","loadWorkspace","deleteWorkspace","ButtonGroup","button","PlayButton","CommandBar","stopFlow","importChart","copyChart","exportImage","saveButtonFunction","Play","Stop","Save","Upload","marginLeft","marginTop","Yaml","NodePort","portDataLabel","NodePortTop","Handle","NodePortBottom","Position","Bottom","Top","ChartNode","flowType","ChartNodeElement","onDoubleClick","SidebarItem","draggable","onDragStart","nanoid","dataString","dataTransfer","setData","effectAllowed","dedaultPods","yaml_path","parallel","read_only","timeout_ready","separated_workspace","ReadOnly","PodMenu","defaultPods","FlowChartSidebar","readonly","nodeTypes","FlowChart","reactFlowInstance","setReactFlowInstance","reactFlowWrapper","defaultPosition","defaultZoom","onConnect","source","addLink","onElementsRemove","isFlowEdge","deleteLink","isFlowNode","onLoad","_reactFlowInstance","onDrop","preventDefault","reactFlowBounds","getBoundingClientRect","DOMRect","getData","project","clientX","clientY","addNode","onDragOver","dropEffect","onNodeDragStop","updateNode","nodesDraggable","gap","FlowSelection","TabsContainer","Tab","loadFlow","FlowViewContainer","getElapsedTime","startTime","endTime","startDate","endDate","getTime","RoutesTable","CardHeader","titleTypographyProps","Table","TableHead","TableRow","TableCell","TableBody","pod_id","start_time","end_time","NodeImagePreview","VideoContainer","video","NodeBigText","ListMarker","WrappedText","LightText","NodeVideoPreview","controls","NodeAudioPreview","NodeMediaPreview","uri","mime_type","mimeTypeFromDataURI","isDragging","onScoreClick","hasTop","hasBottom","parentId","parent_id","score","itemId","subheader","paddingBottom","Box","paddingTop","Typography","gutterBottom","textAlign","PropertyList","nested","List","disablePadding","dense","itemValue","PropertyListItem","setShow","isObject","borderLeft","ListItem","paddingLeft","noWrap","ListItemSecondaryAction","ExpandLess","ExpandMore","chunk","match","VERTICAL_SPACE","FlowContainer","calculateItemHeight","calculateMaxItemHeight","heights","getEdge","animated","labelBgPadding","labelBgBorderRadius","labelBgStyle","fillOpacity","stroke","getMatchNodes","startingHeight","Matches","docHeight","matchesOffset","chunks","tallestChunk","initialOffset","offsets","getChunkNodes","BackgroundVariant","Dots","ScoresCard","ScoresCardContent","Scores","op_name","operands","ref_id","canToggle","operand","ScoresSidebar","close","Response","setScore","showScore","setShowScore","hasResponse","docs","Headers","Duration","ListContainer","LiveResponse","getComponent","getConfigs","displayRequestDuration","specSelectors","method","showMutatedRequest","requestSnippetsEnabled","curlRequest","mutatedRequestFor","requestFor","toJS","notDocumented","isError","headersKeys","contentType","RawResponse","CustomResponse","returnObject","joinedHeaders","join","hasHeaders","Markdown","RequestSnippets","Curl","request","TextInput","TextField","FullSizeButton","WrappedComponents","wrapComponents","liveResponse","Original","system","components","debugResponse","getInitialHostAndPort","searchParams","URLSearchParams","host","port","protocol","hostname","getHostAndPortFromLocation","formatURL","endpoint","SwaggerView","setHost","setPort","setEndpoint","setURL","presets","dashboardRoutes","IconSidebar","copyChartAsYAML","formatAsYAML","alert","showOverlay","setShowOverlay","showCaptureOverlay","extension","chartContainer","querySelector","captureOverlay","classList","canvasParams","foreignObjectRendering","logging","scrollX","scrollY","scale","html2canvas","then","canvas","toDataURL","getElementById","setAttribute","click","Sidebar","arguments","flowYAML","deleteSelection","LogIn","hubRoutes","swaggerRoutes","PERSIAN_GREEN","GOLDEN_TANOI","CANCRO","ARIEL_SCALE","createTheme","paper","disabledBackground","100","200","300","400","600","700","intialSettings","jinadHost","jinadPort","profile","shutdown","ready","logIndex","SHOW_LOG_INDEX","handleNewLog","HANDLE_NEW_LOG","initLogStream","workspace_id","handleConnection","handleLog","waitForFlow","flowResult","getLogs","logsResult","listenForLogs","handleErrorMessage","msg","pushLog","arg","logsEnabled","args","_navigator","navigator","addEventListener","removeEventListener","setFormat","logsFormat","blob","Blob","SidebarMainNavbar","lineHeight","SidebarNavItem","useLocation","RouteNavLink","iconName","SidebarNavItems","classes","classNames","getJinaFlowArguments","JINA_API_ENDPOINT","parseFlowMethodOption","methods","m","pea","typeMap","bool","int","help","itemType","handleJinadConnectionStatus","_handleConnectionStatus","FETCH_ARGUMENTS_FROM_DAEMON","setFlowArguments","FETCH_ARGUMENTS_FROM_API","HANDLE_CONNECTION_STATUS","TOGGLE_SIDE_BAR","SHOW_BANNER","_showBanner","HIDE_BANNER","HIDE_BANNER_TIMEOUT","SHOW_ERROR","SHOW_MODAL","CLOSE_MODAL","LOGOUT","SETUSER","LOAD_FLOW","CREATE_NEW_FLOW","UPDATE_SELECTED_FLOW","DUPLICATE_FLOW","ADD_NODE","DELETE_FLOW","UPDATE_NODE","UPDATE_NODE_DATA","DELETE_NODE","ADD_LINK","DELETE_LINK","IMPORT_FLOW","SET_FLOW_ARGUMENTS","LOAD_WORKSPACE","CREATE_NEW_WORKSPACE","UPDATE_SELECTED_WORKSPACE","DELETE_WORKSPACE","initialFlowChart","defaultSelectedWorkspaceId","defaultSelectedFlowId","defaultJinaVersion","defaultFlowArguments","defaultFlow","_userFlow","isConnected","daemon_id","defaultFlows","defaultWorkspaces","_userWorkspace","jina_version","daemon_endpoint","files","deleteLinkProps","nodeDataUpdate","initNetworkFlow","getFlow","workspaceUpdate","example_workspace_pokedex","example_workspace_flower","example_workspace_southpark","example_workspace_test","exampleFlows","example_flow_pokedex","example_flow_flower","example_flow_southpark","blankFlow","getUserFlows","storedFlows","userFlows","isEmpty","getExampleFlows","parsed","parseYAML","formatted","formatForFlowchart","getExampleWorkspaces","initialState","storedWorkspaces","getUserWorkspaces","_createNewFlow","draft","customYAML","prefixString","userFlowNumbers","userFlow","b","largestNumber","flowReducer","produce","omit","firstFlowId","newFlowId","selectedFlow","oldNodeIndex","findIndex","oldNode","newNode","createNode","withoutLinksAndNode","newLink","createEdge","linkId","userWorkspaceNumbers","userWorkspace","_createNewWorkspace","selectedWorkspace","nonExampleWorkspaces","idFirstNonExampleWorkspace","cloneDeep","toSave","saveFlowsToStorage","saveWorkspacesToStorage","hubReducer","xor","selectedFilter","initialHubState","settingsReducer","logStreamReducer","rawLog","transformLog","unixTime","newLogSourceValue","logSources","newLogLevelValue","newLogLevelOccurrence","getInitialLogLevel","_handleNewLog","intialLogStreamState","globalReducer","shift","processes","removeItem","getInitialGlobalState","initialTaskState","taskReducer","taskEvent","speed_unit","bytes_recv","bytes_sent","msg_recv","msg_sent","num_reqs","obj","indexOf","msgData","bytesData","parseFloat","formatSeconds","_handleNewTaskEvent","rootReducer","combineReducers","createStore","composeWithDevTools","applyMiddleware","thunk","userString","toBlob","uptime","context","workspace_path","serializeLogsToCSV","fileContent","serializeLogsToJSON","serializeLogsToText","timestamp","valueOf","toLocaleString","App","require","REACT_APP_TARGET","NODE_ENV","Hub","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","ReactDOM","Cypress","jinadInstance","statusResult","jina","parseDaemonFlowMethodOptions","podResult","peaResult","getDaemonStatus","daemonStatus","getWorkspaces","formData","FormData","append","delete","deleteAllWorkspaces","getArgumentsForFlow","terminateAllFlows","numRetries","retryTimeout","origin","socket","WebSocket","send","getArgumentsForPod","getPod","podId","startPod","podArgs","terminatePod","terminateAllPods","getArgumentsForPea","getPea","peaId","startPea","peaArgs","terminatePea","terminateAllPeas","string","boolean","integer","array","nodeOffset","isEdge","isNode","prevNode","pods","board","nodes","links","podMap","gateway","needs","parent","depthPopulation","offsetX","offsetY","depth","getNodeDepth","parents","parentDepthList","CustomDataObject","customData","dataURI","yamlSTR","yamlStrWithoutTag","test","YAML","Error","chart","chartWith","flowEdges","podArguments","childParentsMap","child","arr","podProperties","argName","propValue","possibleArguments","decodePropValue","output","minute","hour","numBytes","MAX_CHART_TICKS","emptyItem","step","currentInterval","ceil","now","j","occurrence","logEntry","lastTimestamp","word","charAt","toUpperCase"],"mappings":"oHAAA,sGAAO,IAAMA,EAAkB,SAACC,GAC9B,IAAMC,EAAOC,SAASC,cAAc,YACpCF,EAAKG,MAAQJ,EACbE,SAASG,KAAKC,YAAYL,GAC1BA,EAAKM,SACLL,SAASM,YAAY,QACrBN,SAASG,KAAKI,YAAYR,IAIfS,EAAU,SAACC,GACtB,OAAO,IAAIC,SAAQ,SAACC,GAAD,OAAaC,WAAWD,EAASF,OAGzCI,EAA8B,SACzCC,EACAC,GAEA,GAAqB,OAAjBA,EAAuBC,aAAaC,QAAQ,UAAWH,OACtD,CACH,IAAMI,EAAcJ,EAAQK,MAAM,KAC5BC,EAAmBL,EAAaI,MAAM,KACtCE,EAAeC,SAASJ,EAAY,IACpCK,EAAoBD,SAASF,EAAiB,IAC9CI,EAAeF,SAASJ,EAAY,IACpCO,EAAoBH,SAASF,EAAiB,IAC9CM,EAAeJ,SAASJ,EAAY,IACpCS,EAAoBL,SAASF,EAAiB,KAElDG,EAAoBF,GACpBI,EAAoBD,GACpBG,EAAoBD,KAEpBV,aAAaY,QACbC,OAAOC,SAASC,a,okCC7BtB,IAAMC,EAASC,YAAH,KAKNC,EAAUC,IAAOC,IAAV,KAGK,SAACC,GACf,IAAIC,EAAUD,EAAME,MAAMC,QAAQF,QAAQG,KACtCC,EAAaL,EAAME,MAAMC,QAAQE,WAAWC,QAChD,MAAM,GAAN,OAAUL,EAAV,YAAqBI,EAArB,YAAmCJ,EAAnC,YAA8CI,MAG5CE,EAAeT,YAAOD,EAAPC,CAAH,IAIHH,GAETa,EAAgBZ,YAAH,KAQba,EAAeX,YAAOD,EAAPC,CAAH,IAQHU,GAETE,EAAmBZ,IAAOC,IAAV,KAePY,IARQ,kBACrB,YAACD,EAAD,KACE,YAACD,EAAD,KACE,YAACF,EAAD,U,yNCzCAK,EAAU,WAEd,OADAjD,SAASkD,MAAQ,aAEf,cAAC,IAAD,CAAQC,SAAU,IAAlB,SACE,8BACGC,IAAOC,KAAI,SAACC,EAAqBC,GAChC,OACE,cAAC,IAAD,CAEEC,KAAMF,EAAME,KACZC,MAAOH,EAAMG,MACbC,UAAWC,aAAY,SAACtB,GACtB,OACE,cAACiB,EAAMM,OAAP,uCAAkBvB,GAAWiB,EAAMjB,OAAnC,aACE,cAAC,gBAAD,CAAewB,kBAAmBC,IAAlC,SACE,cAACR,EAAMI,UAAP,eAAqBrB,aAPxBkB,Y,iKCZbQ,EAAY,WAEhB,OADA/D,SAASkD,MAAQ,iBAEf,cAAC,IAAD,CAAQC,SAAU,IAAlB,SACE,8BACGC,IAAOC,KAAI,SAACC,EAAOU,GAClB,OACE,cAAC,IAAD,CAEER,KAAMF,EAAME,KACZC,MAAOH,EAAMG,MACbC,UAAWC,aAAY,SAACtB,GACtB,OACE,cAACiB,EAAMM,OAAP,uCAAkBvB,GAAWiB,EAAMjB,OAAnC,aACE,cAAC,gBAAD,CAAewB,kBAAmBC,IAAlC,SACE,cAACR,EAAMI,UAAP,eAAqBrB,WAI1B,KAZL,UACUiB,EAAME,KADhB,YACwBQ,a,mkBCVpC,IAqDeC,EArDI,WAAO,IAChBzB,EAAYD,IAAZC,QACF0B,EAAkB,CACtB,UACA,YACA,aACA,SACA,OACA,QACA,UACA,UACA,OACA,QAGIC,EAAuBC,OAAOC,QAClC7B,GACA8B,QAAO,mCAAEC,EAAF,iBAA6BL,EAAgBM,SAASD,MAE/D,OACE,uBACE,YAACE,EAAA,EAAD,CAAWvB,MAAO,SAAUwB,UAAW,KACtCP,EAAqBd,KAAI,YAA8B,IAAD,mBAA3BkB,EAA2B,KAAjBI,EAAiB,KACrD,OACE,uBACE,sBAAKJ,GACJH,OAAOC,QAAQM,GAAatB,KAAI,mCAAEuB,EAAF,KAAcC,EAAd,YAC/B,mBACEC,IAAKD,EACLE,IAAKA,YAAF,IAEmBF,IAGtB,oBACEE,IAAKA,YAAF,IACmBvC,EAAQwC,KAAK,KACxBxC,EAAQyC,KAAK3C,UAKvBsC,a,gJC1CnB,IAkBeM,EAlBE,WAAO,IACd1C,EAAY2C,cAAZ3C,QACR,OACE,uBACE,YAACiC,EAAA,EAAD,CAAWvB,MAAO,OAAQwB,UAAW,KACrC,oBACEK,IAAKA,YAAF,IACQvC,EAAQ4C,kBAFrB,mBAQA,YAACpC,EAAA,EAAD,Q,2PCjBC,IAAMqC,EAAQlD,IAAOmD,GAAV,KACP,SAACjD,GAAD,OAAWA,EAAME,MAAMC,QAAQyC,KAAK3C,WAKlCiD,EAAYpD,IAAOqD,EAAV,KACX,SAACnD,GAAD,OAAWA,EAAME,MAAMC,QAAQyC,KAAK3C,WCOhCmD,EAVQ,WACrB,OACE,uBACE,YAAChB,EAAA,EAAD,CAAWvB,MAAO,aAAcwB,UAAW,KAC3C,YAACW,EAAD,gBACA,YAACE,EAAD,0DCPOG,EAAmB,CAC9B,CACExC,MAAO,SACPyC,GAAI,UACJlC,OAAO,EACPC,UAAW,kBAAM,cAAC,EAAD,KACjBkC,QAAS,IAEX,CACE1C,MAAO,aACPyC,GAAI,cACJjC,UAAW,kBAAM,cAAC,EAAD,KACjBkC,QAAS,IAEX,CACE1C,MAAO,OACPyC,GAAI,QACJjC,UAAW,kBAAM,cAAC,EAAD,KACjBkC,QAAS,K,gBCtBPC,EAA6B,CACjCC,GAAI,EACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,IAAK,MAQDC,EAA8BhC,OAAOiC,KAAKR,GAAaS,QAC3D,SAACC,EAAKC,GAAN,mBAAC,eACID,GADL,kBAEGC,EAFH,6BAGIX,EAAYW,GAHhB,WAMA,I,ySCRF,IAAMC,EAAYtE,IAAOC,IAAV,KAGTsE,EAAQvE,IAAOwE,MAAV,IDSTP,ECPa,OAITQ,EAAUzE,IAAO0E,QAAV,KAIPC,EAAa,WACjB,OACE,8BACE,eAAC,IAAD,WACE,eAACL,EAAD,WACE,cAACC,EAAD,UACE,cAACK,EAAA,EAAD,CACEC,gBAAiBtB,EACjBuB,aAAa,EACbC,cAAe,iBAInB,cAACN,EAAD,UACE,cAAC,IAAD,UACGlB,EAAiBrC,KAAI,SAACC,EAAOC,GAAR,OACpB,cAAC,IAAD,CAEEC,KAAMF,EAAMqC,GACZlC,MAAOH,EAAMG,MACb0D,SAAU,cAAC7D,EAAMI,UAAP,KAHLH,aASf,cAAC,IAAD,CAAUE,OAAK,EAAC2D,KAAK,IAAIzB,GAAID,EAAiB,GAAGC,Y,iCCpDzD,sGAAO,IAAM0B,EAAU,IACVC,EAAe,GACfC,EAAqB,K,iHCClCC,IAAgBC,WAAWC,8kBAAYC,gBAAkB,iBAAkB,CACzEC,UAAUF,EACVG,OAAOH,IAkDM/D,IA/CK,SAClBmE,GAE4B,IAD5BC,EAC2B,uDADjB,GAEJC,EAAY,SAACC,GAOjBT,IAAgBU,IAAhB,aACED,QACGF,IAELP,IAAgBW,SAASF,IAGrBG,EAAWV,8kBAAYW,oBAAsB,GAI7CC,EAAG,kLAGL,IAAML,EAAOM,KAAKlG,MAAMP,SAAS0G,SAAWD,KAAKlG,MAAMP,SAAS2G,OAChET,EAAU,GAAD,OAAII,GAAJ,OAAeH,MAJnB,yCAOYS,GACjB,IAAMC,EACJD,EAAU5G,SAAS0G,SAAWE,EAAU5G,SAAS2G,OAC7CG,EAAWL,KAAKlG,MAAMP,SAAS0G,SAAWD,KAAKlG,MAAMP,SAAS2G,OAEhEE,IAAgBC,GAClBZ,EAAU,GAAD,OAAII,GAAJ,OAAeQ,MAbrB,+BAkBL,OAAO,cAACd,EAAD,eAAsBS,KAAKlG,YAlB7B,GAAiBwG,IAAMC,WAsBhC,OAAQR,I,iIC9CV,SAASxE,EAAT,GAAqE,IAA7CiF,EAA4C,EAA5CA,MAAOC,EAAqC,EAArCA,mBAC7B,OACE,eAAC,IAAD,CAAWC,OAAK,EAACvE,UAAU,6BAA3B,UACE,cAAC,IAAD,CAAKwE,WAAS,EAACxE,UAAU,mBAAzB,SACE,cAAC,IAAD,CACExB,MAAM,QACNiG,SAAS,gCACTzE,UAAU,wBAGd,cAAC,IAAD,CAAKwE,WAAS,EAACxE,UAAU,mBAAzB,SACE,eAAC,IAAD,CAAKoB,GAAG,KAAKC,GAAG,IAAhB,UACE,sDACA,8BACE,sBAAMrB,UAAU,eAAhB,SAAgCqE,EAAOK,iBAI7C,cAAC,IAAD,CAAKF,WAAS,EAACxE,UAAU,cAAzB,SACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAQ2E,QAASL,EAAjB,gC,2MCXGM,EAAmB,SAACC,GAK/B,IACMC,EAnBuB,SAACC,GAC9B,OAAOrF,OAAOsF,YACZtF,OAAOC,QAAQoF,GACZnF,QAAO,mCAAEqF,EAAF,iBACNA,EAAgBC,WAAW,wBAE5BvG,KAAI,mCAAEsG,EAAF,KAAmBE,EAAnB,WAAyC,CAC5CF,EAAgBG,QAAQ,qBAAsB,IACzB,YAArBD,OAWeE,CADQrC,+kBAE7B,OAAOsC,QAAQR,EAAaD,KCjBjBU,EAAkB,SAACC,GAAD,OAAkBA,EAAMC,YAAYlD,aAGtDmD,EAAqB,SAACF,GAAD,OAChCZ,EAAiB,kBACbY,EAAMC,YAAYE,SAClBH,EAAMC,YAAYE,SAAS/F,QAAO,SAACgG,GAAD,MAA+B,UAAlBA,EAAQpH,UAIhDqH,EAAa,SAACL,GAAD,OAAkBA,EAAMC,YAAYK,MAEjDC,EAAgB,SAACP,GAAD,OAAkBA,EAAMC,YAAYO,SAEpDC,EAAc,SAACT,GAAD,OAAkBA,EAAMC,YAAYS,OAElDC,EAAoB,SAACX,GAAD,OAAkBA,EAAMC,YAAYW,aAExDC,EAAyB,SAACb,GAAD,OACpCA,EAAMC,YAAYa,WAEPC,EAAgB,SAACf,GAAD,OAAkBA,EAAMC,YAAYe,S,iDCZjE,SAASC,EAAT,GAAgF,IAAzDC,EAAwD,EAAxDA,OACfZ,GADuE,EAAhDa,mBAAgD,EAA5BC,kBACpCC,YAAYhB,IACnBiB,EAAWC,cAF4D,EAG7C5C,IAAM6C,SAA6B,MAHU,mBAGtEC,EAHsE,KAG5DC,EAH4D,KAQvEC,EAAa,WACjBD,EAAY,MACRpB,EAAMgB,EAASJ,GACdvJ,OAAOC,SAASgK,KAAO,WAG9B,OACE,qCACE,cAACC,EAAA,EAAD,CACEC,YAAW,aACXC,gBAAc,cACdC,gBAAc,OACd7C,QAfc,SAAC8C,GACnBP,EAAYO,EAAMC,gBAUhB,SAMG5B,EACC,cAAC6B,EAAA,EAAD,CAAQC,IAAK9B,EAAK+B,MAAMC,WAAYC,IAAI,gBAExC,cAACC,EAAA,EAAD,MAIJ,cAACC,EAAA,EAAD,CACEC,GAAG,cACHjB,SAAUA,EACVkB,aAAW,EACXC,KAAM9C,QAAQ2B,GACdoB,QAASlB,EALX,SAOE,cAACmB,EAAA,EAAD,CAAUhB,YAAW,cAAe3C,QAASwC,EAA7C,SACGrB,EAAO,SAAW,e,mNC5B7B,IAAMyC,EAAkB9K,IAAOC,IAAV,KAMrB,SAAS8K,EAAT,GAAsE,IAAhDC,EAA+C,EAA/CA,eAAgBC,EAA+B,EAA/BA,UAAWpC,EAAoB,EAApBA,UACzCQ,EAAWC,cAEjB,OACE,cAAC4B,EAAA,EAAD,CAAQC,SAAS,SAASC,UAAW,EAAG1I,MAAO,cAA/C,SACE,cAAC2I,EAAA,EAAD,UACE,eAACP,EAAD,WACGE,GACC,cAAC,IAAD,CACE9D,QAAS+D,EACTK,MAAOzC,EAAY,CAAEnG,MAAO6I,IAAM,MAAS,CAAE7I,MAAO8I,IAAI,QAG5D,cAACxC,EAAD,CACEE,oBAAoB,EACpBD,OAAQ,kBAAMI,EAASoC,gBACvBtC,kBAAmB,sB,aC5BzBuC,EAAa,SAAC,GAAD,IACjBC,EADiB,EACjBA,UACAC,EAFiB,EAEjBA,UACAC,EAHiB,EAGjBA,cACAC,EAJiB,EAIjBA,aACAC,EALiB,EAKjBA,cACAC,EANiB,EAMjBA,WANiB,OAQjB,wBAAQzJ,UAAU,8BAAlB,SACE,cAAC,IAAD,CAAWuE,OAAK,EAAhB,SACE,eAAC,IAAD,WACE,eAAC,IAAD,WACG6E,EAAUzK,KAAI,SAAC+K,EAAMpK,GAAP,OACb,mBAAa8H,KAAMsC,EAAKzI,GAAIjB,UAAU,WAAtC,SACG0J,EAAKlL,OADAc,MAITgK,EACC,qCACE,sBACEtJ,UAAU,uCACV2E,QAAS6E,EAFX,6BAMA,sBACExJ,UAAU,uCACV2E,QAAS8E,EAFX,kCAQF,sBACEzJ,UAAU,uCACV2E,QAAS4E,EAFX,2BAQJ,sBAAMvJ,UAAU,iCAAhB,SAAkDqJ,YAM1DF,EAAWQ,aAAe,CACxBC,WAAW,EACXP,UAAW,iCACXD,UAAW,CACT,CACE5K,MAAO,OACPyC,GAAI,mBAEN,CACEzC,MAAO,cACPyC,GAAI,8BAEN,CACEzC,MAAO,QACPyC,GAAI,wBAEN,CACEzC,MAAO,YACPyC,GAAI,+BAEN,CACEzC,MAAO,OACPyC,GAAI,iDAEN,CACEzC,MAAO,kBACPyC,GAAI,sCAKKkI,Q,UCxFf,SAASU,EAAT,GAAkD,IAAzBC,EAAwB,EAAxBA,cACvB,OACE,sBAAK9J,UAAU,iBAAf,UACE,mBAAGA,UAAU,OAAb,whBAUA,cAAC+J,EAAA,EAAD,CAAQ/J,UAAU,kBAAkB2E,QAASmF,EAA7C,qC,cCAN,SAASE,EAAT,GAA4C,IAAvBC,EAAsB,EAAtBA,KAAMpL,EAAgB,EAAhBA,MACzB,IAAKoL,EAAM,OAAO,KAClB,IAVepM,EAUTqM,EATQ,aADCrM,EAUMoM,EAAKpM,OARjB,mBAAGmC,UAAU,sBAAb,kCACU,UAAVnC,EACA,mBAAGmC,UAAU,sBAAb,4BACF,mBAAGA,UAAU,sBAAb,qBAMDmK,EAAgB,CACpBC,OAAQC,OAfkB,EACH,EAcqCxL,GAAS,MAEvE,OACE,qBACEyI,YAAU,iCACVtH,UAAU,0BACV+I,MAAOoB,EAHT,SAKE,eAACG,EAAA,EAAD,CAAOtK,UAAS,gBAAWiK,EAAKpM,MAAhB,eAAhB,UACE,cAACyM,EAAA,EAAMC,OAAP,CAAcvK,UAAU,aAAawK,aAAa,EAAlD,SACE,yBAAQxK,UAAU,UAAlB,UACGkK,EACD,sBAAMlK,UAAU,iBAAhB,SAAkCiK,EAAKpM,aAG3C,cAACyM,EAAA,EAAMG,KAAP,CAAYzK,UAAU,aAAtB,SAAoCiK,EAAKvF,e,sBChCjD,SAASgG,EAAT,GAAgD,IAArBhC,EAAoB,EAApBA,UACzB,OACE,qBACE1I,UAAU,0BACVsH,YAAU,kCAFZ,SAIE,eAACgD,EAAA,EAAD,CAAOtK,UAAU,aAAjB,UACE,cAACsK,EAAA,EAAMC,OAAP,CAAcvK,UAAU,wBAAwBwK,aAAa,EAA7D,SACE,yBAAQxK,UAAU,UAAlB,UACE,mBAAGA,UAAU,sBAAb,qBADF,0CAKF,cAACsK,EAAA,EAAMG,KAAP,CAAYzK,UAAU,aAAtB,SACE,eAAC2K,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAKxJ,GAAG,IAAIpB,UAAU,OAAtB,SACE,mBACEoH,KAAK,uDACLyD,OAAO,SACPC,IAAI,sBACJ9K,UAAU,OAJZ,SAME,eAAC+J,EAAA,EAAD,CAAQgB,QAAQ,QAAQ/K,UAAU,QAAlC,UACE,mBAAGA,UAAU,sBAAb,0BADF,mBAKJ,cAAC4K,EAAA,EAAD,CAAKxJ,GAAG,IAAIpB,UAAU,OAAtB,SACE,eAAC+J,EAAA,EAAD,CAAQgB,QAAQ,UAAU/K,UAAU,QAAQ2E,QAAS+D,EAArD,UACE,mBAAG1I,UAAU,sBAAb,qBADF,yB,+BChCR+I,EAAgB,CACpBiC,QAAS,CACPC,gBAAiB,yBAEnBC,QAAS,CACPC,OAAQ,OACRf,OAAQ,OACRgB,UAAW,MACXC,KAAM,MACNC,QAAS,OACT1C,SAAU,QACV2C,MAAO,OACPC,IAAK,MACLC,UAAW,uBACXC,MAAO,MACPC,SAAU,QACVC,SAAU,WAwDCC,EA9CG,SAAC,GAA6C,IAC1DC,EADe1D,EAA0C,EAA1CA,KAAM2D,EAAoC,EAApCA,WAAYC,EAAwB,EAAxBA,WAErC,OACE,eAAC,IAAD,CACEC,aAAa,EACbC,OAAQ9D,EACR+D,aAAa,eACbnM,UAAU,0CACVoM,2BAA2B,EAC3BrD,MAAOA,EACPsD,eAAgBN,EAChBO,eAAgB,IARlB,UAUE,sBAAKtM,UAAU,mBAAf,UACE,6BACE,8CAEF,6BACE,sBAAMA,UAAU,yBAAhB,SACE,mBAAGA,UAAU,iBAAiB2E,QAASoH,EAAvC,0BAMN,qBAAK/L,UAAU,uBAAf,SACE,eAACuM,EAAA,EAAKC,MAAN,WACE,cAACD,EAAA,EAAKE,MAAN,2BACA,cAACF,EAAA,EAAKG,QAAN,CACEC,YAAY,aACZC,IAAK,SAACA,GAAD,OAA+Bd,EAAWc,GAC/CC,GAAG,WACHC,KAAM,UAIZ,cAAC/C,EAAA,EAAD,CACE/J,UAAU,cACV2E,QAAS,kBAAMqH,EAAWF,EAAStQ,QAFrC,0BC3DAuN,EAAgB,CACpBiC,QAAS,CACPC,gBAAiB,yBAEnBC,QAAS,CACPC,OAAQ,OACRf,OAAQ,OACRgB,UAAW,MACXC,KAAM,MACNC,QAAS,OACT1C,SAAU,QACV2C,MAAO,OACPC,IAAK,MACLC,UAAW,uBACXC,MAAO,MACPC,SAAU,QACVC,SAAU,WAuDCmB,EA7CU,SAAC,GAA+C,IACnEjB,EADsB1D,EAA4C,EAA5CA,KAAM2D,EAAsC,EAAtCA,WAAYiB,EAA0B,EAA1BA,aAE5C,OACE,eAAC,IAAD,CACEf,aAAa,EACbC,OAAQ9D,EACR+D,aAAa,eACbnM,UAAU,0CACVoM,2BAA2B,EAC3BrD,MAAOA,EACPsD,eAAgBN,EAChBO,eAAgB,IARlB,UAUE,sBAAKtM,UAAU,mBAAf,UACE,6BACE,iDAEF,6BACE,sBAAMA,UAAU,yBAAhB,SACE,mBAAGA,UAAU,iBAAiB2E,QAASoH,EAAvC,0BAMN,qBAAK/L,UAAU,uBAAf,SACE,cAACuM,EAAA,EAAKC,MAAN,UACE,cAACD,EAAA,EAAKG,QAAN,CACEC,YAAY,uCACZC,IAAK,SAACA,GAAD,OAAed,EAAWc,GAC/BC,GAAG,WACHC,KAAM,SAIZ,cAAC/C,EAAA,EAAD,CACE/J,UAAU,cACV2E,QAAS,kBAAMqI,EAAalB,EAAStQ,QAFvC,wBC9DAuN,GAAgB,CACpBiC,QAAS,CACPC,gBAAiB,yBAEnBC,QAAS,CACPC,OAAQ,OACRf,OAAQ,OACRgB,UAAW,MACXC,KAAM,MACNC,QAAS,OACT1C,SAAU,QACV2C,MAAO,OACPC,IAAK,MACLC,UAAW,uBACXC,MAAO,MACPC,SAAU,QACVC,SAAU,WAIRqB,GAAa,CAAC,UAAW,YA+DhBC,GAvDI,SAAC,GAA8C,IAA5C9E,EAA2C,EAA3CA,KAAM2D,EAAqC,EAArCA,WAAY3F,EAAyB,EAAzBA,YAChC+G,GAAiB,OAAX/G,QAAW,IAAXA,OAAA,EAAAA,EAAa+G,MAAO,GAChC,OACE,eAAC,IAAD,CACElB,aAAa,EACbC,OAAQ9D,EACR+D,aAAa,eACbnM,UAAU,0CACVoM,2BAA2B,EAC3BrD,MAAOA,GACPsD,eAAgBN,EAChBO,eAAgB,IARlB,UAUE,sBAAKtM,UAAU,mBAAf,UACE,6BACE,8CAEF,6BACE,sBAAMA,UAAU,yBAAhB,SACE,mBAAGA,UAAU,iBAAiB2E,QAASoH,EAAvC,0BAMN,sBAAK/L,UAAU,4BAAf,UACE,eAAC2K,EAAA,EAAD,CAAK3K,UAAU,OAAf,UACE,cAAC4K,EAAA,EAAD,CAAKxJ,GAAG,IAAIpB,UAAU,0BAAtB,SACE,sBAAMA,UAAU,YAAhB,mBAEF,cAAC4K,EAAA,EAAD,CAAKxJ,GAAG,IAAIpB,UAAU,0BAAtB,SACGmN,EAAIzI,aAGRhF,OAAOC,QAAQwN,GACbvN,QAAO,mCAAEQ,EAAF,iBAAmB6M,GAAWnN,SAASM,MAC9CzB,KAAI,mCAAEyB,EAAF,KAAO5E,EAAP,WACK,YAAR4E,EACE,GAEA,eAACuK,EAAA,EAAD,CAAK3K,UAAU,OAAf,UACE,cAAC4K,EAAA,EAAD,CAAKxJ,GAAG,IAAIpB,UAAU,0BAAtB,SACE,sBAAMA,UAAU,YAAhB,SAA6BI,MAE/B,cAACwK,EAAA,EAAD,CAAKxJ,GAAG,IAAIpB,UAAU,0BAAtB,SACGoN,KAAKC,UAAU7R,OALO4E,a,+CCtE5BkN,GAAqB,SAAC9H,GAAkB,IAC3C+H,EAAmB/H,EAAMgI,UAAUC,WACzCjI,EAAMgI,UAAUE,qBADVH,eAGR,OAAO/H,EAAMgI,UAAUG,MAAMJ,IAMlBK,GAAiC,SAACpI,GAAkB,IACvDkI,EAAwBlI,EAAMgI,UAA9BE,oBACR,OAAOG,KAAEC,OACPtI,EAAMgI,UAAUG,OAChB,SAACI,GAAD,OAAUA,EAAKC,cAAgBN,MAItBO,GAAmB,SAACzI,GAAD,OAAkBA,EAAMgI,UAAUC,YAErDS,GAAsB,SAAC1I,GAAD,OACjCA,EAAMgI,UAAUC,WAAWjI,EAAMgI,UAAUE,qBAAqBS,eAErDC,GAAkC,SAAC5I,GAAkB,IACxDkI,EAAwBlI,EAAMgI,UAA9BE,oBACFW,EAAiBR,KAAEC,OACvBtI,EAAMgI,UAAUG,OAChB,SAACI,GAAD,OAAUA,EAAKC,cAAgBN,KAEjC,OAAOhO,OAAOC,QAAQ0O,GAAgBzO,QACpC,SAAC0O,GAAD,MAAmD,YAA7BA,EAAiB,GAAGC,SAIjCC,GAAuB,SAAChJ,GAAD,OAClCA,EAAMgI,UAAUC,WAAWjI,EAAMgI,UAAUE,qBAAqBH,gBAErDkB,GAA4B,SAACjJ,GAAD,OACvCA,EAAMgI,UAAUE,qB,sxBCjClB,IAAM3E,GAAgB,CACpBiC,QAAS,CACPC,gBAAiB,yBAEnBC,QAAS,CACPD,gBAAiB,UACjBE,OAAQ,OACRf,OAAQ,OACRgB,UAAW,MACXC,KAAM,MACNzC,SAAU,QACV2C,MAAO,OACPC,IAAK,MACLC,UAAW,uBACXE,SAAU,QACVC,SAAU,WAIR8C,GAAajR,IAAOC,IAAV,MASViR,GAAyBlR,IAAOC,IAAV,MAOtBkR,GAAenR,IAAOC,IAAV,MAWZmR,GAAkB,WACtB,OACE,mBACE9F,MAAO,CACL+F,SAAU,OACV3O,MAAO,UACP4O,aAAc,SAEhB/O,UAAU,iBANZ,kBAaEgP,GAAavR,IAAOwR,KAAV,MA4FDC,GA3EC,SAAC,GAAqB,IAAnB9G,EAAkB,EAAlBA,KACXtB,EAAWC,cAEXoI,EAA4BtI,YAAYuH,IAExCgB,EAAe,SAACC,EAAuBC,GAC3C,OAAQD,GACN,IAAK,QACHvI,EAASiF,eACT,MACF,IAAK,mBACHjF,EAASyI,YAAU,WACnB,MACF,IAAK,uBACCD,GAAMxI,EAAS0I,aAAcF,IACjCxI,EAASiF,eACT,MACF,IAAK,eACHjF,EAAS2I,gBACT3I,EAASiF,iBAKf,OACE,eAAC,IAAD,CACEE,aAAa,EACbC,OAAQ9D,EACR+D,aAAa,eACbnM,UAAU,0CACVoM,2BAA2B,EAC3BrD,MAAOA,GACPsD,eAAgB,kBAAM+C,EAAa,UACnC9C,eAAgB,IARlB,UAUE,8BACE,cAACoC,GAAD,CAAY/J,QAAS,kBAAMyK,EAAa,UAAxC,SACE,mBAAGpP,UAAU,iBAAiB2E,QAASoH,IAAvC,uBAMJ,eAAC4C,GAAD,WACE,eAACC,GAAD,CACEtH,YAAW,wBACX3C,QAAS,kBAAMyK,EAAa,iBAF9B,UAIE,cAAC,GAAD,IACA,cAACJ,GAAD,4BAGF,eAACJ,GAAD,CAAcjK,QAAS,kBAAMyK,EAAa,qBAA1C,UACE,cAAC,GAAD,IACA,cAACJ,GAAD,2BAGDG,EAA0BxQ,KAAI,SAAC+Q,EAA0BpQ,GAA3B,OAC7B,cAACsP,GAAD,CAEEjK,QAAS,kBACPyK,EACE,uBACAM,EAAyB,GAAGJ,OALlC,SASE,cAACN,GAAD,UAAaU,EAAyB,GAAGC,QARpCrQ,a,8nCClIjB,IAAMyJ,GAAgB,CACpBiC,QAAS,CACPC,gBAAiB,yBAEnBC,QAAS,CACPC,OAAQ,OACRf,OAAQ,OACRiB,KAAM,MACNzC,SAAU,QACV2C,MAAO,OACPC,IAAK,MACLC,UAAW,uBACXE,SAAU,QACVC,SAAU,SACVgE,QAAS,OACTC,WAAY,SACZC,eAAgB,WAIdC,GAAmBtS,IAAOC,IAAV,MAKhBsS,GAAUvS,IAAOwS,OAAV,MAOPC,GAAUzS,IAAOwS,OAAV,MAOPE,GAAgB1S,IAAOC,IAAV,MAsBb0S,GAAQ3S,IAAO4S,MAAV,MASLC,GAAe7S,YAAOsM,IAAPtM,CAAH,MA0HH8S,OAhHf,YAAqE,IAAD,IAAxCnI,EAAwC,EAAxCA,KAAM2D,EAAkC,EAAlCA,WAAY3F,EAAsB,EAAtBA,YACtCoK,GAAoB,OAAXpK,QAAW,IAAXA,OAAA,EAAAA,EAAaoK,SAAU,GAChCC,EAAY5J,YAAYyG,IACxBa,EAAgBtH,YAAYqH,IAC5BwC,EAAOD,EAAUA,UAAUE,SAASC,MACxC,SAACC,GAAD,OAAaA,EAAQ3I,KAAOsI,KALoC,EAO5BxJ,mBAAS,IAPmB,mBAO3D8J,EAP2D,KAO9CC,EAP8C,OAQhB/J,mBAASmH,EAAc6C,KARP,mBAQ3DC,EAR2D,KAQxCC,EARwC,KAS5DpK,EAAWC,cAEjBoK,qBAAU,WACR,IAAMC,EAAUjD,EAAc6C,IAAIpR,QAAO,SAACyR,GAAD,OACvCA,EAAS1B,KAAK2B,cAAcxR,SAASgR,EAAYQ,kBAEnDJ,EAAqBE,KACpB,CAACN,EAAa3C,IAEjB,IAMMoD,EAAkB,SAAC5B,EAAcnU,GACrC,UAAIkV,QAAJ,IAAIA,OAAJ,EAAIA,EAAMxI,GAAI,CACZ,IAAMsJ,EAAoC,gBAAM7B,EAAOnU,GACvDsL,EAAS2K,aAAef,EAAKxI,GAAIsJ,MAU/BE,GAAY,OAAJhB,QAAI,IAAJA,GAAA,UAAAA,EAAMzG,YAAN,eAAYyH,SAAZ,OAAqBhB,QAArB,IAAqBA,GAArB,UAAqBA,EAAMzG,YAA3B,aAAqB,EAAY0F,OAAQ,YAGvD,OAFAgC,KAAOxE,IAAI,eAAgBuD,GAGzB,cAAC,IAAD,CACEzE,aAAa,EACbC,OAAQ9D,EACR+D,aAAa,eACbnM,UAAU,0CACVoM,2BAA2B,EAC3BC,eAAgBN,EAChBO,eAAgB,IAChBvD,MAAOA,GART,SAUE,eAACgH,GAAD,CAAkBzI,YAAU,mBAA5B,UACE,cAAC0I,GAAD,wBAEA,cAACI,GAAD,CACE5U,MAAOkW,EACPE,SAAU,SAACC,GAAD,OAtCG,SAACH,GACpB,UAAIhB,QAAJ,IAAIA,OAAJ,EAAIA,EAAMxI,GAAI,CACZ,IAAM4J,EAA6B,CAAEJ,SACrC5K,EAAS2K,aAAef,EAAKxI,GAAI4J,KAoC3BC,CAAaF,EAAEhH,OAAOrP,QAExBwE,UAAU,mBAGZ,cAACgQ,GAAD,yBAEA,cAACI,GAAD,CACEzD,YAAY,uBACZnR,MAAOsV,EACPc,SAAU,SAACC,GAAD,OAAOd,EAAec,EAAEhH,OAAOrP,UAE3C,cAAC2U,GAAD,UACGc,EAAkBtS,KAAI,SAAC0S,GAAc,IAC5B1B,EAAe0B,EAAf1B,KAAMpB,EAAS8C,EAAT9C,KACd,OACE,qCACE,cAAC2B,GAAD,UAAUP,IACA,YAATpB,EACC,cAAC,IAAD,CACEyD,QAAM,EACNC,QAA8B,UAAjB,OAAJvB,QAAI,IAAJA,OAAA,EAAAA,EAAMzG,KAAK0F,IACpB3P,UAAU,uBACVsH,YAAA,cAAkBqI,EAAlB,aACAiC,SAAU,kBACRL,EACE5B,EACqB,UAAjB,OAAJe,QAAI,IAAJA,OAAA,EAAAA,EAAMzG,KAAK0F,IAAmB,QAAU,SAR9C,SAYwB,UAAjB,OAAJe,QAAI,IAAJA,OAAA,EAAAA,EAAMzG,KAAK0F,IAAmB,KAAO,QAGxC,cAACS,GAAD,CACEzD,YAAa4B,EACbA,KAAe,YAATA,EAAqB,SAAW,OACtC/S,OAAW,OAAJkV,QAAI,IAAJA,OAAA,EAAAA,EAAMzG,MAAN,OAAayG,QAAb,IAAaA,OAAb,EAAaA,EAAMzG,KAAK0F,GAAQ,GACvCiC,SAAU,SAACC,GAAD,OAAON,EAAgB5B,EAAMkC,EAAEhH,OAAOrP,QAChDwE,UAAU,iCAQtB,cAACsQ,GAAD,CAAcvF,QAAQ,SAASpG,QA1EjB,YAClB,OAAI+L,QAAJ,IAAIA,OAAJ,EAAIA,EAAMxI,MACRpB,EAASoL,aAAWxB,EAAKxI,KACzB6D,MAuEE,8B,kBC7LKoG,GAAmC,CAC9CC,SAAU,CACRzC,KAAM,WACN0C,YAAa,mCACb9D,KAAM,WAER+D,YAAa,CACX3C,KAAM,cACN0C,YAAa,8CACb9D,KAAM,YCLV,IAAMxF,GAAgB,CACpBiC,QAAS,CACPC,gBAAiB,yBAEnBC,QAAS,CACPC,OAAQ,OACRf,OAAQ,OACRiB,KAAM,MACNzC,SAAU,QACV2C,MAAO,OACPC,IAAK,MACLC,UAAW,uBACXE,SAAU,QACVC,SAAU,SACVgE,QAAS,OACTC,WAAY,SACZC,eAAgB,WAIdyC,GAAqB,gJAMrBvC,GAAO,uJAOPE,GAAO,yIAMPC,GAAa,8JAMbqC,GAAY,oHAKZpC,GAAK,8KASLE,GAAe,aAAOvG,IAAP,0CAAH,sCAIZ0I,GAAe,4GAGfC,GAAa,gUAqBbC,GAAQ,sIAOED,GAPF,sIAiCd,SAASE,GAAT,GAAiE,IAA1CX,EAAyC,EAAzCA,QAASY,EAAgC,EAAhCA,WAC9B,OACE,eAACJ,GAAD,WACE,cAACE,GAAD,CACEzK,GAAG,WACHqG,KAAK,WACL0D,QAASA,EACTL,SAAU,SAACC,GAAD,OAAOgB,EAAWhB,EAAEhH,OAAOoH,YAEvC,cAACS,GAAD,CAAeI,QAAQ,gBAmGdC,OA9Ff,YAA6D,IAA5B3K,EAA2B,EAA3BA,KAAM2D,EAAqB,EAArBA,WAC/BiH,EAASnM,YAAY2H,IACrBT,EAAOlH,YAAYyG,IACnBxG,EAAWC,cAOjB,SAASkM,EAAsC7S,EAAQ5E,GAAiB,IAAD,EAC/D0X,EAAU,gBAAQnF,IAExB,UAAImF,EAAWzC,iBAAf,aAAI,EAAsB0C,QAAMD,EAAWzC,UAAU0C,KAAK/S,GAAO5E,GACjEsL,EAASsM,aAAmBF,IAQ9B,OACE,cAAC,IAAD,CACEjH,aAAa,EACbC,OAAQ9D,EACR+D,aAAa,eACbnM,UAAU,0CACVoM,2BAA2B,EAC3BC,eAAgBN,EAChBO,eAAgB,IAChBvD,MAAOA,GART,SAUE,eAACwJ,GAAD,CAAuBjL,YAAW,gBAAlC,UACE,cAAC,GAAD,wBACA,cAAC,GAAD,CACE9L,MAAOuS,EAAK4B,KACZiC,SAAU,SAACC,GAAD,OAhCM,SAAClC,GACvB,IAAMuD,EAAU,6BAAQnF,GAAR,IAAc4B,SAC9B7I,EAASsM,aAAmBF,IA+BpBG,CAAgBxB,EAAEhH,OAAOrP,QAE3BwE,UAAU,mBAEZ,cAAC,GAAD,uBACA,cAAC,GAAD,UACGN,OAAO4T,OAAOnB,IAAiBxT,KAAI,SAAC0S,EAAU/R,GAC7C,OACE,eAACkT,GAAD,WACE,cAAC,GAAD,iBAAUnB,QAAV,IAAUA,OAAV,EAAUA,EAAU1B,OACA,aAAX,OAAR0B,QAAQ,IAARA,OAAA,EAAAA,EAAU9C,MACT,cAACqE,GAAD,CACEX,UACElE,EAAK0C,UAAU0C,QACTpF,EAAK0C,UAAU0C,KAAf,OAAoB9B,QAApB,IAAoBA,OAApB,EAAoBA,EAAU1B,MAGtCkD,WAAY,SAACZ,GAAD,OACVgB,EAAe,OACb5B,QADa,IACbA,OADa,EACbA,EAAU1B,KACVsC,MAKN,cAAC,GAAD,CACEtF,YAAW,OAAE0E,QAAF,IAAEA,OAAF,EAAEA,EAAU9C,KACvBA,KAAyB,aAAX,OAAR8C,QAAQ,IAARA,OAAA,EAAAA,EAAU9C,MAAqB,SAAW,OAChD/S,MACEuS,EAAK0C,UAAU0C,OAAf,OAAuB9B,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAU1B,MAC7B5B,EAAK0C,UAAU0C,KAAK9B,EAAS1B,MAAM4D,WACnC,GAEN3B,SAAU,SAACC,IACT,OAAIR,QAAJ,IAAIA,OAAJ,EAAIA,EAAU1B,OACZsD,EACE5B,EAAS1B,KACTkC,EAAEhH,OAAOrP,QAGfwE,UAAU,2BAhCGV,QAwCzB,cAAC,GAAD,CAAcyL,QAAQ,SAASpG,QArEjB,WAClBmC,EAAS0M,aAAWR,IACpBjH,KAmEI,+B,2DCpOG0H,GAAkBC,KAAMC,SA0DpBC,GAxDO,CACpBC,QAAQ,WAAD,8BAAE,WAAOC,EAAoBC,GAA3B,gBAAAC,EAAA,6DACPrC,KAAOxE,IAAI,2BAA4B2G,GACjCG,EAFC,UAEYH,EAASI,YAFrB,YAEoCJ,EAASK,aAEhDV,IACFA,GAAgBW,SAASH,QAAUA,EACnCR,GAAgBW,SAAStY,QAAU6G,MAC9B8Q,GAAkBC,KAAMC,OAAO,CAAEM,UAASnY,QAAS6G,OAPnD,kBAUgB8Q,GAAgBY,IAAI,WAVpC,UAWiB,MAXjB,OAWMC,OAXN,wBAYH3C,KAAOxE,IAAI,mDAZR,kBAaI4G,EAAS,CACdzN,WAAW,EACX5B,QAAQ,qCAAD,OAAuCuP,MAf7C,0DAmBLtC,KAAOxE,IAAI,8CAAX,MAnBK,iCAqBA4G,EAAS,CAAEzN,WAAW,EAAO5B,QAAS,uBArBtC,0DAAF,qDAAC,GAuBRX,OAAO,WAAD,8BAAE,WAAOwQ,GAAP,gBAAAP,EAAA,+EAEiBP,GAAgBe,KAAK,cAAe,CACvDC,MA5BM,GA6BNC,KAAM,SACNzK,KAAM,CAACsK,KALL,UAOkB,OALhBI,EAFF,QAOOL,OAPP,uBAQF3C,KAAOxE,IAAI,uBART,kBASKwH,GATL,uDAYJhD,KAAOxE,IAAI,iBAAX,MAZI,yDAAF,mDAAC,GAePtO,MAAM,WAAD,8BAAE,WAAO+V,GAAP,gBAAAZ,EAAA,+EAEkBP,GAAgBe,KAAK,aAAc,CACtDC,MA3CM,GA4CNC,KAAM,QACNzK,KAAM,CAAC2K,KALN,UAOmB,OALhBD,EAFH,QAOQL,OAPR,uBAQD3C,KAAOxE,IAAI,sBARV,kBASMwH,GATN,uDAYHhD,KAAOxE,IAAI,gBAAX,MAZG,yDAAF,mDAAC,ICvCFpE,GAAgB,CACpBiC,QAAS,CACPC,gBAAiB,yBAEnBC,QAAS,CACPC,OAAQ,OACRf,OAAQ,OACRiB,KAAM,MACNzC,SAAU,QACV2C,MAAO,OACPC,IAAK,MACLC,UAAW,uBACXE,SAAU,QACVC,SAAU,SACVgE,QAAS,OACTC,WAAY,SACZC,eAAgB,WA4DL+E,OAlDf,YAAqE,IAAzCzM,EAAwC,EAAxCA,KAAM2D,EAAkC,EAAlCA,WAAkC,KAAtB3F,YACRY,mBAAS,KADqB,mBAC3D8N,EAD2D,KAC/CC,EAD+C,OAEhC/N,mBAAS,IAFuB,mBAE3DgO,EAF2D,KAEhDC,EAFgD,KAG5DnO,EAAWC,cAHiD,EAItCC,mBAAS,SAJ6B,mBAI3D2N,EAJ2D,KAInDO,EAJmD,mDAclE,6BAAAlB,EAAA,sEAC6BJ,GAAc7P,OAAO+Q,GADlD,QACQK,EADR,SAGID,EAAU9H,KAAKC,UAAU8H,EAAalL,OAH1C,4CAdkE,oEAqBlE,6BAAA+J,EAAA,sEAC4BJ,GAAc/U,MAAMmW,GADhD,QACQI,EADR,SAGIF,EAAU9H,KAAKC,UAAU+H,EAAYnL,OAHzC,4CArBkE,sBA4BlE,OACE,eAAC,IAAD,CACEgC,aAAa,EACbC,OAAQ9D,EACR+D,aAAa,eACbnM,UAAU,0CACVoM,2BAA2B,EAC3BC,eAAgBN,EAChBO,eAAgB,IAChBvD,MAAOA,GART,UAUE,wBAAQpE,QAjCZ,WACEiP,GAAcC,QACZwB,KAAMC,WAAWC,cAAczB,UAC/B,gBAAGxN,EAAH,EAAGA,UAAW5B,EAAd,EAAcA,QAAd,OACEoC,EAAS0O,YAA8BlP,EAAW5B,QA6BpD,qBACA,0BAAUkN,SAAU,SAACnK,GAAD,OAAWsN,EAActN,EAAMoD,OAAOrP,UAC1D,wBAAQmJ,QAzCsD,2CAyC9D,oBACA,0BAAUiN,SAAU,SAACnK,GAAD,OAAWwN,EAAaxN,EAAMoD,OAAOrP,UACzD,wBAAQmJ,QA3CsD,2CA2C9D,mBAEA,0BAAUnJ,MAAOmZ,QCgHRc,GAhJW,SAAC9X,GACzB,IAAMuI,EAAQW,YAAYZ,GACpBG,EAAcS,YAAYV,GAC1BK,EAAUK,YAAYN,GACtBP,EAAUa,YAAYd,GACtBO,EAAYO,YAAYR,GACxBiD,EAAgBqI,KAAO+D,YACvBnT,EAAcsE,YAAYtB,GAC1BjD,EAAkBuE,YAAYnB,GAC9BI,EAAOe,YAAYhB,GATkC,EAUbmB,mBACC,SAA7C1K,aAAaqZ,QAAQ,qBAXoC,mBAUpDC,EAVoD,KAUnCC,EAVmC,KAcrD/O,EAAWC,cAMX+O,EAAc,WAClBhP,EAASiF,gBAaLrD,EAAY,WAChB5B,EAASiP,gBAKLC,EAAiB,WACrBlP,EAAStE,gBA0BHC,EAAuD9E,EAAvD8E,SAAUwT,EAA6CtY,EAA7CsY,SAAUxN,EAAmC9K,EAAnC8K,eAAgByN,EAAmBvY,EAAnBuY,eAC5C,OACE,eAAC,IAAD,CAAW3R,OAAK,EAACvE,UAAU,mBAA3B,UACE,eAAC,IAAD,WACE,cAACqC,EAAA,EAAD,CACEC,gBAAiBA,EACjBC,YAAaA,EACbC,cAAewT,IAEjB,eAAC,IAAD,CAAKhW,UAAU,mBAAmBmW,IAAI,OAAtC,UACE,cAAC3N,EAAD,CACE1C,KAAMA,EACNmQ,SAAUA,EACVxN,eAAgBA,EAChB/B,OA3CK,aA4CLlE,cAAewT,EACftN,UAAWA,EACXpC,UAAWA,EACX4P,eAAgBA,IAEjBlQ,EAAQrH,KAAI,SAACyX,EAAQvX,GAAT,OACX,cAACmL,EAAD,CAAWC,KAAMmM,EAAQvX,MAAOA,OAEjC4J,IAAmBjC,IAAYF,GAC9B,cAACoE,EAAD,CAAiBhC,UAAWA,IAE7BjG,GACCmT,GAAmB,cAAC/L,EAAD,CAAeC,cA/EtB,WACpBxN,aAAaC,QAAQ,mBAAoB8N,QAAO,IAChDwL,GAAmB,MA8Eb,cAAC,EAAD,CACEvM,cAAeA,EACfC,aArDW,WACnBoI,KAAO0E,SACP,IAAMC,EAAYjB,KAAMC,WACxB3D,KAAOxE,IAAI,iBAAkBmJ,GAC7BxP,EACEyP,YACE,wEACA,aA+CI/M,cA1CY,WACpBmI,KAAO6E,UACP1P,EAASyP,YAAW,uBAAwB,aAyCpC9M,WAtCS,WACjB,IAAM6M,EAAYjB,KAAMC,WACxB3D,KAAOxE,IAAI,iBAAkBmJ,GAC7B3E,KAAOlI,sBAuCL,cAAC,GAAD,CACErB,KAAgB,eAAVlC,EACN6F,WAAY+J,EACZ1P,YAAaA,IAEf,cAAC,EAAD,CACEgC,KAAgB,WAAVlC,EACN6F,WAAY+J,EACZ9J,WAvFa,SAACyK,GAClB3P,EAAS4P,aAAWD,IACpBX,OAuFE,cAAC,GAAD,CAAS1N,KAAgB,YAAVlC,IACf,cAACyQ,EAAD,CACEvO,KAAgB,WAAVlC,EACN6F,WAAY+J,EACZ9I,aAxFe,eA0FN,YAAV9G,GACC,cAAC0Q,GAAD,CACExO,KAAgB,YAAVlC,EACN6F,WAAY+J,EACZ1P,YAAaA,IAGN,iBAAVF,GACC,cAAC2Q,GAAD,CACEzO,KAAgB,iBAAVlC,EACN6F,WAAY+J,EACZ1P,YAAaA,IAGN,gBAAVF,GACC,cAAC,GAAD,CACEkC,KAAgB,gBAAVlC,EACN6F,WAAY+J,EACZ1P,YAAaA,QCvER0Q,GAzFG,SAACnZ,GACjB,IAAMuI,EAAQW,YAAYZ,GACpBD,EAAUa,YAAYd,GACtBuD,EAAgBqI,KAAO+D,YAHc,EAgBG1O,mBACC,SAA7C1K,aAAaqZ,QAAQ,qBAjBoB,mBAgBpCC,EAhBoC,KAgBnBC,EAhBmB,KAoBrC/O,EAAWC,cAiCTtE,EAAuD9E,EAAvD8E,SAAUwT,EAA6CtY,EAA7CsY,SAAUxN,EAAmC9K,EAAnC8K,eAAgByN,EAAmBvY,EAAnBuY,eAC5C,OACE,eAAC,IAAD,WACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAKlW,UAAU,mBAAmBmW,IAAI,OAAtC,UACE,cAAC3N,EAAD,CACEyN,SAAUA,EACVxN,eAAgBA,EAChB/B,OA7BK,aA8BLqQ,mBAAmB,EACnBC,UAAQ,EACRlR,KA5DS,CACjBmR,YAAa,YACbC,OAAQ,CAAC,CAAE1b,MAAO,wBAClB0M,GAAI,UACJsI,OAAQ,eACR2G,OAAQ,CAAC,CAAE3b,MAAO,eAClB4b,WAAY,WACZC,SAAU,gBACVC,SAAU,gBACVzP,MAAO,YACP0P,KAAM,YAmDErB,eAAgBA,IAEjBlQ,EAAQrH,KAAI,SAACyX,EAAQvX,GAAT,OACX,cAACmL,EAAD,CAAWC,KAAMmM,EAAQvX,MAAOA,OAEjC4D,GACCmT,GAAmB,cAAC/L,EAAD,CAAeC,cAlDtB,WACpBxN,aAAaC,QAAQ,mBAAoB8N,QAAO,IAChDwL,GAAmB,MAiDb,cAAC,EAAD,CACEvM,cAAeA,EACfC,aAxCW,WACnBoI,KAAO0E,SACP,IAAMC,EAAYjB,KAAMC,WACxB3D,KAAOxE,IAAI,iBAAkBmJ,GAC7BxP,EACEyP,YACE,wEACA,aAkCI/M,cA7BY,WACpBmI,KAAO6E,UACP1P,EAASyP,YAAW,uBAAwB,aA4BpC9M,WAzBS,oBA6Bf,cAACkN,EAAD,CACEvO,KAAgB,WAAVlC,EACN6F,WAxDa,SAAbA,IACJjF,EAASiF,MAwDLiB,aArDe,SAAC9B,WC/CTsM,GAJO,SAAC,GAAkB,IAAhB/U,EAAe,EAAfA,SACvB,OAAO,cAAC,IAAD,UAAYA,K,0CCQRgV,GAAkB,SAAC5Z,GAC9B,IAAM6Z,EAAe7Z,EAAMC,QAC3B,MAAO,CACL6Z,KAAM,CACJC,YAAaF,EAAaG,KAAK9Z,KAC/BkN,gBAAiB,0BAEnB6M,QAAS,CACPF,YAAaF,EAAaK,QAAQha,KAClCkN,gBAAiB,2BAEnB+M,QAAS,CACPJ,YAAaF,EAAaO,QAAQla,KAClCkN,gBAAiB,4BAEnBiN,MAAO,CACLN,YAAaF,EAAarT,MAAMtG,KAChCkN,gBAAiB,4BAEnBkN,SAAU,CACRP,YAAaF,EAAaO,QAAQG,KAClCnN,gBAAiB,0BAEnBoN,MAAO,CACLT,YAAaF,EAAapX,KAAK,KAC/B2K,gBAAiB,8B,SCnCVqN,GAAS,CACpB,OACA,UACA,UACA,QACA,WACA,SCOF,SAASC,GAAkBtO,EAAgCpM,GACzD,IAAM2a,EAAef,GAAgB5Z,GAcrC,OAbiBya,GAAO3Z,KACtB,SAAC8Z,GACC,IAAMC,EAAYzO,EAAKtL,KAAI,SAACga,GAAD,OAAUA,EAAKC,OAAOH,MACjD,MAAO,CACLI,cAAe,IACfC,mBAAoB,EACpBpH,MAAO+G,EACPM,KAAM,QACN9N,gBAAiBuN,EAAaC,GAAOxN,gBACrChB,KAAMyO,MAOd,SAASM,GAAUC,GAEjB,IADA,IAAMC,EAAS,GACNC,EAAI,EAAGA,GAAKF,GAAU,KAAME,EACnCD,EAAOE,KAAKD,GAEd,OAAOD,EA6KMG,OAjKf,YAOW,IANT3N,EAMQ,EANRA,MACA4N,EAKQ,EALRA,OACArP,EAIQ,EAJRA,KACAsP,EAGQ,EAHRA,SACA5U,EAEQ,EAFRA,QACA6U,EACQ,EADRA,WAEMC,EAAYC,iBAAiC,MAD3C,EAEkC1S,mBAA8B,MAFhE,mBAED2S,EAFC,KAEcC,EAFd,KAIF/b,EAAQ4C,eAEd,SAASoZ,EAAahI,GACpB,GAAK8H,EAAL,CACA,IAAMG,EAAeH,EAAcI,mBAAmBlI,GACtDlN,EAAQmV,IAGV,IAAME,EAAgBC,uBACpB,SAACze,EAAOqD,EAAOyU,GACb,OAAc,IAAVzU,EAAoB2a,EAAW,GAC1B3a,IAAUqb,KAAKC,MAAM7G,EAAO8G,OAAS,GAAWZ,EAAW,QAA/D,IAGP,CAACA,IAGH,SAASa,EAAc7e,GACrB,GAAI8e,OAAOC,UAAU/e,GACnB,OAAOA,EAIX,SAASgf,IACP,OACE,qBACExa,UAAU,yBACVsH,YAAU,2BAFZ,SAIG5H,OAAOC,QAAQ8X,GAAgB5Z,IAAQc,KACtC,mCAAE8Z,EAAF,KAAS1P,EAAT,YACE,sBAAK/I,UAAU,oBAAf,UACE,qBACEA,UAAS,sCAAiCyY,EAAMnH,eAChDvI,MAAO,CAAEkC,gBAAiBlC,EAAM6O,eAElC,sBAAM5X,UAAU,4BAAhB,SAA6CyY,MALPA,QA2GlD,OA9FAtH,qBAAU,WACR,GAAKsI,EAAUgB,QAAf,CACA,IAAMC,EAA6B,CACjCC,UAAW,CAAEC,SAAU,GACvBC,OAAQ,CAAC,SACTlW,QAASkV,EACTiB,qBAAqB,EACrBC,YAAY,EACZC,OAAQ,CACNpL,SAAS,GAEXqL,SAAU,CACRC,SAAS,GAEXvK,SAAU,CACRwK,MAAO,CACLC,OAAQ,EACRC,UAAW,KAGfC,OAAQ,CACNC,MAAO,CACL,CACEC,SAAS,EACTC,MAAO,CACLnQ,QAAS,EACToQ,YAAa,EACbC,UAAU,EACV5H,SAAUiG,GAEZ4B,UAAW,CACTC,cAAe,UACf1b,MAAO,aAIb2b,MAAO,CACL,CACEN,SAAS,EACTO,WAAY,CACVnM,SAAS,GAEXgM,UAAW,CACTI,WAAY,CAAC,EAAG,GAChBH,cAAe,UACfI,YAAY,EACZ9b,MAAO,WAETsb,MAAO,CACLnQ,QAAS,EACT4Q,aAAc,EACdP,UAAU,EACVQ,cAAe,EACfpI,SAAUsG,OAOd+B,EAAkC,CACtC7N,KAAM,MACNtE,KAAM,CACJoS,SAAU9D,GAAkBtO,EAAMpM,IAEpCwF,QAASqX,GAGL4B,EAAmB,IAAIC,KAAa9C,EAAUgB,QAAS2B,GAC7DxC,EAAiB0C,MAChB,IAEHnL,qBAAU,WACR,GAAKwI,EAAL,CACA,IAAM6C,EAAuB,CAC3BtD,OAAQF,GAAUO,GAClB8C,SAAU9D,GAAkBtO,EAAMpM,IAEpC8b,EAAc1P,KAAOuS,EACrB7C,EAAc8C,YACb,CAACxS,EAAM0P,EAAeJ,EAAU1b,IAEnCsT,qBAAU,WAENwI,GACAA,EAActW,QAAQiY,QACtB3B,EAActW,QAAQiY,OAAOC,OAC7B5B,EAActW,QAAQiY,OAAOC,MAAM,GAAGE,QAEtC9B,EAActW,QAAQiY,OAAOC,MAAM,GAAGE,MAAM1H,SAAWiG,EACvDL,EAAc8C,YAEf,CAACzC,EAAeL,IAGjB,qCACE,cAACa,EAAD,IACA,wBACElB,OAAQA,GA/LO,GAgMf5N,MAAOA,GA/LO,IAgMdkB,IAAK6M,Q,oBCxMPiD,GAA6B,CACjCC,kBAAmB,SAACC,GAAD,oBAAC,gBACfA,GADc,IAEjBzc,MAAO,WAET0c,mBAAoB,SAACD,GAAD,oBAAC,gBAChBA,GADe,IAElBE,QAAS,OAEXC,UAAW,SAACC,EAAD,OAA4BtR,EAA5B,EAAauR,YAAevR,MAA5B,oBAAC,gBACPsR,GADM,IAETtR,MAAOA,KAETwR,OAAQ,SAACN,GAAD,oBAAC,gBACJA,GADG,IAENO,OAAQ,aAEVC,QAAS,SAACR,GAAD,oBAAC,gBACLA,GADI,IAEPO,OAAQ,UACRhS,OAAQ,OACRnN,WAAY,cAYhB,SAASqf,GAAT,GAOW,IANTC,EAMQ,EANRA,QACAC,EAKQ,EALRA,aACAC,EAIQ,EAJRA,WACAC,EAGQ,EAHRA,eACApa,EAEQ,EAFRA,QACGqa,EACK,mFACJliB,EAAQgiB,EAAa,UAAOG,EAChC,OACE,cAAC,KAAD,cACE/L,SAAU,SAACgM,GACTH,EAAeI,MAAMC,QAAQF,GAAOA,EAAOA,EAAW,CAACA,GAAN,KAEnDpiB,MAAOA,EACP8hB,QAASA,EACTja,QAASA,EACTuZ,OAAQF,GACRqB,UAAU,EACVR,aAAcA,GACVG,IC/BV,SAASM,GAAT,GAOW,IAAD,IANR/T,KAAQA,EAMA,EANAA,KAAkBsP,GAMlB,EANM0E,WAMN,EANkB1E,UAC1B2E,EAKQ,EALRA,QACAC,EAIQ,EAJRA,iBACAC,EAGQ,EAHRA,YACAC,EAEQ,EAFRA,aACA7E,EACQ,EADRA,WAEA,OACE,eAAC8E,GAAA,EAAD,CAAMte,UAAU,QAAhB,UACE,cAACse,GAAA,EAAK/T,OAAN,CAAavK,UAAU,WAAvB,SACE,eAAC2K,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAKtD,YAAU,oBAAf,qCACA,cAACsD,EAAA,EAAD,CAAK5K,UAAU,aAAasH,YAAU,6BAAtC,SACE,cAAC+V,GAAD,CACEG,YAAU,EACVna,QAAS3D,OAAO4T,OAAO8K,GACvBX,eAAgB,SAACP,GAAD,OAAYiB,EAAiBjB,EAAO,GAAG1hB,QACvDwE,UAAU,6BACV2M,YACE,uBAAMrF,YAAU,qCAAhB,UACE,mBAAGtH,UAAU,sBAAb,yBACCoe,EAAYC,GAAc3M,SAG/B6L,cAAc,WAKtB,cAACe,GAAA,EAAK7T,KAAN,CAAWzK,UAAU,kCAArB,SACE,cAAC,GAAD,CACEwZ,WAAYA,EACZvP,KAAMA,EACNsP,SAAUA,EACVD,OAvDa,GAwDb5N,MAvDY,GAwDZ/G,QAASuZ,MAGb,cAACI,GAAA,EAAK7T,KAAN,CAAWzK,UAAU,iBAArB,SACE,cAAC,GAAD,CACEwZ,WAAYA,EACZvP,KAAMA,EACNsP,SAAUA,EACVD,OA9DmB,GA+DnB5N,MA9DkB,GA+DlB/G,QAASuZ,SCwBJK,OA/Ef,YAAuD,IAA/B7S,EAA8B,EAA9BA,MAAO4N,EAAuB,EAAvBA,OAAQrP,EAAe,EAAfA,KAC/BwP,EAAYC,iBAAiC,MADC,EAEV1S,mBAA8B,MAFpB,mBAE7C2S,EAF6C,KAE9BC,EAF8B,KAG9C/b,EAAQ4C,eAER+d,EAAWvE,uBACf,SAAC7Z,GACC,OAAOqX,GAAgB5Z,GAAOuC,KAEhC,CAACvC,IA6DH,OA1DAsT,qBAAU,WACR,GAAKsI,EAAUgB,QAAf,CACA,IAAMgE,EAAQ/e,OAAOiC,KAAKsI,GAiBpBmS,EAAkC,CACtC7N,KAAM,MACNtE,KAAM,CACJoS,SAAU,CACR,CACEqC,YAAa,EACbzU,KAAMvK,OAAO4T,OAAOrJ,GACpB2N,YAAa6G,EAAM9f,KAAI,SAACgR,GAAD,OAAU6O,EAAS7O,GAAMiI,eAChD3M,gBAAiBwT,EAAM9f,KACrB,SAACgR,GAAD,OAAU6O,EAAS7O,GAAM1E,sBAKjC5H,QA9BiC,CACjCsX,UAAW,CAAEC,SAAU,GACvBI,OAAQ,CACNpL,SAAS,EACThH,SAAU,SACVsQ,OAAQ,CACN5N,QAAS,GACTqT,SAAU,KAGd1D,SAAU,CACRvG,KAAM,QACN9L,SAAU,aAqBR0T,EAAmB,IAAIC,KAAa9C,EAAUgB,QAAS2B,GAC7DxC,EAAiB0C,MAChB,IAEHnL,qBAAU,WACR,GAAKwI,EAAL,CACA,IAAM8E,EAAQ/e,OAAOiC,KAAKsI,GACpBuS,EAAuB,CAC3BtD,OAAQuF,EACRpC,SAAU,CACR,CACEqC,YAAa,EACbzU,KAAMvK,OAAO4T,OAAOrJ,GACpB2N,YAAa6G,EAAM9f,KAAI,SAACgR,GAAD,OAAU6O,EAAS7O,GAAMiI,eAChD3M,gBAAiBwT,EAAM9f,KAAI,SAACgR,GAAD,OAAU6O,EAAS7O,GAAM1E,sBAI1D0O,EAAc1P,KAAOuS,EACrB7C,EAAc8C,YACb,CAACxS,EAAM0P,EAAe6E,IAGvB,wBACElF,OAAQA,GAjFS,GAkFjB5N,MAAOA,GAjFS,GAkFhBkB,IAAK6M,KCpFX,SAASmF,GAAT,GAA4C,IAAhB3U,EAAe,EAAfA,KAC1B,OACE,eAACqU,GAAA,EAAD,CAAMte,UAAU,QAAhB,UACE,cAACse,GAAA,EAAK/T,OAAN,CAAavK,UAAU,kBAAvB,wBACA,cAACse,GAAA,EAAK7T,KAAN,CAAWzK,UAAU,iBAArB,SACE,cAAC,GAAD,CAAUiK,KAAMA,S,yECIlB4U,GAAUC,gBACd,YAAwE,IAArEjgB,EAAoE,EAApEA,MAAOkK,EAA6D,EAA7DA,MAA6D,IAAtDkB,KAAQ8U,EAA8C,EAA9CA,QAASC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,eACjCC,EAAUF,EAAMngB,GACd8Q,EAA2DuP,EAA3DvP,KAAMjL,EAAqDwa,EAArDxa,QAAS+T,EAA4CyG,EAA5CzG,MAAOzV,EAAqCkc,EAArClc,QAASmc,EAA4BD,EAA5BC,mBAAoB7f,EAAQ4f,EAAR5f,IACvD8f,EAAU/U,OAAOsF,GACrByP,EAAUA,EAAQhF,OAAS,GAAKgF,EAAQC,UAAU,EAAG,IAAMD,EAC3D,IAAIE,EAAejV,OAAOoO,GAAO,GACzB8G,EAAkCR,EAAlCQ,SAAUC,EAAwBT,EAAxBS,UAAWC,EAAaV,EAAbU,SAC7B,OACE,oBACEnY,YAAA,kBAAsBzI,GACtBmB,UAAS,kBAAaqK,OACpBoO,GACAnH,cAFO,4BAGTjR,IAAK,CAAE+K,UAAW,IAClBrC,MAAOA,EACPpE,QAAS,kBAAMsa,EAAeC,KAE9B,aAACvU,EAAA,EAAD,KACE,aAACC,EAAA,EAAD,CACE5K,UAAU,6CACVK,IAAK,CAAEsL,SAAU4T,IAEjB,oBAAKvf,UAAU,kBAAkBV,GACjC,oBAAKU,UAAU,WAAWmf,IAE5B,aAACvU,EAAA,EAAD,CACE5K,UAAU,mEACVK,IAAK,CAAEsL,SAAU6T,IAEhBJ,EAJH,IAIapc,EAJb,IAIuBsc,EAJvB,MAMA,aAAC1U,EAAA,EAAD,CACE5K,UAAU,OACVK,IAAK,CACH+K,UAAW,GACXwE,QAAS,QACThE,SAAU,SACV8T,aAAc,WACdhU,MAAO+T,EACPE,WAAY,SACZC,aAAc,EACdC,YAAa,IAGdnb,OAMXob,MC3DIC,GAAkB,SAAC,GAGX,IAAD,IAFXhB,QAAWQ,EAEA,EAFAA,SAAUC,EAEV,EAFUA,UACrBrU,EACW,EADXA,OAEA,OACE,oBACEnL,UAAS,4CACPmL,EAAS,aAAe,IAE1B9K,IAAK,CAAE+K,UAAW,KAElB,aAACT,EAAA,EAAD,KACE,aAACC,EAAA,EAAD,CACE5K,UAAU,6CACVK,IAAK,CAAEsL,SAAU4T,IAEjB,oBAAKvf,UAAU,kBAAf,KACA,oBAAKA,UAAU,WAAf,cAEF,aAAC4K,EAAA,EAAD,CACE5K,UAAU,oDACVK,IAAK,CAAEsL,SAAU6T,IAFnB,0BAMA,aAAC5U,EAAA,EAAD,CACE5K,UAAU,OACVK,IAAK,CACH+K,UAAW,GACXwE,QAAS,QACThE,SAAU,SACV8T,aAAc,WAEdC,WAAY,SACZC,aAAc,EACdC,YAAa,IAVjB,c,uMCvBR,SAASG,GAAT,GAAmE,IAArCC,EAAoC,EAApCA,SAAUzkB,EAA0B,EAA1BA,MAAOoW,EAAmB,EAAnBA,SAUvCsO,EAAYziB,IAAOC,IAAV,MAEO,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAG1D,OACE,eAAC4f,EAAD,WACE,cAAC7Y,EAAA,EAAD,CAAYkH,KAAK,SAAS5J,QAAS,kBAAMsb,GAAYA,EAASzkB,IAA9D,SACE,cAAC,KAAD,MAEF,cAAC2kB,GAAA,EAAD,CACEC,WAAW,EACXxO,SAAU,SAACC,GAAD,OAAOD,EAASC,EAAEhH,OAAOrP,QACnC6kB,aAAc7kB,EACdmR,YAAY,SACZ2T,WAxBiB,SAAC7Y,GACJ,UAAdA,EAAMrH,KACR6f,GAAYA,EAASzkB,MAwBpBA,GACC,cAAC6L,EAAA,EAAD,CAAY1C,QAtBE,WAClBsb,GAAYA,EAAS,KAqBjB,SACE,cAAC,KAAD,S,eC3BJM,GAAgB,CACpBxI,QAAS,CACPpI,KAAM,eACNxP,MAAO,WAETqgB,QAAS,CACP7Q,KAAM,UACNxP,MAAO,SAET8X,QAAS,CACPtI,KAAM,QACNxP,MAAO,WAETsgB,OAAQ,CACN9Q,KAAM,SACNxP,MAAO,aAYX,SAASugB,GAAT,GAAgE,IAAxC9H,EAAuC,EAAvCA,OAAQ+H,EAA+B,EAA/BA,SAE9B,OADAhP,KAAOxE,IAAI,UAAWyL,GACf,uBAAM5Y,UAAU,kBAAhB,cAAoC2gB,EAApC,OAcT,SAASC,GAAT,GAAqD,IAC7CtM,EAZR,SAA6BsE,GAC3B,IAAMjX,EAAOjC,OAAOiC,KAAKiX,GACzB,OACEjX,EAAKiP,MAAK,SAACiQ,GAAD,MAA2B,aAApBA,EAAEvP,kBACnB3P,EAAKiP,MAAK,SAACiQ,GAAD,MAA2B,UAApBA,EAAEvP,iBAEZ,SACL3P,EAAKiP,MAAK,SAACiQ,GAAD,MAA2B,YAApBA,EAAEvP,iBAAqC,UACrD,UAIQwP,CADmC,EAA9BlI,QAEd1O,EAAOqW,GAAOjM,GACpB,OACE,mBAAGtU,UAAS,uCAAkCkK,EAAK/J,MAAvC,SAAZ,SACG+J,EAAKyF,OASZ,SAASoR,GAAT,GAA0D,IAA9BC,EAA6B,EAA7BA,SAC1B,OACE,mBACEhhB,UAAS,6DACPghB,EAAW,YAAc,GADlB,SADX,+BAkBJ,SAASC,GAAT,GAAoE,IAAhDziB,EAA+C,EAA/CA,MAAO/C,EAAwC,EAAxCA,KAAMmd,EAAkC,EAAlCA,OAAQ+H,EAA0B,EAA1BA,SAAUO,EAAgB,EAAhBA,MAAgB,EACjCla,oBAAS,GADwB,mBAC1Dga,EAD0D,KAChDG,EADgD,KAEjE,OACE,sBAAKnhB,UAAS,6BAAwBghB,EAAW,WAAa,IAA9D,UACE,sBACEhhB,UAAU,sCACV2E,QAAS,kBAAMwc,GAAY,SAACC,GAAD,OAAWA,MAFxC,UAIE,cAACL,GAAD,CAAkBC,SAAUA,IAC3BpI,GAAU,cAACgI,GAAD,CAAYhI,OAAQA,IAC/B,sBACE5Y,UACY,gBAAVkhB,EAAA,cAAiC1iB,EAAM8S,eAAkB,GAF7D,SAKG9S,KAEDoa,GACA,cAAC8H,GAAD,CAAc9H,OAAQA,EAAQ+H,SAAUA,EAAUniB,MAAOA,OAG7D,cAAC6iB,GAAA,EAAD,CAAUC,GAAIN,EAAUllB,QAAS,IAAjC,SACE,qBAAKkE,UAAU,qBAAf,SACE,qBAAKA,UAAU,kBAAf,SAAkCvE,W,aCrFtC8lB,GAAuB,uBA0BvBC,GAAc,CAClB,CAAEhmB,MAAO,MAAOkW,MAAO,OACvB,CAAElW,MAAO,OAAQkW,MAAO,QACxB,CAAElW,MAAO,MAAOkW,MAAO,QAGnB+P,GAAmE,CACvEC,MAAO,CACLlmB,MAAO,QACPkW,MAAO,cAET,YAAa,CACXlW,MAAO,YACPkW,MAAO,gBAET,cAAe,CACblW,MAAO,cACPkW,MAAO,mBAcX,SAASiQ,KACP,OAXF,WACE,IAAMC,EAAatlB,aAAaqZ,QAAQ4L,IACxC,SAAIK,IAAcH,GAAYG,KAAoBA,EAS3CC,IA3DY,QA8DrB,IAAIC,GAAe,EACfC,GAAeC,KAAWrO,OAAO,CACnCsO,IAAK,CACH/Z,GAAI,KACJga,MA9DkB,CACpB,WACA,WACA,SACA,UACA,WACA,WA+EIC,GAAc,SAAChV,EAAqBiV,GACxC,IAAMC,EAHiB,SAACD,GAAD,0BAAiC,IAAIE,KAArC,YAA+CF,GAGrDG,CAAiBH,GAClC,MAAe,QAAXA,EAAyBI,kBAAOC,aAAuBtV,GAAMkV,GAClD,SAAXD,EAA0BI,kBAAOE,aAAwBvV,GAAMkV,GACpD,QAAXD,EAAyBI,kBAAOG,aAAwBxV,GAAMkV,QAAlE,GAQIO,GAAU,SAAC/jB,EAAeoL,GAAhB,OACdA,EAAK+U,MAAMngB,GAAOqJ,IAEd2a,GAAmB,SAACC,GAAD,OACvBjF,MAAMC,QAAQgF,GAAaA,EAAYjF,MAAMnb,KAAKogB,IAE9CC,GAAW,SAACC,GAAD,OACfH,GAAiBG,GAAMrkB,KAAI,SAAC+K,GAAD,MAAW,CAAEgI,MAAOhI,EAAMlO,MAAOkO,OAE9D,SAASuZ,GAAT,GAYI,IAXFhZ,EAWC,EAXDA,KACAsV,EAUC,EAVDA,SACAC,EASC,EATDA,UACAP,EAQC,EARDA,eACAiE,EAOC,EAPDA,MAQMC,EAAUzJ,mBADf,EAE+C1S,oBAAS,GAFxD,mBAEMoc,EAFN,KAEwBC,EAFxB,KASD,OANAlS,qBAAU,WACJgS,EAAQ1I,SAAW2I,GACrBD,EAAQ1I,QAAQ6I,aAAarZ,EAAKmQ,UAEnC,CAACnQ,EAAKmQ,OAAQgJ,IAGf,iCACIA,GACA,sBACEze,QAAS,kBAAMwe,EAAQ1I,QAAQ6I,aAAarZ,EAAKmQ,SACjDpa,UAAS,wBAFX,UAIE,mBAAGA,UAAU,iBAAb,4BAJF,qBAOF,cAAC,GAAD,CAAiB+e,QAAS,CAAEQ,WAAUC,aAAarU,QAAS+X,IAC5D,qBACEljB,UAAS,8BACPkjB,EAAQ,SAAW,GADZ,mBADX,SAKE,cAAC,KAAD,UACG,YAAwB,IAArB5J,EAAoB,EAApBA,OAAQ5N,EAAY,EAAZA,MACJ+T,EAAW/T,GAAS6T,EAAWC,GACrC,OACE,cAAC,KAAD,CACE+D,SAAU,YAAuB,IAApBC,EAAmB,EAAnBA,aACXH,GACGG,EAAelK,GA3JnB,GA2JwCrP,EAAKmQ,SAAW,IAGzDd,OAAQA,EACR5N,MAAOA,EACP+X,UAAWxZ,EAAKmQ,OAChBsJ,SAjKC,GAkKDd,QAASA,GACTe,SAAU,CACR3E,MAAO/U,EACP8U,QAAS,CAAEQ,WAAUC,YAAWC,YAChCR,kBAEFrS,IAAKuW,EAhBP,SAkBGtE,aAkBjB,SAAS+E,GAAT,GAMqB,IALnBC,EAKkB,EALlBA,YACAC,EAIkB,EAJlBA,SACAvE,EAGkB,EAHlBA,SACAC,EAEkB,EAFlBA,UACAP,EACkB,EADlBA,eAEA,OACE,cAACX,GAAA,EAAK7T,KAAN,CACEzK,UAAU,sCACVsH,YAAU,uBAFZ,SAIG5H,OAAOiC,KAAKkiB,GAAazJ,QACxB,qBAAKpa,UAAU,sBAAf,SACGN,OAAOC,QAAQkkB,GAAallB,KAAI,WAAcW,GAAd,uBAAEc,EAAF,KAAO6J,EAAP,YAC/B,cAACgX,GAAD,CACEC,MAAO4C,EAEPtlB,MAAO4B,EACPwY,OAAQ3O,EAAK2O,OACb+H,SAAU1W,EAAKA,KAAKmQ,OACpB3e,KACE,cAACwnB,GAAD,CACE1D,SAAUA,EACVC,UAAWA,EACXvV,KAAMA,EAAKA,KACXgV,eAAgBA,EAChBiE,OAAK,KAVJ5jB,UAqBnB,SAASykB,GAAT,GAAqD,IAAhC9Z,EAA+B,EAA/BA,KAAMgV,EAAyB,EAAzBA,eAAyB,EACZjY,oBAAS,kBAAM2a,QADH,mBAC3CqC,EAD2C,KAC9BC,EAD8B,OAGJjd,mBAA4B,IAHxB,mBAG3Ckd,EAH2C,KAG1BC,EAH0B,OAINnd,mBAA4B,IAJtB,mBAI3Cod,EAJ2C,KAI3BC,EAJ2B,OAMRrd,mBAAyB,IANjB,mBAM3Csd,EAN2C,KAM5BC,EAN4B,OAOVvd,mBAAS,IAPC,mBAO3Cwd,EAP2C,KAO7BC,EAP6B,KAS5C1gB,EAASkW,sBAAW,wBAAC,+BAAAjG,EAAA,6DACnB0Q,EAAUza,EAAK0a,MAAM7C,GAAc7X,EAAKmQ,QAC9C2H,GAAa6C,IAAIF,GACjB5C,GAAe7X,EAAKmQ,OAHK,SAII2H,GAAahe,OACxCygB,GALuB,OAInBF,EAJmB,OAOzBC,EAAiBD,GAPQ,2CASxB,CAACE,EAAcva,EAAKmQ,SAMvB,SAASyK,EAAQC,GAnMnB,IAA+BlD,EAoM3BqC,EAAea,GApMYlD,EAqMLkD,EApMxBxoB,aAAaC,QAAQglB,GAAsBK,GA8L3CzQ,qBAAU,WACJqT,GAAgBva,EAAKmQ,QAAQrW,MAChC,CAACkG,EAAKmQ,OAAQoK,EAAczgB,IAO/B,IAAMghB,EAAaP,EAAeF,EAAgBra,EAC5C+a,EAAU/a,EAAKrI,QAAO,SAACC,EAAKojB,GAAN,OAAepjB,EAAI+iB,IAAIK,EAAKtV,QAAO,IAAIuV,KAE/DrB,EAA2B,GAC/BlS,KAAOxE,IAAI,kBAAmB4X,GAE9B,IAAII,GAAcJ,GAAc,IAAInlB,QAAO,SAAC+U,GAAD,OA7L3CjL,EA8LeiL,EA7LfyQ,EA6LuB,CACnB3M,MAAO2L,EAAezlB,KAAI,qBAAGnD,SAC7BmU,KAAMuU,EAAgBvlB,KAAI,qBAAGnD,UA7LjCkE,OAAOC,QAAQylB,GAASxjB,QAAO,SAACC,EAAKojB,GAAU,IAAD,cACvBA,EADuB,GACrC7kB,EADqC,KAChC5E,EADgC,KAE5C,OAAOqG,GAAOgc,MAAMC,QAAQtiB,GACP,IAAjBA,EAAM4e,QAEJ5e,EAAMsE,SAAS4J,EAAKtJ,IACtB5E,IAAUkO,EAAKtJ,MAClB,GAXgB,IACnBsJ,EACA0b,KAmMA,GAAoB,cAAhBpB,EAA6B,CAC/B,IAAMqB,EAAWxC,GAAiBmC,GAASrmB,KACzC,SAACgR,GAAD,OAAkBA,EAAK2B,cAAc7U,MA3Qf,KA2Q0C,MAElEonB,EAAc,GACdwB,EAASC,SAAQ,SAACC,GAChB,IAAMvU,EAAoB,GAC1BA,EAAI/G,MAAQkb,GAAc,IAAIvlB,QAC5B,SAACuN,GAAD,OAASA,EAAIwC,MAAQxC,EAAIwC,KAAK2B,cAAcpM,WAAWqgB,MAGpDvU,EAAI/G,KAAKmQ,SACdpJ,EAAI4H,OAAS/K,KAAE2X,QAAQxU,EAAI/G,KAAM,SACjC4Z,EAAY0B,GAAWvU,UAEA,gBAAhBgT,IACTH,EAAc,GACdvL,GAAOgN,SAAQ,SAAC7M,GACd,IAAMgN,EAA0B,GAEhCA,EAAUxb,MAAQkb,GAAc,IAAIvlB,QAAO,SAACuN,GAAD,OAASA,EAAIsL,QAAUA,KAE7DgN,EAAUxb,KAAKmQ,SACpByJ,EAAYpL,GAASgN,OAOzB,OACE,eAACnH,GAAA,EAAD,CAAMte,UAAU,OAAhB,UACE,cAACse,GAAA,EAAK/T,OAAN,CAAavK,UAAU,MAAvB,SACE,eAAC2K,EAAA,EAAD,CAAK3K,UAAU,MAAf,UACE,eAAC4K,EAAA,EAAD,CAAKtJ,GAAG,IAAIgG,YAAU,mBAAtB,UACE,cAAC+V,GAAD,CACEG,YAAU,EACVna,QAAS3D,OAAO4T,OAAOmO,IACvBhE,eAAgB,SAACP,GAAD,OAAY2H,EAAQ3H,EAAO,GAAG1hB,QAC9CwE,UAAU,6CACV2M,YACkB,UAAhBqX,EACE,uBAAM1c,YAAU,8BAAhB,UACE,mBAAGtH,UAAU,sBAAb,wBADF,gBAIA,uBAAMsH,YAAU,8BAAhB,UACE,mBAAGtH,UAAU,sBAAb,uBACCyhB,GAAYuC,GAAatS,SAIhC6L,cAAc,IAEC,UAAhByG,GACC,cAAC3G,GAAD,CACEC,SAAO,EACPja,QAAS0f,GAASiC,GAClBvH,eAAgB0G,EAChBnkB,UAAU,6CACV2M,YACE,uBAAMrF,YAAU,gCAAhB,UACE,mBAAGtH,UAAU,sBAAb,uBADF,mBAMN,cAACqd,GAAD,CACEC,SAAO,EACPja,QAAS0f,GAASzK,IAClBmF,eAAgB4G,EAChBrkB,UAAU,6CACV2M,YACE,uBAAMrF,YAAU,+BAAhB,UACE,mBAAGtH,UAAU,sBAAb,uBADF,kBAKJ,cAACqd,GAAD,CACEG,YAAU,EACVna,QAASme,GACT/D,eAAgB,SAACP,GACfiF,GAAYlY,EAAMiT,EAAO,GAAG1hB,QAE9BwE,UAAU,6CACV2M,YACE,uBAAMrF,YAAU,yBAAhB,UACE,mBAAGtH,UAAU,sBAAb,sBADF,mBAIFud,cAAc,OAGlB,cAAC3S,EAAA,EAAD,CAAKtJ,GAAG,IAAR,SACE,cAAC0e,GAAD,CACErT,YAAY,iBACZnR,MAAOgpB,EACP5S,SAAU6S,WAKD,UAAhBT,EACC,cAACf,GAAD,CACE1D,SA7ES,IA8ETC,UA7EU,IA8EVvV,KAAMkb,EACNlG,eAAgBA,EAChBiE,OAAO,IAGT,cAACU,GAAD,CACErE,SArFS,IAsFTC,UArFU,IAsFVsE,SAAUE,EACVH,YAAaA,EACb5E,eAAgBA,O,cCzZbyG,GAAa,SAAClgB,GAAD,OAAkBA,EAAMmgB,eAAeC,MACpDC,GAAkB,SAACrgB,GAAD,OAAkBA,EAAMmgB,eAAeG,WACzDC,GAA4B,SAACvgB,GAAD,OACvCA,EAAMmgB,eAAeK,qB,SCmBjBC,GAAuB,uBAEvB7H,GAEF,CACF,WAAY,CACV5iB,MAAO,WACPkW,MAAO,aACPwU,YAAa,CAAC,UAAW,UAAW,KAEtC,WAAY,CACV1qB,MAAO,WACPkW,MAAO,aACPwU,YAAa,CAAC,UAAW,aAAc,KAEzC,QAAS,CACP1qB,MAAO,QACPkW,MAAO,SACPwU,YAAa,CAAC,SAAU,UAAW,MAIjCjI,GAAwC,CAC5C,WAAY,GACZ,WAAY,IACZ,QAAS,MAaX,SAASkI,KACP,OAXF,WACE,IAAMvE,EAAatlB,aAAaqZ,QAAQsQ,IACxC,SAAIrE,IAAcxD,GAAYwD,KAAoBA,EAS3CwE,IA3CsC,WA8C/C,SAASC,KACP,IAAMvf,EAAWC,cAEXif,EAAsBnf,YAAYkf,IAClCH,EAAO/e,YAAY6e,IACnBI,EAAYjf,YAAYgf,IALZ,EAMsB7e,oBAAS,kBAC/Cmf,QAPgB,mBAMX9H,EANW,KAMGiI,EANH,OAU0Btf,oBAAS,kBACnDuf,aACEtI,GAAWI,GAxDO,GA0DlB2H,EACA,IAAI1D,SAfU,mBAUXkE,EAVW,KAUKC,EAVL,KA4BlBtV,qBAAU,WACR,IAAMuV,EAAc,IAAIpE,KAClBqE,EAAYJ,aAChBtI,GAAWI,GA3EO,GA6ElB2H,EACAU,GAEFD,EAAkB,gBAAKE,MACtB,CAACtI,EAAc2H,IAWlB,IAAMY,EAAgBxI,GAAYC,GAElC,OACE,cAACtc,GAAA,EAAD,CAAWwC,OAAK,EAACvE,UAAU,8BAA3B,SACE,sBAAKA,UAAU,OAAf,UACE,cAAC2K,EAAA,EAAD,CAAKnG,WAAS,EAACxE,UAAU,mBAAzB,SACE,cAACD,GAAA,EAAD,CAAWvB,MAAM,aAAawB,UAAU,wBAE1C,eAAC2K,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAKtJ,GAAG,KAAKtB,UAAU,OAAvB,SACE,cAACge,GAAD,CACE/T,KAAMuc,EACNtI,QArBZ,SAAiBpE,GAAqC,IAC5C7P,EAASuc,EAATvc,KACJpL,EAAQib,EAAa,IAAMA,EAAa,GAAG+M,OAC/C,GAAIhoB,GAA0B,qBAAVA,EAAuB,CAAC,IAClCioB,EAAY7c,EAAKpL,GAAjBioB,QACRhgB,EAASigB,aAAeD,MAiBhB3I,iBAtCZ,SAA0B6I,GA/B5B,IAA+BpF,EAgC3B0E,EAAgBU,GAhCWpF,EAiCLoF,EAhCxB1qB,aAAaC,QAAQ0pB,GAAsBrE,IAqE/BxD,YAAaA,GACbC,aAAcA,EACd7E,WAAYoN,EAAcV,gBAG9B,cAACtb,EAAA,EAAD,CAAKtJ,GAAG,IAAItB,UAAU,OAAtB,SACE,cAAC4e,GAAD,CAAkB3U,KAAM6b,SAG5B,cAAC/B,GAAD,CAAW9Z,KAAM2b,EAAM3G,eApD7B,SAAwB9R,GACtBrG,EAASyI,YAAU,aAAc,CAAEpC,iBC5ExB,SAAS8Z,GAAT,GAA0C,IAAnBC,EAAkB,EAAlBA,QACpC,OACE,eAAC,IAAD,CAAMlnB,UAAU,YAAhB,UACE,oBAAIA,UAAU,qDAAd,SACE,4BAAIknB,EAAQC,cAEd,oBAAInnB,UAAU,eAAd,SAA8BknB,EAAQE,UACtC,oBAAIpnB,UAAU,gDAAd,6BC+DSqnB,OAvEf,YAA4C,IAApBC,EAAmB,EAAnBA,SAChB7N,EAAYC,iBAAiC,MADV,EAEC1S,mBAA8B,MAF/B,mBAElC2S,EAFkC,KAEnBC,EAFmB,KAgDzC,OA5CAzI,qBAAU,WACR,GAAKsI,EAAUgB,QAAf,CACA,IAAM6B,EAAmB,IAAIC,KAAa9C,EAAUgB,QAAS,CAC3DlM,KAAM,WACNtE,KAAM,CACJoS,SAAU,CACR,CACEkL,iBAAkB,OAClBtd,KAAM,CAAC,EAAG,KACVgB,gBAAiB,CAAC,UAAW,aAGjCiO,OAAQ,CAAC,UAAW,YAEtB7V,QAAS,CACP2X,OAAQ,CAAEpL,SAAS,GACnBmL,YAAY,EACZyM,iBAAkB,GAClB7M,UAAW,CAAEC,SAAU,GACvBK,SAAU,CACRC,SAAS,MAIftB,EAAiB0C,MAChB,IAEHnL,qBAAU,WACR,GAAKwI,EAAL,CACA,IAAM8N,EAAwD,KAA7CH,EAASI,SAAWJ,EAASK,SAAW,GACrDjD,EAAU,CACZrI,SAAU,CACR,CACEkL,iBAAkB,OAClBtd,KAAM,CAACwd,EAAS,IAAMA,GACtBxc,gBAAiB,CAAC,UAAW,aAGjCiO,OAAQ,CAAC,UAAW,YAEtBS,EAAc1P,KAAOya,EACrB/K,EAAc8C,YACb,CAACrP,KAAKC,UAAUia,GAAW3N,IAG5B,eAAC,IAAD,CAAM3Z,UAAU,YAAhB,UACE,oBAAIA,UAAU,gDAAd,SACE,2CAEF,sBAAKA,UAAU,0CAAf,UACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,gDAAd,qBAGA,oBAAIA,UAAU,OAAd,SAAsBsnB,EAASM,oBAGjC,wBACEhb,IAAK6M,EACL1Q,MAAO,CAAE2C,MAAO,QAAS4N,OAAQ,SACjCtZ,UAAU,mB,SC6EL6nB,OAzIf,YAAsC,IAAjBC,EAAgB,EAAhBA,MACbrO,EAAYC,iBAAiC,MADhB,EAEO1S,mBAA8B,MAFrC,mBAE5B2S,EAF4B,KAEbC,EAFa,KAG3BmO,EAAYD,EAAZC,QACAjqB,EAAY2C,eAAZ3C,QAEJkqB,EAAW9N,KAAK+N,IAAL,MAAA/N,KAAI,aAAQ6N,IACvBG,EAAWhO,KAAKiO,IAAL,MAAAjO,KAAI,aAAQ6N,IAErBK,EAAkBnO,uBAAY,WAClC,IAAMoO,EAAaL,EAAWE,EAC9B,MAAO,CACLpN,qBAAqB,EACrBC,YAAY,EACZJ,UAAW,CAAEC,SAAU,GACvBI,OAAQ,CACNpL,SAAS,GAEXqL,SAAU,CACRC,SAAS,GAEXhc,OAAQ,CACNoM,QAAS,CACPlB,QAAS,GACTiB,MAAO,KAGXsF,SAAU,CACRwK,MAAO,CACLC,OAAQ,GAEVkN,KAAM,CACJC,QAAS,MAGbjN,OAAQ,CACNC,MAAO,CACL,CACEK,UAAW,CACThM,SAAS,GAEX6L,MAAO,CACL7L,SAAS,KAIfkM,MAAO,CACL,CACEF,UAAW,CACThM,SAAS,GAEXmM,WAAY,CACVzQ,QAAS,EACTsE,SAAS,GAEX6L,MAAO,CACL7L,SAAS,EAGT4Y,aAAcR,EAAwB,GAAbK,EACzBnM,aAAcgM,EAAwB,GAAbG,SAMlC,CAACL,EAAUE,IAERO,EAAiBxO,uBACrB,SAACS,GACC,MAAO,CACLnM,KAAM,OACNtE,KAAM,CACJiP,OAAQ,IAAI2E,MAAMkK,EAAQ3N,QAAQrB,KAAK,MACvCsD,SAAU,CACR,CACE3K,MAAO,QACPqH,KAAM,QACN2F,YAAa,IACbzT,gBAAiB,0BACjB2M,YAAa9Z,EAAQF,QACrBqM,KAAM8d,KAIZ1kB,QAASqX,KAGb,CAACqN,EAASjqB,EAAQF,UAiCpB,OA9BAuT,qBAAU,WACR,GAAKsI,EAAUgB,QAAf,CACA,IAAMC,EAAe0N,IACfhM,EAAcqM,EAAe/N,GAC7B4B,EAAmB,IAAIC,KAAa9C,EAAUgB,QAAS2B,GAC7DxC,EAAiB0C,MAChB,IAEHnL,qBAAU,WACR,GAAKwI,EAAL,CACA,IAAI+O,EAAY,6BACX/O,EAAc1P,MACd,CACDoS,SAAU,CACR,CACE3K,MAAO,QACPqH,KAAM,QACN2F,YAAa,IACbzT,gBAAiB,0BACjB2M,YAAa9Z,EAAQF,QACrBqM,KAAM8d,MAKdpO,EAActW,QAAU+kB,IACxBzO,EAAc1P,KAAOye,EACrB/O,EAAc8C,YACb,CAACsL,EAASpO,EAAeyO,EAAiBK,EAAgB3qB,EAAQF,UAGnE,eAAC,IAAD,CAAMoC,UAAU,yBAAhB,UACE,sBAAKA,UAAU,4BAAf,UACE,oBAAIA,UAAU,+DAAd,SACE,wCAEF,oBAAIA,UAAU,eAAd,SAA8B8nB,EAAMrN,UACpC,qBAAIza,UAAU,sDAAd,UACG8nB,EAAMa,KADT,gBAIF,wBAAQrP,OAAO,MAAM1M,IAAK6M,EAAWzZ,UAAU,sBCoDtC4oB,OA7Kf,SAAsBjrB,GACpB,IAAM8b,EAAYC,iBAAiC,MADjB,EAEQ1S,mBAA8B,MAFtC,mBAE3B2S,EAF2B,KAEZC,EAFY,OAGE5S,mBAAsB,YAHxB,mBAG3B6hB,EAH2B,KAGfC,EAHe,KAI1BhrB,EAAY2C,eAAZ3C,QAEF0e,EAAY7e,EAAMkrB,GAElBT,EAAkBnO,uBAAY,WAClC,MAAO,CACLU,UAAW,CAAEC,SAAU,GACvBK,SAAU,CACR8N,UAAW,CACTvqB,MAAO,SAAUwqB,GACf,MAAM,QAAN,OAAeA,EAAY,GAAGC,SAEhCvX,MAAO,SAACsX,EAAkB/e,GACxB,IAAIyH,EAAK,UAAMzH,EAAKoS,SAAS2M,EAAYE,cAAcxX,MAA9C,aACQ,UAAfmX,EACIM,aAAYH,EAAYxtB,OACxBwtB,EAAYxtB,OAElB,OAAOkW,GAET0X,WAAY,SAACJ,GAEX,MADW,iBAAmBxM,EAAUwM,EAAYnqB,OAAOmE,WAKjEsY,OAAQ,CACNC,MAAO,CACL,CACEC,SAAS,IAGbM,MAAO,CACL,CACEN,SAAS,EACTC,MAAO,CACL1H,SAAU,SAACrC,GACT,MAAmB,UAAfmX,EAA+BM,aAAYzX,GACxCA,EAAQ,IAAR,WAAkBA,EAAQ,KAAM2X,QAAQ,GAAxC,KAAgD3X,OAMjEoJ,qBAAqB,KAEtB,CAAC0B,EAAWqM,IAETJ,EAAiBxO,uBACrB,SAACS,GACC,MAAO,CACLnM,KAAM,MACNlL,QAASqX,EACTzQ,KAAM,CACJiP,OAAQsD,EAAU7d,KAAI,SAAC2qB,GAAD,OAAYA,EAAE5Y,QACpC2L,SAAU,CACR,CACE3K,MAAO,WACPqH,KAAM,QACN9O,KAAMuS,EAAU7d,KAAI,SAAC2qB,GAAD,OAAYA,EAAEC,QAClCte,gBAAiBnN,EAAQF,QACzBga,YAAa9Z,EAAQF,QACrB4rB,qBAAsB1rB,EAAQE,WAC9ByrB,0BAA2B3rB,EAAQF,QACnC8gB,YAAa,KAEf,CACEhN,MAAO,eACPqH,KAAM,QACN9O,KAAMuS,EAAU7d,KAAI,SAAC2qB,GAAD,OAAYA,EAAEI,YAClCze,gBAAiBnN,EAAQia,QACzBH,YAAa9Z,EAAQia,QACrByR,qBAAsB1rB,EAAQE,WAC9ByrB,0BAA2B3rB,EAAQia,QACnC2G,YAAa,UAMvB,CAAClC,EAAW1e,EAAQia,QAASja,EAAQF,QAASE,EAAQE,aAGlD2rB,EAAe1P,uBAAY,WAC/B,MAAO,CACLf,OAAQsD,EAAU7d,KAAI,SAAC2qB,GAAD,OAAYA,EAAE5Y,QACpC2L,SAAU,CACR,CACE3K,MAAM,GAAD,OAAKmX,EAAL,SACL9P,KAAM,QACN9O,KAAMuS,EAAU7d,KAAI,SAAC2qB,GAAD,OAAYA,EAAEC,QAClCte,gBAAiBnN,EAAQF,QACzBga,YAAa9Z,EAAQF,QACrB4rB,qBAAsB1rB,EAAQE,WAC9ByrB,0BAA2B3rB,EAAQF,QACnC8gB,YAAa,KAEf,CACEhN,MAAM,GAAD,OAAKmX,EAAL,aACL9P,KAAM,QACN9O,KAAMuS,EAAU7d,KAAI,SAAC2qB,GAAD,OAAYA,EAAEI,YAClCze,gBAAiBnN,EAAQia,QACzBH,YAAa9Z,EAAQia,QACrByR,qBAAsB1rB,EAAQE,WAC9ByrB,0BAA2B3rB,EAAQia,QACnC2G,YAAa,SAIlB,CACDlC,EACAqM,EACA/qB,EAAQia,QACRja,EAAQF,QACRE,EAAQE,aAoBV,OAjBAmT,qBAAU,WACR,GAAKsI,EAAUgB,QAAf,CACA,IAAMC,EAA6B0N,IAC7BhM,EAAkCqM,EAAe/N,GACjD4B,EAAmB,IAAIC,KAAa9C,EAAUgB,QAAS2B,GAC7DxC,EAAiB0C,MAChB,IAEHnL,qBAAU,WACR,GAAKwI,EAAL,CACA,IAAM+K,EAAqBiF,IACrBC,EAA2BxB,IACjCzO,EAActW,QAAUumB,EACxBjQ,EAAc1P,KAAOya,EACrB/K,EAAc8C,YACb,CAACD,EAAW7C,EAAekP,EAAYc,EAAcvB,IAGtD,eAAC,IAAD,CAAMlF,OAAK,EAACljB,UAAU,aAAtB,UACE,cAAC,IAAD,CAAYA,UAAU,gBAAtB,SACE,oBAAIA,UAAU,MAAd,4BAGF,eAAC,IAAD,CAAUA,UAAU,OAApB,UACE,cAAC,IAAD,CAAKA,UAAU,8BAAf,SACE,cAAC,IAAD,CAAKqB,GAAG,IAAIrB,UAAU,0BAAtB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEnC,MAAM,QACNgsB,OAAuB,aAAfhB,EACRlkB,QAAS,kBAAMmkB,EAAc,aAH/B,sBAOA,cAAC,IAAD,CACEjrB,MAAM,QACNgsB,OAAuB,UAAfhB,EACRlkB,QAAS,kBAAMmkB,EAAc,UAH/B,0BAUN,qBAAK/f,MAAO,CAAEH,SAAU,WAAY0Q,OAAQ,KAA5C,SACE,wBAAQ1M,IAAK6M,aC3CRqQ,OAvIf,YAA+C,IAAfC,EAAc,EAAdA,IACxBtQ,EAAYC,iBAAiC,MADP,EAEF1S,mBAA8B,MAF5B,mBAErC2S,EAFqC,KAEtBC,EAFsB,KAGpCmO,EAAYgC,EAAZhC,QAEJC,EAAW9N,KAAK+N,IAAL,MAAA/N,KAAI,aAAQ6N,IACvBG,EAAWhO,KAAKiO,IAAL,MAAAjO,KAAI,aAAQ6N,IAErBK,EAAkBnO,uBAAY,WAClC,IAAMoO,EAAaL,EAAWE,EAC9B,MAAO,CACLpN,qBAAqB,EACrBC,YAAY,EACZJ,UAAW,CAAEC,SAAU,GACvBI,OAAQ,CACNpL,SAAS,GAEXqL,SAAU,CACRC,SAAS,GAEXvK,SAAU,CACRwK,MAAO,CACLC,OAAQ,GAEVkN,KAAM,CACJC,QAAS,MAGbrpB,OAAQ,CACNoM,QAAS,CACPlB,QAAS,GACTiB,MAAO,KAGXiQ,OAAQ,CACNC,MAAO,CACL,CACEK,UAAW,CACThM,SAAS,GAEX6L,MAAO,CACL7L,SAAS,KAIfkM,MAAO,CACL,CACEF,UAAW,CACThM,SAAS,GAEXmM,WAAY,CACVnM,SAAS,GAEX6L,MAAO,CACL7L,SAAS,EAGT4Y,aAAcR,EAAwB,GAAbK,EACzBnM,aAAcgM,EAAwB,GAAbG,SAMlC,CAACL,EAAUE,IAERO,EAAiBxO,uBACrB,SAACS,GACC,MAAO,CACLnM,KAAM,OACNtE,KAAM,CACJiP,OAAQ,IAAI2E,MAAMkK,EAAQ3N,QAAQrB,KAAK,MACvCsD,SAAU,CACR,CACE3K,MAAO,QACPqH,KAAM,QACN2F,YAAa,IACbzT,gBAAiB,2BACjB2M,YAAa,UACb3N,KAAM8d,KAIZ1kB,QAASqX,KAGb,CAACqN,IAiCH,OA9BA5W,qBAAU,WACR,GAAKsI,EAAUgB,QAAf,CACA,IAAMC,EAAe0N,IACfhM,EAAcqM,EAAe/N,GAC7B4B,EAAmB,IAAIC,KAAa9C,EAAUgB,QAAS2B,GAC7DxC,EAAiB0C,MAChB,IAEHnL,qBAAU,WACR,GAAKwI,EAAL,CACA,IAAI+O,EAAY,6BACX/O,EAAc1P,MACd,CACDoS,SAAU,CACR,CACE3K,MAAO,QACPqH,KAAM,QACN2F,YAAa,IACbzT,gBAAiB,2BACjB2M,YAAa,UACb3N,KAAM8d,MAKdpO,EAActW,QAAU+kB,IACxBzO,EAAc1P,KAAOye,EACrB/O,EAAc8C,YACb,CAACsL,EAASpO,EAAeyO,EAAiBK,IAG3C,eAAC,IAAD,CAAMzoB,UAAU,yBAAhB,UACE,sBAAKA,UAAU,4BAAf,UACE,oBAAIA,UAAU,+DAAd,SACE,sCAEF,oBAAIA,UAAU,eAAd,SAA8B+pB,EAAItP,UAClC,oBAAIza,UAAU,sDAAd,+BAIF,wBAAQsZ,OAAO,MAAM1M,IAAK6M,EAAWzZ,UAAU,sBC5IxCgqB,GAAiB,SAACxkB,GAAD,OAAkBA,EAAMykB,UAAUC,UC0CjDC,OAjCf,WACE,IAAMD,EAAWrjB,YAAYmjB,IAE7B,OACE,cAACjoB,GAAA,EAAD,CAAWwC,OAAK,EAACvE,UAAU,8BAA3B,SACE,sBAAKA,UAAU,OAAf,UACE,cAAC2K,EAAA,EAAD,CAAKnG,WAAS,EAACxE,UAAU,mBAAzB,SACE,cAACD,GAAA,EAAD,CAAWvB,MAAM,OAAOwB,UAAU,wBAEpC,eAAC2K,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAKtJ,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIxB,UAAU,OAApC,SACE,cAACinB,GAAD,CAAaC,QAASgD,EAAShD,YAEjC,cAACtc,EAAA,EAAD,CAAKtJ,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIxB,UAAU,OAApC,SACE,cAAC,GAAD,CAAcsnB,SAAU4C,EAAS5C,aAEnC,cAAC1c,EAAA,EAAD,CAAKtJ,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIxB,UAAU,OAApC,SACE,cAACoqB,GAAD,CAAkBL,IAAKG,EAASH,QAElC,cAACnf,EAAA,EAAD,CAAKtJ,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIxB,UAAU,OAApC,SACE,cAAC,GAAD,CAAW8nB,MAAOoC,EAASpC,aAG/B,cAAC,GAAD,CACEuC,SAAUH,EAASG,SACnBC,MAAOJ,EAASI,MAChBC,WAAYL,EAASM,wB,8BClBlBC,GAAwB,CACnC,CACE/Y,MAAO,aACP/E,YAAa,UACbnR,MAAO,aAET,CACEkW,MAAO,aACP/E,YAAa,OACbnR,MAAO,aAET,CACEkW,MAAO,eACP/E,YAAa,UACbnR,MAAO,eAET,CACEkW,MAAO,eACP/E,YAAa,OACbnR,MAAO,gBAIEkvB,GAA4B,CACvC,CACEhZ,MAAO,MACP/E,YAAa,cACbnR,MAAO,OAET,CACEkW,MAAO,UACP/E,YAAa,kBACbnR,MAAO,WAET,CACEkW,MAAO,OACP/E,YAAa,aACbnR,MAAO,QAET,CACEkW,MAAO,WACP/E,YAAa,mBACbnR,MAAO,YAET,CACEkW,MAAO,QACP/E,YAAa,kBACbnR,MAAO,UCtDI,SAASmvB,GAAT,GAMJ,IAAD,IALRC,eAKQ,MALE,EAKF,EAJRlZ,EAIQ,EAJRA,MACAlW,EAGQ,EAHRA,MACAmR,EAEQ,EAFRA,YACAiF,EACQ,EADRA,SAEA,OACE,eAAC,IAAD,CAAKtQ,GAAIspB,EAAS5qB,UAAU,aAA5B,UACE,gCAAQ0R,IACR,cAAC,IAAD,CACEpK,YAAWoK,EAAMmZ,WAAW,IAAK,IACjCle,YAAaA,EACbnR,MAAOA,EACPoW,SAAUA,O,cCxBX,IAAMkZ,GAAiB,SAACtlB,GAAD,OAAkBA,EAAM+P,cAAczB,UC2GrDiX,OA1Ff,WAAyB,IAAD,EACQ/jB,mBAAwB,IADhC,mBACfgkB,EADe,KACNC,EADM,OAEUjkB,oBAAS,GAFnB,mBAEfga,EAFe,KAELG,EAFK,KAIhBrN,EAAWjN,YAAYikB,IAEvBhkB,EAAWC,cAEjB,SAASmkB,EAAcC,EAAsB3vB,GAC3C,IAAM4vB,EAAyB,gBAAQJ,GACvCI,EAAWD,GAAW3vB,EACtByvB,EAAWG,GAWb,OACE,eAAC,IAAD,CAAMlI,OAAK,EAACljB,UAAU,OAAtB,UACE,cAAC,IAAD,CAAYA,UAAU,gBAAtB,SACE,oBAAIA,UAAU,MAAd,sCAEF,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAKqrB,MAAI,EAAT,SACGZ,GAAY9rB,KAAI,gBAAG+S,EAAH,EAAGA,MAAO/E,EAAV,EAAUA,YAAanR,EAAvB,EAAuBA,MAAvB,OACf,cAACmvB,GAAD,CAEEjZ,MAAOA,EACP/E,YAAaA,EACbnR,MACGA,KAASwvB,EACNA,EAAQxvB,GACRsY,EAAStY,GAEfoW,SAAU,SAACC,GAAD,OAAOqZ,EAAc1vB,EAAOqW,EAAEhH,OAAOrP,SAR1CA,QAYX,eAAC,IAAD,WACE,cAAC,IAAD,CAAK4F,GAAG,IAAR,SACE,yBACEmG,gBAAc,iBACd+jB,gBAAetK,EACfrc,QA/Bd,WACEwc,GAAaH,IA+BDhhB,UAAU,kDAJZ,qBAMW,IACT,mBAAGA,UAAU,iBAAb,SACGghB,EAAW,gBAAkB,yBAIpC,cAAC,IAAD,CAAK5f,GAAG,IAAIpB,UAAU,aAAtB,SACE,cAAC,IAAD,CAAQ2E,QA7CpB,WACEmC,EC/BG,SAAwBgN,GAC7B,MAAO,CACLvF,KAAMgd,KACNC,QAAS1X,GD4BA2X,CAAeT,KA4Cd,+BAGJ,cAAC3J,GAAA,EAAD,CAAUC,GAAIN,EAAd,SACE,sBAAK9Y,GAAG,iBAAR,UACE,wBAAQlI,UAAU,0BAAlB,uBACA,cAAC,IAAD,CAAKqrB,MAAI,EAAT,SACGX,GAAgB/rB,KAAI,gBAAG+S,EAAH,EAAGA,MAAO/E,EAAV,EAAUA,YAAanR,EAAvB,EAAuBA,MAAvB,OACnB,cAACmvB,GAAD,CAEEjZ,MAAOA,EACP/E,YAAaA,EACbnR,MACGA,KAASwvB,EACNA,EAAQxvB,GACRsY,EAAStY,GAEfoW,SAAU,SAACC,GAAD,OACRqZ,EAAc1vB,EAAsBqW,EAAEhH,OAAOrP,SAT1CA,sBElEVkwB,G,+MAfbC,OAAS,WACP,OACE,eAAC5pB,GAAA,EAAD,CAAWwC,OAAK,EAACvE,UAAU,8BAA3B,UACE,cAAC2K,EAAA,EAAD,CAAKnG,WAAS,EAACxE,UAAU,mBAAzB,SACE,cAACD,GAAA,EAAD,CACEvB,MAAM,WACNwB,UAAU,wBAGd,cAAC4rB,GAAD,Q,YAVmBznB,IAAMC,W,mBCCpBynB,GAAY,yCAAG,WAAOzG,GAAP,gBAAApR,EAAA,sEACHN,KAAMW,IAAIyX,gCAA8B,CAC7DC,OAAQ3G,EACR4G,iBAAkB,SAACD,GAAD,OAAYE,GAAqBF,MAH3B,cACpBG,EADoB,yBAMnBA,EAASjiB,MANU,2CAAH,sDASZkiB,GAAoB,yCAAG,WAAOC,GAAP,oBAAApY,EAAA,6DAC5BqY,EAAiBC,GAAkBF,GADP,SAEA1Y,KAAMW,IAAIgY,GAFV,cAE5BE,EAF4B,gBAGP7Y,KAAMc,KAAK,kCAAmC,CACvEjU,KAAMgsB,EAAoBtiB,OAJM,cAG5BuiB,EAH4B,yBAO3BA,EAAaviB,MAPc,2CAAH,sDAUpBgiB,GAAuB,SAACF,GAAD,OAK9BU,aAAsBV,EAAQ,CAAEW,YAAa,QAASC,UAAU,KAEzDL,GAAoB,SAACF,GAIhC,OAAOA,EAAItsB,SAAS,iBAChBssB,EAAIhnB,QAAQ,SAAU,yBAAyBA,QAAQ,QAAS,IAHlE,uECdEwnB,GAAgB,CAAEC,KAAM,GAAIC,SAAU,IAE/BC,GAAiB,eAC5B3H,EAD4B,uDACJwH,GADI,gDAEA,WAAO9lB,GAAP,gBAAAkN,EAAA,sEAE1BlN,EAAS,CACPyH,KAAMye,OAHkB,SAMLnB,GAAazG,GANR,OAMpB6H,EANoB,OAQ1BnmB,EAASomB,GAAsBD,IARL,gDAU1BnmB,EAASqmB,GAAsB,EAAD,KAVJ,yDAFA,uDAgBxBD,GAAwB,SAC5BD,GAEA,MAAO,CACL1e,KAAM6e,KACN5B,QAAS,CAAEyB,YAITE,GAAwB,SAAC9oB,GAC7B,MAAO,CACLkK,KAAM8e,KACN7B,QAAS,CAAEnnB,W,sBClDA,OAA0B,qC,wpCCOzC,IAAMipB,GAAwB7vB,YAAO6gB,KAAP7gB,CAAH,MAMX,SAACE,GAAD,0CACiBA,EAAME,MAAMC,QAAQF,QAAQG,KAD7C,oBAC6DJ,EAAME,MAAMC,QAAQF,QAAQ2vB,MADzF,eAGVC,GAA+B/vB,IAAOC,IAAV,MAG5B+vB,GAAmBhwB,IAAOiwB,GAAV,MAGX,SAAC/vB,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WAE/C0vB,GAAUlwB,IAAOmwB,IAAV,MAGPC,GAAyBpwB,IAAOC,IAAV,MAEjB,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WAE/C6vB,GAA8BrwB,IAAOC,IAAV,MAG3BqwB,GAAsBtwB,YAAOsM,KAAPtM,CAAH,MACH,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WACrD,SAACN,GAAD,OAAWA,EAAME,MAAMC,QAAQF,QAAQG,QAG9B,SAACJ,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WACtC,SAACN,GAAD,OAAWA,EAAME,MAAMC,QAAQF,QAAQG,QAClD,SAACJ,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WAGjD+vB,GAAwBvwB,YAAOsM,KAAPtM,CAAH,MAChB,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WACnC,SAACN,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WAGxC,SAACN,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WACtC,SAACN,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WACrD,SAACN,GAAD,OAAWA,EAAME,MAAMC,QAAQF,QAAQG,QAsCrCkwB,GAlCqB,WAClC,IAAMlG,EAAUmG,cAEhB,OACE,eAACZ,GAAD,WACE,eAACE,GAAD,WACE,cAACC,GAAD,CAAkBnmB,YAAU,QAA5B,sBACA,cAACumB,GAAD,2GAIA,eAACC,GAAD,WACE,cAACC,GAAD,CACEzmB,YAAU,sBACVyD,QAAQ,YACRojB,kBAAgB,EAChBxpB,QAAS,kBAAMojB,EAAQ3O,KAAK,iBAJ9B,oBAQA,cAAC4U,GAAD,CACE1mB,YAAU,wBACVyD,QAAQ,WACRpG,QAAS,kBAAMojB,EAAQ3O,KAAK,UAH9B,0BASJ,cAACuU,GAAD,CAAS/lB,IAAKwmB,GAAermB,IAAI,iB,67BCjEvC,IAAMsmB,GAAqB5wB,YAAO6gB,KAAP7gB,CAAH,MAIF,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QACpC,SAAC3C,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WAKnDqwB,GAAM7wB,IAAOC,IAAV,MACZ,YAAkC,IAA/B6wB,EAA8B,EAA9BA,iBACGC,EAD2B,EAAZ3wB,MACOC,QAAQsnB,QAEpC,MAAM,eAAN,OACEoJ,EAAcD,EAAmBC,EAAcpU,QAAQrc,KADzD,iCAIUywB,EAAcD,EAAmBC,EAAcpU,QAC5CqU,aALb,QAeEC,GAAajxB,IAAOC,IAAV,MAOVixB,GAAYlxB,YAAOmxB,KAAPnxB,CAAH,MAOToxB,GAAmBpxB,IAAOqD,EAAV,MAIX,SAACnD,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAIhC,SAASwuB,GAAT,GAA6C,IAAxBC,EAAuB,EAAvBA,MAAOlwB,EAAgB,EAAhBA,MACnC8Q,EAAsCof,EAAtCpf,KAAMmd,EAAgCiC,EAAhCjC,SAAUD,EAAsBkC,EAAtBlC,KAAMxa,EAAgB0c,EAAhB1c,YAE5B,OACE,cAACsc,GAAD,CAAW1tB,GAAE,mBAAc4rB,EAAd,YAAsBhuB,GAAnC,SACE,eAACwvB,GAAD,CAAoB/mB,YAAU,WAA9B,UACE,cAAConB,GAAD,UAAa/e,IACZmd,EAASnuB,KAAI,SAACqwB,EAASnwB,GAAV,OACZ,cAACyvB,GAAD,CAAKhnB,YAAU,eAA2BinB,iBAAkB1vB,EAA5D,SACGowB,aAAsBD,IADUnwB,MAIrC,cAACgwB,GAAD,UAAmBxc,S,eC9ErB6c,GAAa,CACjB,yCACA,uBAGI9J,GAAU,CACd,gBAAiB,CACf,aACA,YACA,UACA,aACA,SACA,UACA,WAEF,eAAgB,CACd,OACA,QACA,QACA,QACA,cACA,cACA,OAEF+J,UAAW,CACT,aACA,QACA,QACA,UACA,OACA,eACA,UACA,eACA,UACA,QAEFC,SAAU,CAAC,UAAW,UAAW,iBAKtBC,GAAmB,SAAC7pB,GAkB/B,OAjBuB9F,OAAOiC,KAAKyjB,IAASzmB,KAAI,SAAC2wB,GAC/C,IAAMC,EAAiB,uBAClB/pB,EAAMgqB,SAASvC,OAAOtuB,KAAI,SAACowB,GAAD,OAAWA,EAAMlC,SADzB,aAElBrnB,EAAMgqB,SAASvC,OAAOrrB,QACvB,SAACC,EAAKktB,GAAN,6BAAoBltB,GAApB,aAA4BktB,EAAMjC,aAClC,MAGJ,MAAO,CACL2C,YAAaH,EACbhc,OAAQ8R,GAAQkK,GAA4B3wB,KAAI,SAAC+wB,GAAD,MAAkB,CAChE/f,KAAM+f,EACNC,SAAUnqB,EAAMgqB,SAASI,gBAAgB9vB,SAAS4vB,GAClDG,MAAOC,GAAwBJ,EAAaH,YAOvCO,GAA0B,SACrClwB,EACA2vB,GAEA,OAAOA,EAAkB3vB,QACvB,SAACmwB,GAAD,OAAOA,EAAEze,gBAAkB1R,EAAO0R,iBAClC8I,QAGS4V,GAAkB,SAACxqB,GAAD,OAC7BA,EAAMgqB,SAASvC,OAAOtuB,KAAI,SAACowB,GACzB,IAAMjC,EAAWiC,EAAMjC,SACvB,OAAO,6BACFiC,GADL,IAEEjC,SAAUA,EAASltB,QAAO,SAACovB,GAAD,OAAcE,GAAWpvB,SAASkvB,YAIrDiB,GAA2B,SAACzqB,GAAD,OAAkBA,EAAMgqB,SAAShpB,SAE5D0pB,GAA4B,SAAC1qB,GAAD,OAAkBA,EAAMgqB,SAASnrB,O,yWC1EnE,IAAM8rB,GAAW1yB,IAAOC,IAAV,MAMV,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQyC,KAAK3C,WAEzCwyB,GAA4B3yB,YAAO6gB,KAAP7gB,CAAH,MAGT,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WA8BjDoyB,GA5Bc,WAC3B,IAAMC,EAAYzpB,YAAYmpB,IAAiBrL,MAAM,EAAG,GAClD4L,EAAqB1pB,YAAYopB,IAEvC,OACE,cAACG,GAAD,UACGG,EACC,cAACjyB,GAAA,EAAD,IAEA,qCACE,cAAC6xB,GAAD,CAAU7oB,YAAU,2BAApB,oBACA,cAACkpB,GAAA,EAAD,CAAMzT,WAAS,EAAC0T,QAAS,EAAzB,SACGH,EAAU3xB,KAAI,SAACowB,EAAOlwB,GAAR,OACb,cAAC2xB,GAAA,EAAD,CACE9mB,MAAI,EACJtI,GAAI,EAFN,SAKE,cAAC0tB,GAAD,CAAWC,MAAOA,EAAOlwB,MAAOA,KALlC,UAGUkwB,EAAMpf,KAHhB,YAGwBof,EAAM3yB,QAH9B,YAGyC2yB,EAAM,6B,kTC5B7D,IAAM2B,GAAejzB,YAAOsM,KAAPtM,CAAH,MACI,SAACE,GAAD,OAClBA,EAAMgyB,SACF,UACAhyB,EAAME,MAAMC,QAAQsnB,QAAQznB,EAAMgzB,qBAAqB5yB,QACpD,SAACJ,GAAD,OACPA,EAAMgyB,SACF,QACAhyB,EAAME,MAAMC,QAAQsnB,QAAQznB,EAAMgzB,qBAAqBlC,gBAuDhDmC,GA7BM,SAAC,GAOI,IANxBp1B,EAMuB,EANvBA,MACAkW,EAKuB,EALvBA,MACA7S,EAIuB,EAJvBA,MACAgxB,EAGuB,EAHvBA,MACAc,EAEuB,EAFvBA,oBACAE,EACuB,EADvBA,mBACuB,EACS7pB,mBAASxL,GADlB,mBAChBm0B,EADgB,KACNmB,EADM,KAMjBjzB,EAAQ4C,eAEd,OACE,eAACiwB,GAAD,CACE7yB,MAAOA,EACP8yB,oBAAqBA,EACrB5lB,QAAQ,YACR4kB,SAAUn0B,EACVu1B,SAAoB,IAAVlB,EACVlrB,QAAS,kBAZXmsB,GAAanB,QACbkB,EAAmBF,EAAqB9xB,GAAQ8wB,IAKhD,UAQGje,EARH,KAQYme,EARZ,Q,ycCjDG,IAAMmB,GAAqB,SAAC5L,GACjC,MAAO,CACLyH,KAAMoE,GAAuB7L,EAAQ,IACrC0H,SAAS,GAAD,oBACHmE,GAAuB7L,EAAQ,KAD5B,aAEH6L,GAAuB7L,EAAQ,KAF5B,aAGH6L,GAAuB7L,EAAQ,QAK3B6L,GAAyB,SAACrxB,GACrC,OAAOA,EAAO0T,OAAO1R,QAAO,SAACC,EAAD,GAA8B,IAAtB8N,EAAqB,EAArBA,KAClC,OADuD,EAAfggB,SACzB,uBAAO9tB,GAAP,CAAY8N,IAAQ9N,IAClC,KAGCqvB,GAAezzB,IAAOC,IAAV,MAGP,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQyC,KAAK3C,WAEzCuzB,GAAuB1zB,IAAOC,IAAV,MAIpB0zB,GAAc3zB,YAAOsM,KAAPtM,CAAH,MACN,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAEzC+wB,GAAmB5zB,IAAOC,IAAV,MAiEP4zB,GA7DI,SAAC,GAA2D,IAAzDlM,EAAwD,EAAxDA,QAASmM,EAA+C,EAA/CA,WAAY1F,EAAmC,EAAnCA,aACnC/kB,EAAWC,cACX8pB,EAAqB,SACzBF,EACA9xB,EACArD,GPEsB,IAACoE,EOAvBwlB,EAAQuL,GAAqBrd,OAAOzU,GAAO8wB,SAAWn0B,EACtDsL,GPDuBlH,EOCHwlB,EAAQuL,GAAqBrd,OAAOzU,GAAO8Q,KPA1D,CACLpB,KAAMijB,KACNhG,QAAS,CAAE5rB,aODX2xB,EAAWnM,GACXyG,EAAamF,GAAmB5L,KAE5BqM,EAAqB,SAACd,GAC1BvL,EAAQuL,GAAR,6BACKvL,EAAQuL,IADb,IAEErd,OAAQ8R,EAAQuL,GAAqBrd,OAAO3U,KAAI,SAAC+yB,GAAD,oBAAC,gBAC5CA,GAD2C,IAE9C/B,UAAU,SAGd7oB,EPNwB,SAACse,GAC3B,MAAO,CACL7W,KAAMojB,KACNnG,QAAS,CAAEpG,YOITwM,CACExM,EAAQuL,GAAqBrd,OAAO3U,KAAI,SAACiB,GAAD,OAAYA,EAAO+P,UAG/D4hB,EAAWnM,GACXyG,EAAamF,GAAmB5L,KAElC,OACE,qBAAK9d,YAAU,kBAAf,SACG8d,GACCA,EAAQzmB,KAAI,SAACiB,EAAwB+wB,GAAzB,OACV,gCACE,eAACQ,GAAD,WACE,cAACD,GAAD,UAAetxB,EAAO6vB,cACtB,cAAC2B,GAAD,CACEzsB,QAAS,kBAAM8sB,EAAmBd,IADpC,0BAMF,cAACU,GAAD,UACGzxB,EAAO0T,OAAO3U,KAAI,WAA4BE,GAA5B,IAAG8Q,EAAH,EAAGA,KAAMggB,EAAT,EAASA,SAAUE,EAAnB,EAAmBA,MAAnB,OACjB,cAAC,GAAD,CACEc,oBAAqBA,EACrB/wB,OAAQA,EACRpE,MAAOm0B,EACP9wB,MAAOA,EAEP6S,MAAO/B,EACPkgB,MAAOA,EACPgB,mBAAoBA,GAHfhyB,UAhBH8xB,S,iCC/DpB,IAAMkB,GAAa,aAAOC,KAAP,wCAAH,+HAQVC,GAAY,aAAOC,KAAP,uCAAH,0CAEO,SAACr0B,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,UAFjD,qBAuCAg0B,GAjCS,SAAC,GAIX,IAHZC,EAGW,EAHXA,mBACAC,EAEW,EAFXA,YACAC,EACW,EADXA,iBAEA,OACE,eAACC,GAAA,EAAD,WACE,cAACN,GAAD,CAAWO,QAAM,EAAjB,kBACA,cAACT,GAAD,CACEr2B,MAAO02B,EACPtgB,SAAUwgB,EACV/hB,MAAO,cAAC8P,GAAA,EAAD,IACP7Y,YAAA,kCAAsC4qB,EAAmBrH,WACvD,IACA,MANJ,SASGsH,EAAYxzB,KAAI,SAAC4zB,GAAD,OACf,cAACjqB,EAAA,EAAD,CACEhB,YAAA,oCAAwCirB,EAAW1H,WACjD,IACA,MAEFrvB,MAAO+2B,EALT,SAOGA,a,+qBC1Bb,IAaMC,GAAiB/0B,YAAO+yB,KAAP/yB,CAAH,MACE,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WAC1C,SAACN,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAGpDmyB,GAAuBh1B,YAAO+yB,KAAP/yB,CAAH,MAEG,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAG3DoyB,GAAsBj1B,YAAO+yB,KAAP/yB,CAAH,MAEG,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAG1DqyB,GAAsBl1B,YAAO+yB,KAAP/yB,CAAH,MAInBm1B,GAAgBn1B,YAAO+yB,KAAP/yB,CAAH,MAIbo1B,GAAqBp1B,IAAOq1B,GAAV,MAmGTC,GA9FO,WACpB,IAAMjsB,EAAWC,cACXisB,EAAensB,YAAYwoB,IAC3BkB,EAAqB1pB,YAAYopB,IACjCgD,EAAsBpsB,YAAYqpB,IAJd,EAKIlpB,mBAAS,IALb,mBAKnBoe,EALmB,KAKVmM,EALU,OAMcvqB,mBAAS,IANvB,mBAMnBwd,EANmB,KAMLC,EANK,OAO0Bzd,mBAASmrB,KAAY,IAP/C,mBAOnBD,EAPmB,KAOCgB,EAPD,KASpB5C,EAlDc,SAACrD,EAAoBiF,GACzC,OAAQA,GACN,IAAK,kBACH,OC9BsC,SAACjF,GAAD,OAC1CA,EAAOkG,MAAK,SAACC,EAAQC,GAAT,OACVD,EAAOzjB,KAAO0jB,EAAO1jB,MAAQ,EAAIyjB,EAAOzjB,KAAO0jB,EAAO1jB,KAAO,EAAI,KD4BxD2jB,CAA6BrG,GACtC,IAAK,kBACH,OC3BsC,SAACA,GAAD,OAC1CA,EAAOkG,MAAK,SAACC,EAAQC,GAAT,OACVD,EAAOzjB,KAAO0jB,EAAO1jB,MAAQ,EAAIyjB,EAAOzjB,KAAO0jB,EAAO1jB,KAAO,EAAI,KDyBxD4jB,CAA6BtG,GACtC,IAAK,oBACH,OCxBwC,SAACA,GAAD,OAC5CA,EAAOkG,MAAK,SAACC,EAAQC,GAAT,OACVD,EAAOI,OAASH,EAAOG,QAAU,EAAIJ,EAAOI,OAASH,EAAOG,OAAS,EAAI,KDsBhEC,CAA+BxG,GACxC,IAAK,oBACH,OCrBwC,SAACA,GAAD,OAC5CA,EAAOkG,MAAK,SAACC,EAAQC,GAAT,OACVD,EAAOI,OAASH,EAAOG,QAAU,EAAIJ,EAAOI,OAASH,EAAOG,OAAS,EAAI,KDmBhEE,CAA+BzG,IAyCxB0G,CADQ9sB,YAAYmpB,IACakC,GAEzB,KAAb,OAAT5B,QAAS,IAATA,OAAA,EAAAA,EAAWlW,SAAiBmW,GAAuB0C,GACrDnsB,EAASimB,MAGX5b,qBAAU,WACRmf,GAAaiB,EAAWyB,KACvB,CAAC1C,IAEJ,IAAMzE,EAAe5R,uBACnB,SAACmL,GAAuD,IAAhCtU,EAA+B,uDAAjB0T,EACpC1d,EAASimB,GAAe,6BAAK3H,GAAN,IAAezV,KAAMmB,QAE9C,CAAChK,EAAU0d,IAWb,OACE,mCACG+L,EACC,cAACjyB,GAAA,EAAD,IAEA,eAACk0B,GAAD,CAAgBzV,WAAS,EAAzB,UACE,cAAC0V,GAAD,CAAsB/oB,MAAI,EAACtI,GAAI,GAA/B,SACE,qBAAI2H,MAAO,CAAE6qB,OAAQ,GAArB,mBACQ,sBAAM7qB,MAAO,CAAE8qB,WAAY,KAA3B,0BAGV,cAACnB,GAAD,CAAqB3V,WAAS,EAACrT,MAAI,EAACtI,GAAI,EAAxC,SACE,cAAC,GAAD,CACEgkB,QAASA,EACTmM,WAAYA,EACZ1F,aAAcA,MAGlB,eAAC8G,GAAD,CAAqB5V,WAAS,EAACrT,MAAI,EAACtI,GAAI,EAAxC,UACE,eAACwxB,GAAD,CAAe7V,WAAS,EAACrT,MAAI,EAACtI,GAAI,GAAlC,UACE,cAACovB,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAAC,GAAD,CACE8wB,mBAAoBA,EACpBC,YAAaA,KACbC,iBA5BS,SAAC3qB,GACxByrB,EAAsBzrB,EAAMoD,OAAOrP,YA8BzB,cAACg1B,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAAC4e,GAAD,CACExkB,MAAOgpB,EACP5S,SAAU6S,EACVxE,SAvCC,SAACnP,GAChB+a,EAAamF,GAAmB5L,GAAUtU,YA2CxB,OAATwf,QAAS,IAATA,OAAA,EAAAA,EAAWlW,QACV,cAACoW,GAAA,EAAD,CAAMC,QAAS,EAAG/mB,MAAI,EAACqT,WAAS,EAACzV,YAAU,gBAA3C,SACGgpB,EAAU3xB,KAAI,SAACowB,EAAOlwB,GAAR,OACb,cAAC2xB,GAAA,EAAD,CACE9mB,MAAI,EAEJtI,GAAI,EAHN,SAKE,cAAC0tB,GAAD,CAAWC,MAAOA,EAAOlwB,MAAOA,KALlC,UAEUkwB,EAAMpf,KAFhB,YAEwBof,EAAM3yB,QAF9B,YAEyC2yB,EAAM,uBAQnD,cAAC8D,GAAD,iE,4sBE9Id,IAAMiB,GAAwB,CAC5B,CAAEpiB,MAAO,OAAQxH,KAAM6pB,MACvB,CAAEriB,MAAO,QAASxH,KAAM8pB,MACxB,CAAEtiB,MAAO,QAASxH,KAAM+pB,MACxB,CAAEviB,MAAO,QAASxH,KAAMgqB,OAGpBC,GAAkB12B,IAAOC,IAAV,MAEC,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAC1C,SAAC3C,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WAMpDm2B,GAA0B32B,IAAOC,IAAV,MAEP,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAYpD+zB,GAAgB52B,IAAOwR,KAAV,MAGR,SAACtR,GAAD,OAAWA,EAAME,MAAMC,QAAQuR,OAAO0hB,YAmBlCuD,GAhBkB,kBAC/B,eAACH,GAAD,WACE,cAAChE,GAAD,qCACA,cAACK,GAAA,EAAD,CAAMzT,WAAS,EAAf,SACG+W,GAAsBn1B,KAAI,SAACkB,EAAUhB,GAAX,OACzB,cAAC2xB,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,eAACgzB,GAAD,WACE,cAACv0B,EAASqK,KAAV,CAAe/J,MAAM,YACrB,cAACk0B,GAAD,UAAgBx0B,EAAS6R,YAHN7S,YCpBhB01B,GAvBC,WAAO,IACbz1B,EAAS01B,cAAT11B,KACFgI,EAAWC,cAKjB,OAJAoK,qBAAU,WACRrK,EAASimB,QACR,CAACjmB,IAGF,qBAAK9G,UAAU,OAAf,SACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAOjB,OAAK,EAACD,KAAMA,EAAnB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAEF,cAAC,IAAD,CAAOA,KAAI,UAAKA,EAAL,YAAX,SACE,cAAC,GAAD,Y,2CCzBK,OAA0B,iC,qbCYzC,IAAM21B,GAAgBh3B,IAAOC,IAAV,MAEH,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAK9Co0B,GAAuBj3B,IAAOC,IAAV,MAMpBi3B,GAAWl3B,IAAOmwB,IAAV,MAKC,SAASgH,GAAT,GAAsD,IAAvBC,EAAsB,EAAtBA,YAAsB,EAC1B7tB,oBAAS,GADiB,mBAC3D8tB,EAD2D,KAC7CC,EAD6C,KAS5D1lB,EACJ,mCACE,cAAChI,EAAA,EAAD,CACE2tB,KAAK,QACLC,aAAW,QACX90B,MAAM,UACNwE,QATc,WAClBowB,GAAgB,IAId,SAME,cAAC,KAAD,CAAWjmB,SAAS,cAI1B,OACE,8BACE,eAAC2lB,GAAD,CAAe9vB,QAAS,kBApB1BxJ,aAAgB05B,QACXC,GAAcC,GAAgB,KAmBjC,UACE,cAACL,GAAD,UAAuBG,IACvB,cAACF,GAAD,CAAU/sB,IAAKstB,KAEf,cAACC,GAAA,EAAD,CACEC,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7CltB,KAAM0sB,EACNS,iBAAkB,EAClBlmB,OAAQA,EACR3K,QAAQ,wB,0eCjDX,IAAM8wB,GAAa/3B,YAAO6gB,KAAP7gB,CAAH,MAED,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAIpC,SAAC3C,GAAD,OAAWA,EAAME,MAAMC,QAAQE,WAAWC,WAE1Dw3B,GAAiBh4B,IAAOC,IAAV,MAGT,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQuR,OAAO0hB,YAG3C2E,GAAiBj4B,IAAOC,IAAV,MAIdi4B,GAAiB,SAACC,EAAoBx5B,GAArB,mEAGAw5B,EAHA,YAGcx5B,EAHd,SAKjBy5B,GAAiB,SAACD,EAAoBx5B,GAArB,wDAKTw5B,EALS,YAKKx5B,EALL,QAQR,SAAS05B,GAAT,GAAyC,IAAjB/G,EAAgB,EAAhBA,MAC/BlxB,EAAQ4C,eACRqsB,EAAwCiC,EAAxCjC,SAAUiJ,EAA8BhH,EAA9BgH,SAAUvC,EAAoBzE,EAApByE,OAAQp3B,EAAY2yB,EAAZ3yB,QAC9B45B,EAAgBjH,EAAM,kBACtB6G,EAAa7G,EAAM,eACvB,OACE,qCACE,cAACyG,GAAD,UACE,cAACS,GAAA,EAAD,UACE,eAACP,GAAD,WACE,cAACD,GAAD,6BACA,cAACb,GAAD,CAAqBC,YAAamB,IAClC,cAACP,GAAD,2BACA,cAACb,GAAD,CACEC,YAAagB,GAAeD,EAAYx5B,KAE1C,cAACq5B,GAAD,wBACA,cAACb,GAAD,CACEC,YAAac,GAAeC,EAAYx5B,YAKhD,cAACo5B,GAAD,UACE,eAACS,GAAA,EAAD,WACE,eAACP,GAAD,WACE,cAACD,GAAD,mBACA,8BACG3I,EAASnuB,KAAI,SAACqwB,EAASnwB,GAAV,OACZ,cAACyvB,GAAD,CACEhnB,YAAU,eAEVinB,iBAAkB1vB,EAClBhB,MAAOA,EAJT,SAMGmxB,GAJInwB,WASb,eAAC62B,GAAD,WACE,cAACD,GAAD,uBACA,8BACGM,EAASp3B,KAAI,SAACmC,EAAGjC,GAAJ,OACZ,cAACyvB,GAAD,CACEhnB,YAAU,eAEVinB,iBAAkB,EAClB1wB,MAAOA,EAJT,SAMGiD,GAJIjC,QAQX,eAAC62B,GAAD,WACE,cAACD,GAAD,oBACA,8BAAMjC,kB,2kBC3FpB,IAAM0C,GAAkBz4B,IAAOC,IAAV,MAOR,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQyC,KAAK3C,WAMpC,SAACD,GAAD,OAAWA,EAAME,MAAMC,QAAQF,QAAQG,QAKvC,SAACJ,GAAD,OAAWA,EAAME,MAAMC,QAAQyC,KAAK41B,aAS/B,SAACx4B,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAKvC,SAAS81B,GAAT,GAA2C,IAAzBC,EAAwB,EAAxBA,cAAwB,EAC7BrvB,mBAAS,IADoB,mBAClDsvB,EADkD,KAC1CC,EAD0C,KAQvD,OANAplB,qBAAU,WACP,wBAAC,6BAAA6C,EAAA,sEACyBmY,GAAqBkK,GAD9C,OACMG,EADN,OAEAD,EAAUC,GAFV,0CAAD,KAIA,CAACH,IAEF,cAACH,GAAD,UACGI,EACC,qBAAKt2B,UAAU,SAASy2B,wBAAyB,CAAEC,OAAQJ,KAE3D,cAACh4B,GAAA,EAAD,M,0RCtCR,IAAMq4B,GAAiBl5B,IAAOC,IAAV,MAIdk5B,GAAmBn5B,YAAOsM,KAAPtM,CAAH,MAEX,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQyC,KAAK3C,WA2ChCi5B,GAvCK,WAClB,IAAM/vB,EAAWC,cACXghB,EAAUmG,cACV4I,EAAcC,cAAdD,UACAxG,EAAYzpB,YAAYmpB,IACxBO,EAAqB1pB,YAAYopB,IACjClB,EAAQuB,EAAU1zB,SAASk6B,EAAW,KAI5C,OAHyB,IAArBxG,EAAUlW,QAAiBmW,GAC7BzpB,EAASimB,MAGT,qCACG,IACqB,IAArBuD,EAAUlW,OACT,cAAC9b,GAAA,EAAD,IAEA,eAACq4B,GAAD,WACE,eAACC,GAAD,CAAkBjyB,QAAS,kBAAMojB,EAAQiP,UAAzC,UACG,IADH,YAIA,eAACxG,GAAA,EAAD,CAAMzT,WAAS,EAAC0T,QAAS,EAAzB,UACE,cAACD,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAACo0B,GAAD,UACE,cAACS,GAAA,EAAD,UACE,cAAC,GAAD,CAAQI,cAAetH,EAAMsH,sBAInC,cAAC7F,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAAC00B,GAAD,CAAc/G,MAAOA,gB,qEClD5B,WAA2BkI,GAA3B,UAAAjjB,EAAA,sEACCkjB,GAAgBD,GADjB,4C,+BAIQC,G,mFAAf,WAA+BD,GAA/B,kBAAAjjB,EAAA,yDAEoB,eADZmjB,EAAYn0B,uEADpB,gBAGIqS,KAAMvO,SAASswB,YAAU,oBAH7B,gDAM6B1jB,KAAMW,IAAN,UAAa8iB,EAAb,mBAAiCF,IAN9D,cAMY/K,EANZ,iBAOYmL,GAAanL,EAASjiB,KAAKqtB,cAPvC,0DASM3lB,KAAOxE,IAAP,MATN,2D,+BAcekqB,G,mFAAf,WAA4BE,GAA5B,wBAAAvjB,EAAA,6DACQwjB,EAAS,CACbC,QAAS,CAAEC,cAAe,UAAYH,IAElCI,EAAY30B,8BAJpB,kBAQ6B0Q,KAAMW,IAAIsjB,EAAWH,GARlD,OAQYtL,EARZ,OAUYrkB,EAAQqkB,EAASjiB,KACjBnE,EAAa,CACjBwR,SAAUzP,EAAM+vB,MAChB3gB,YAAapP,EAAM8H,KACnBuH,OAAQ,CAACrP,EAAMgwB,OACf3vB,GAAIL,EAAMK,GACVL,SAEFwN,KAAMvO,SAASgxB,YAAQhyB,IACvB3I,OAAOC,SAASgK,KAAO,IAnB7B,kDAqBMuK,KAAOxE,IAAP,MArBN,gCAuBSkI,KAAMvO,SAASswB,YAAU,6BAvBlC,2D,sBCqBeW,OArCf,WASE,OANA5mB,qBAAU,WACR,IACM8lB,EADcxK,KAAYuL,MAAM76B,OAAOC,SAAS2G,QAC7B,SACrBkzB,GDRD,SAAP,4BCQcgB,CAAYhB,MAItB,cAAC,IAAD,CAAW1yB,OAAK,EAACvE,UAAU,8BAA3B,SACE,cAAC,IAAD,CAAKwE,WAAS,EAACxE,UAAU,QAAzB,SACE,cAAC,IAAD,CAAKuB,GAAG,IAAID,GAAG,IAAItB,UAAU,oBAA7B,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,qBACEA,UAAU,uCACV4H,IAAI,kBACJmB,MAAO,CAAE4C,SAAU,SACnB5D,IAAI,SAEN,oBAAI/H,UAAU,oCAAd,oBACA,oBACEkI,GAAG,gBACHlI,UAAU,sCACVoH,KAAI,wEAxBApE,wBAqBN,UAKE,mBAAGhD,UAAU,kBALf,sCClBd,SAASk4B,GAAT,GAA2E,IAAvD15B,EAAsD,EAAtDA,MAAO0M,EAA+C,EAA/CA,QAAShB,EAAsC,EAAtCA,KAAMrM,EAAgC,EAAhCA,MAAOs6B,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,SACrD,OACE,mBACEp4B,UAAU,gBACVoH,KAAM+wB,EACNttB,OAAO,SACPC,IAAI,sBACJxD,YAAW8wB,EALb,SAOE,cAAC9Z,GAAA,EAAD,CAAMte,UAAU,QAAhB,SACE,eAACse,GAAA,EAAK7T,KAAN,CAAWzK,UAAU,OAArB,UACE,eAAC2K,EAAA,EAAD,CAAK3K,UAAU,qBAAf,UACE,cAAC4K,EAAA,EAAD,CAAKxJ,GAAG,IAAR,SACE,6BAAK5C,MAEP,cAACoM,EAAA,EAAD,CAAKxJ,GAAG,IAAR,SACE,oBAAIpB,UAAU,cAAd,SACE,sBAAMA,UAAS,UAAKkK,EAAL,gBAAiBrM,YAItC,cAAC8M,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UAAMM,aC7BlB,IAgEemtB,GAhEE,kBACf,eAAC,IAAD,CAAW9zB,OAAK,EAACvE,UAAU,8BAA8BsH,YAAU,WAAnE,UACE,cAAC,IAAD,CAAK9C,WAAS,EAACxE,UAAU,mBAAzB,SACE,cAACD,GAAA,EAAD,CAAWvB,MAAM,YAAYwB,UAAU,wBAEzC,eAAC,IAAD,WACE,cAAC,IAAD,CAAKsB,GAAG,IAAIC,GAAG,IAAIvB,UAAU,OAA7B,SACE,cAACk4B,GAAD,CACE15B,MAAM,WACN0M,QAAQ,uDACRitB,KAAK,sBACLjuB,KAAK,aACLrM,MAAM,UACNu6B,SAAS,oBAGb,cAAC,IAAD,CAAK92B,GAAG,IAAIC,GAAG,IAAIvB,UAAU,OAA7B,SACE,cAACk4B,GAAD,CACE15B,MAAM,YACN0M,QAAQ,uCACRitB,KAAK,uBACLjuB,KAAK,cACLrM,MAAM,UACNu6B,SAAS,qBAGb,cAAC,IAAD,CAAK92B,GAAG,IAAIC,GAAG,IAAIvB,UAAU,OAA7B,SACE,cAACk4B,GAAD,CACE15B,MAAM,qBACN0M,QAAQ,0DACRitB,KAAK,oDACLjuB,KAAK,sBACLrM,MAAM,QACNu6B,SAAS,4BAGb,cAAC,IAAD,CAAK92B,GAAG,IAAIC,GAAG,IAAIvB,UAAU,OAA7B,SACE,cAACk4B,GAAD,CACE15B,MACE,gDACc,sBAAMwB,UAAU,cAAhB,wBAGhBkL,QAAQ,sDACRitB,KAAK,6BACLjuB,KAAK,gBACLrM,MAAM,OACNu6B,SAAS,uBAGb,cAAC,IAAD,CAAK92B,GAAG,IAAIC,GAAG,IAAIvB,UAAU,OAA7B,SACE,cAACk4B,GAAD,CACE15B,MAAM,iBACN0M,QAAQ,uDACRitB,KAAK,gDACLjuB,KAAK,kBACLrM,MAAM,WACNu6B,SAAS,gC,0JCnDnB,IAAME,GAAW76B,YAAO6gB,KAAP7gB,CAAH,MA4CC86B,GAvCE,WACfC,QAAQrrB,IAAInK,+kBAOZ,OACE,eAAC,KAAD,CACEhD,UAAU,SACVd,OATW,CACb,CAAEia,EAAG,IAAKsf,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC/B,CAAEzf,EAAG,IAAKsf,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAC/B,CAAEzf,EAAG,IAAKsf,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC/B,CAAEzf,EAAG,IAAKsf,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,IAM7BC,KAAM,GACNC,UAAW,GACXptB,MAAO,KALT,UAOE,cAAC4sB,GAAD,UACE,cAAC1M,GAAD,KADY,KAGd,cAAC0M,GAAD,UACE,cAAC,GAAD,KADY,KAGd,cAACA,GAAD,UACE,cAACJ,GAAD,CACE15B,MAAM,YACN0M,QAAQ,uCACRitB,KAAK,uBACLjuB,KAAK,cACLrM,MAAM,UACNu6B,SAAS,oBAPC,KAUd,cAACE,GAAD,UACE,cAACjS,GAAD,KADY,S,8LCvCpB,IAAM0S,GAAiBt7B,YAAOmxB,KAAPnxB,CAAH,MACT,SAACE,GAAD,OAAWA,EAAME,MAAMC,QAAQwC,KAAK,QAiBhC04B,GARQ,SAAC,GAA0C,IAAxCtnB,EAAuC,EAAvCA,MAAO5S,EAAgC,EAAhCA,KAC/B,OACE,mCACE,eAACi6B,GAAD,CAAgB93B,GAAInC,EAApB,cAA4B4S,EAA5B,U,mBCtBOunB,GAAiB,CAC5B,cACA,oBACA,mBACA,kBACA,aACA,iBACA,gBACA,aACA,cACA,eACA,sBAEWC,GAAY,wDAEZC,GACX,y4BAyCWC,GACX,g2BAyCWC,GAAY,CACvB,CACE,EAAK,EACL,cAAe,cACf,uDACE,0CACFC,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,EACL,cAAe,cACf,uDACE,wDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,EACL,cAAe,cACf,uDACE,8CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDAAwD,iBACxDF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,sxBACFF,OAAQ,wBACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,qCACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDAAwD,gBACxDF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,oDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,gDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,4DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,+DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,gFACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,qCACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,qDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,uCACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,sDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,oDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,qEACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,kDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,gDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,2CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,sDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,6DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,gDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,sLACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,+CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,sEACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,0DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,2DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,8BACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,4DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,mDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,+DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,4CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,6DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,iCACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,+CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,uCACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,+DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,mCACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,wEACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,6DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,2BACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,6BACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,oDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,sGACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,qDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,wDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,0CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,qEACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,yFACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,6BACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,oDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,+CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,iCACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,kEACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,iDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,2CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,8DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,iDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDAAwD,gBACxDF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,qCACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,kDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,8CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,8CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,2EACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,8CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,kDACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,2CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,8CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,6EACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,8CACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,IAEV,CACE,EAAK,GACL,cAAe,eACf,uDACE,+DACFF,OAAQ,GACRC,OAAQ,GACRC,OAAQ,KCluBL,SAAeC,KAAtB,gC,gDAAO,uDAAAzlB,EAAA,sDACC0lB,EAAsB,GADvB,eAGkBT,IAHlB,gEAGMU,EAHN,iBAIoBjmB,KAAMW,IAAI6kB,GAAY,IAAMS,EAAU,CAC3DC,aAAc,SALb,OAIG1N,EAJH,OAOG2N,EAAO,IAAIC,KAAK,CAAC5N,EAASjiB,MAAO0vB,EAAU,CAAEprB,KAAM,eACzDmrB,EAAYtgB,KAAKygB,GARd,sJAWLxkB,KAAMvO,SAASyP,YAAW,qBAAsB,YAX3C,UAYyBwjB,KAAYC,gBAAgBN,GAZrD,eAYCO,EAZD,OAcL5kB,KAAMvO,SAASyP,YAAW,sBAAuB,YAd5C,UAeqBwjB,KAAYG,UACpCf,GACAc,EAAgBE,WAjBb,wBAeGC,EAfH,EAeGA,QAIFtmB,EAAWuB,KAAMC,WAAWC,cAAczB,SAChDuB,KAAMvO,SAASyP,YAAW,wBAAyB,YApB9C,UAqBC3C,GAAcC,QAAQC,GAAU,SAACa,GAAD,OACpCU,KAAMvO,SAASyP,YAAW,uBAAwB,eAtB/C,QAyBLlB,KAAMvO,SAASyP,YAAW,iBAAkB,YAzBvC,eA0BmB8iB,IA1BnB,kEA0BMgB,EA1BN,QA2BGpwB,EAAO,CACX/B,GAAImyB,EAAU,GAAK9mB,WACnBwb,MAAOsL,EAAU,eACjBC,QACED,EAAU,yDA/BX,UAiCGzmB,GAAc/U,MAAMuO,KAAKC,UAAUpD,IAjCtC,QAkCHoL,KAAMvO,SACJyP,YACE,YACE8jB,EAAU,wDACZ,YAtCD,wJA2CLhlB,KAAMvO,SAASyP,YAAW,mBAAoB,YAC9CwjB,KAAYQ,cAAcH,GA5CrB,UA6CCt+B,aAAQ,GA7CT,yBA8CCi+B,KAAYQ,cAAcH,GA9C3B,eAgDL/kB,KAAMvO,SAASyP,YAAW,sBAAuB,YAhD5C,UAiDCwjB,KAAYG,UAAUd,GAAWa,EAAgBE,WAjDlD,QAkDLh9B,OAAOiL,KAAP,iDAEIiN,KAAMC,WAAWC,cAAczB,SAASK,aAE1C,UAtDG,+E,szECGP,IAAMqmB,GAA0B,qBAOhC,SAASC,GAAT,GAA6E,IAA9Cn0B,EAA6C,EAA7CA,UAC7B,OAD0E,EAAlCo0B,KAEjCp0B,EACL,mBAAGtG,UAAU,mCAAb,kBAEA,mBAAGA,UAAU,mCAAb,sBAJgB,KAQpB,SAAS26B,GAAT,GAG8B,IAF5Br0B,EAE2B,EAF3BA,UAGA,OAD2B,EAD3Bo0B,KAGOp0B,EACL,mBAAGtG,UAAU,sCAAb,kBAEA,mBAAGA,UAAU,wCAAb,sBAJgB,KAapB,SAASsQ,GAAT,GAA+D,IAAvC3L,EAAsC,EAAtCA,QAASrF,EAA6B,EAA7BA,IACzBs7B,EAASn9B,IAAOC,IAAV,MAOZ,OACE,cAACk9B,EAAD,UACE,mBACEtzB,YAAA,gCAAoChI,GACpCqF,QAASA,EACT3E,UAAU,iBAHZ,sBAWS,SAAS66B,KACtB,IAAMptB,EAAa5G,YAAYoH,IACzBP,EAAsB7G,YAAY4H,IAClCnI,EAAYO,YAAYR,GACtBvI,EAAY2C,eAAZ3C,QAEFgJ,EAAWC,cAEX+zB,EAAyBr9B,IAAOC,IAAV,MAMtBq9B,EAA0Bt9B,IAAOC,IAAV,KAIlBI,EAAQ4C,iBAUbs6B,EAAev9B,IAAOC,IAAV,MAED,SAACC,GAAD,OACbA,EAAMgyB,SAAW,OAAS,OAcxBsL,EAA4Bx9B,IAAOC,IAAV,KASzBI,EAAQo9B,gBAIRC,EAAkB19B,IAAOC,IAAV,KAIVI,EAAQ4C,iBAGb06B,EAAY39B,IAAOC,IAAV,KAIJI,EAAQ4C,iBAGb26B,EAAY59B,IAAOwR,KAAV,MAKTqsB,EAAY79B,IAAOC,IAAV,MAST69B,EAAW99B,IAAOC,IAAV,MAUR89B,EAAW/9B,IAAOwR,KAAV,MAKRwsB,EAAiB/7B,OAAOC,QAAQ8N,GAAY7N,QAChD,8CAAwC,YAAxC,KAA+B2O,QAG3BmtB,EAAoBh8B,OAAOC,QAAQ8N,GAAY7N,QACnD,8CAAwC,YAAxC,KAA+B2O,QAG3BotB,EAAmBluB,EAAWC,GAE9BkuB,EAAqB,kBACzB,eAACN,EAAD,WAEE,eAACC,EAAD,WACE,cAACC,EAAD,UACE,mBAAGx7B,UAAU,iBAAb,4BAEF,iDACA,cAACi7B,EAAD,OAGF,eAACM,EAAD,WACE,cAACC,EAAD,UACE,mBAAGx7B,UAAU,iBAAb,4BAEF,iDACA,cAACi7B,EAAD,OAGF,eAACM,EAAD,WACE,cAACC,EAAD,UACE,mBAAGx7B,UAAU,iBAAb,4BAEF,iDACA,cAACi7B,EAAD,WAKN,OACE,eAACH,EAAD,WACE,eAACC,EAAD,WACGY,EAAiBhsB,MAAQ,4BAAI6qB,KAC9B,cAACG,GAAD,CACED,KAAgC,WAA1BiB,EAAiBptB,KACvBjI,UAAWA,OAIf,eAAC80B,EAAD,mBACQ,IACN,cAACC,EAAD,CAAW12B,QAAS,aAApB,SACE,mBAAG3E,UAAU,iBAAb,sBAGH4E,EAAiB,UAAY,cAACg3B,EAAD,IAC9B,eAACT,EAAD,2BAEE,cAACE,EAAD,CACE/zB,YAAW,qBACX3C,QAAS,kBAAMmC,EAAS+0B,iBAF1B,SAIE,mBAAG77B,UAAU,iBAAb,sBAIHy7B,EAAe98B,KAAI,WAA2BW,GAA3B,uBAAE0O,EAAF,KAAemsB,EAAf,YAClB,eAACa,EAAD,CAAcrL,SAAUjiB,IAAwBM,EAAhD,UACE,sBACE1G,YAAA,UAAc6yB,EAAUxqB,KAAKkb,WAAW,IAAK,KAC7ClmB,QAAS,kBAAMmC,EAASg1B,aAAc9tB,KAFxC,SAIGmsB,EAAUxqB,MAAQ6qB,KAErB,cAACC,GAAD,CACEC,KAAyB,WAAnBP,EAAU5rB,KAChBjI,UAAWA,IAEb,cAAC20B,EAAD,IACA,cAAC,GAAD,CACE37B,IAAKA,EACLqF,QAAS,kBAAMmC,EAASi1B,aAAgB/tB,SAdsB1O,MAkBpE,cAAC67B,EAAD,iCACCO,EAAkB/8B,KAAI,WAA2BW,GAA3B,uBAAE0O,EAAF,KAAemsB,EAAf,YACrB,cAACa,EAAD,CACE1zB,YAAA,iCAAqChI,GACrCqwB,SAAUjiB,IAAwBM,EAClCrJ,QAAS,kBAAMmC,EAASg1B,aAAc9tB,KAHxC,SAMGmsB,EAAUxqB,MAFNrQ,MAMT,cAAC07B,EAAD,CAAcrL,UAAU,EAAOhrB,QAAS80B,GAAxC,oCC7QS,WAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,mCCA1B,OAA0B,iC,mbCmBzC,IAAMuC,GAAcv+B,IAAOC,IAAV,MAED,SAACC,GAAD,OAAWA,EAAME,MAAMC,QAAQF,QAAQG,QAKjDgM,GAAStM,IAAOw+B,OAAV,MACI,SAACt+B,GAAD,OAAWA,EAAME,MAAMC,QAAQF,QAAQG,QAUjDm+B,GAAaz+B,YAAOsM,GAAPtM,CAAH,MAID,SAAS0+B,GAAT,GAMJ,IALTjC,EAKQ,EALRA,UACAkC,EAIQ,EAJRA,SACAC,EAGQ,EAHRA,YACAC,EAEQ,EAFRA,UACAC,EACQ,EADRA,YAEMz1B,EAAWC,cAUjB,IAAMy1B,EAAqB53B,EAAiB,gBAR5C,WACEkC,EAASyI,YAAU,iBAGrB,WACEgtB,EAAY,QAMd,OACE,qBAAKv8B,UAAU,wBAAf,SACE,qBAAKA,UAAU,cAAf,SACE,eAACg8B,GAAD,WACE,cAACE,GAAD,CAAY50B,YAAW,aAAc3C,QAASu1B,EAA9C,SACE,qBAAKnyB,IAAI,OAAOH,IAAK60B,OAEvB,cAAC,GAAD,CAAQn1B,YAAW,aAAc3C,QAASy3B,EAA1C,SACE,qBAAKr0B,IAAI,OAAOH,IAAK80B,OAEvB,cAAC,GAAD,CAAQp1B,YAAW,aAAc3C,QAAS63B,EAA1C,SACE,qBAAKz0B,IAAI,OAAOH,IAAK+0B,OAEvB,cAAC,GAAD,CAAQh4B,QAAS03B,EAAjB,SACE,qBAAKt0B,IAAI,SAASH,IAAKg1B,OAEzB,cAAC,GAAD,CAAQj4B,QAAS23B,EAAjB,SACE,qBACEvzB,MAAO,CACL2C,MAAO,OACP4N,OAAQ,OACRujB,WAAY,UACZC,UAAW,WAEb/0B,IAAI,SACJH,IAAKm1B,c,y5BCxEnB,SAASC,GAAT,GAA2D,IAAvCzuB,EAAsC,EAAtCA,KAAM0uB,EAAgC,EAAhCA,cAClBp/B,EAAQ4C,eACRy8B,EAAcz/B,YAAO0/B,KAAP1/B,CAAH,KAMKI,EAAMC,QAAQF,QAAQG,MAiBtCq/B,EAAiB3/B,YAAOy/B,EAAPz/B,CAAH,MAGpB,OAAQ8Q,GACN,IAAK,SACH,OACE,cAAC6uB,EAAD,CACE91B,YAAA,yBAA6B21B,GAC7B1uB,KAAMA,EACN3F,SAAUy0B,KAASC,SAGzB,IAAK,SACH,OACE,cAACJ,EAAD,CACE51B,YAAA,sBAA0B21B,GAC1B1uB,KAAMA,EACN3F,SAAUy0B,KAASE,OAWd,SAASC,GAAU7/B,GAChC,IAAM8/B,EAAW52B,YAAYyG,IAAoBiB,KAC3CzH,EAAWC,cACXlJ,EAAQ4C,eAERi9B,EAAmBjgC,IAAOC,IAAV,KASAG,EAAMC,QAAQF,QAAQG,MAO5C,QAHmC4f,IAGnBhgB,EAHYuK,GAGJ,CAAC,IAAD,UAChBwI,EAAO/S,EACb,OACE,eAAC+/B,EAAD,CACEp2B,YAAA,4BAAyBoJ,QAAzB,IAAyBA,GAAzB,UAAyBA,EAAMzG,YAA/B,aAAyB,EAAYyH,OACrCisB,cAAe,WACA,mBAAbF,GACE32B,EAASyI,YAAU,UAAW,CAAEiB,OAAM,OAAEE,QAAF,IAAEA,OAAF,EAAEA,EAAMxI,OAJpD,UAOe,YAAZwI,EAAKxI,IACJ,cAAC80B,GAAD,CACEC,eAAmB,OAAJvsB,QAAI,IAAJA,GAAA,UAAAA,EAAMzG,YAAN,eAAYyH,QAAShB,EAAKxI,GACzCqG,KAAK,WAGT,qBAAKrG,GAAE,4BAAgBwI,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAMzG,YAAtB,aAAgB,EAAYyH,OAAnC,SACE,qBAAK1R,UAAU,cAAf,SACE,qBAAKA,UAAS,MAAd,SACE,mBAAGA,UAAU,MAAb,SACE,sBAAMA,UAAU,YAAhB,UACO,OAAJ0Q,QAAI,IAAJA,GAAA,UAAAA,EAAMzG,YAAN,eAAYyH,QACX,sBAAM1R,UAAU,eAAhB,iCAML,IACP,cAACg9B,GAAD,CAAUzuB,KAAK,SAAS0uB,eAAmB,OAAJvsB,QAAI,IAAJA,GAAA,UAAAA,EAAMzG,YAAN,eAAYyH,QAAShB,EAAKxI,QAIrE,OACE,cAACw1B,EAAD,CAAkBx1B,GAAE,qBAAgBvK,EAAM+T,OAA1C,SACE,qBAAK1R,UAAU,cAAf,SACE,qBAAKA,UAAS,MAAd,SACE,mBAAGA,UAAU,MAAb,SACE,sBAAMA,UAAU,YAAhB,SACGrC,EAAM+T,OAAS,sBAAM1R,UAAU,eAAhB,iC,cCtHjB,SAAS49B,GAAT,GAA6C,IAAtBlsB,EAAqB,EAArBA,MAAOpS,EAAc,EAAdA,IAQrCsN,EAAyCzI,cAC/C,OACE,qBACEmD,YAAA,sBAA0BhI,GAC1BsN,IAAKA,EACL5M,UAAU,2BACV69B,WAAW,EACXC,YAdgB,SAACr2B,GACnB,IAAMS,EAAK61B,eACLC,EAAa5wB,KAAKC,UAAU,CAAEnF,KAAIwJ,UACxCjK,EAAMw2B,aAAaC,QAAQ,wBAAyBF,GACpDv2B,EAAMw2B,aAAaE,cAAgB,QAKnC,SAOE,cAAC,GAAD,CAAWzsB,MAAOA,MC1BxB,IAoEe0sB,GApEK,CAClB,GACA,CACEzuB,KAAM,SACN0uB,UAAW,oBAEb,CACE1uB,KAAM,SACN0uB,UAAW,sBACXC,SAAU,EACVC,UAAW,QAEb,CACE5uB,KAAM,WACN0uB,UAAW,uBACXC,SAAU,EACVC,UAAW,QAEb,CACE5uB,KAAM,UACN0uB,UAAW,kBACXC,SAAU,EACVE,cAAe,KACfD,UAAW,QAEb,CACE5uB,KAAM,gBACN0uB,UAAW,uBACXC,SAAU,EACVG,oBAAqB,QAEvB,CACE9uB,KAAM,cACN0uB,UAAW,sBAEb,CACE1uB,KAAM,WACN0uB,UAAW,SACXE,UAAW,QAEb,CACE5uB,KAAM,SACN0uB,UAAW,aAEb,CACE1uB,KAAM,UACN0uB,UAAW,sBACXC,SAAU,EACVC,UAAW,QAEb,CACE5uB,KAAM,aACN0uB,UAAW,2BACXC,SAAU,EACVC,UAAW,QAEb,CACE5uB,KAAM,UACN0uB,UAAW,iBACXE,UAAW,QAEb,CACE5uB,KAAM,YACN0uB,UAAW,iBACXC,SAAU,ICzDd,SAASI,GAAT,GAAqE,IAAjDlvB,EAAgD,EAAhDA,cAClB,OACE,sBAAKxP,UAAU,yCAAf,UACE,oBAAIA,UAAU,OAAd,SACE,8CACe,sBAAMA,UAAU,aAAhB,2BAGjB,mBAAGA,UAAU,OAAb,qDACA,cAAC+J,EAAA,EAAD,CAAQpF,QAAS6K,EAAjB,+BAKN,SAASmvB,KACP,OACE,sBAAK3+B,UAAU,2BAAf,UACE,oBAAIA,UAAU,+BAAd,SACE,2CAEF,qBAAKA,UAAU,2BAAf,SACG4+B,GAAYjgC,KAAI,SAACqS,EAAK1R,GACrB,OACE,cAACs+B,GAAD,CAEElsB,MAAOV,EAAIrB,MAAQ,YACnBrQ,IAAKA,GAHP,sBACsBA,YA2BnBu/B,OARf,YAA+E,IAAnDC,EAAkD,EAAlDA,SAAUtvB,EAAwC,EAAxCA,cACpC,OACE,cAAC8O,GAAA,EAAD,CAAMte,UAAU,yBAAhB,SACG8+B,EAAW,cAACJ,GAAD,CAAUlvB,cAAeA,IAAoB,cAACmvB,GAAD,O,8BC1BzDI,GAAY,CAChB9gC,QAASu/B,IAGI,SAASwB,GAAUrhC,GAChC,IAAMmJ,EAAWC,cACXgH,EAAOlH,YAAYyG,IAFqB,EAM1CtG,mBAA8B,MANY,mBAI5Ci4B,EAJ4C,KAK5CC,EAL4C,KAQxCC,EAAmBzlB,iBAAoB,MAqC7C,OACE,qBACE1Z,UAAU,oBACV4M,IAAKuyB,EACLp2B,MAAO,CAAEuQ,OAAQ,OAAQ5N,MAAO,QAHlC,SAKE,cAAC,KAAD,CACE0zB,gBAAiB,CAAC,EAAG,IACrBC,YAAa,GACb1uB,SAAUhT,EAAMgT,SAChB2uB,UA7CY,SAACvT,GACbA,EAAOwT,QAAUxT,EAAOlhB,QAC1B/D,EAAS04B,aAAQzT,EAAOwT,OAAQxT,EAAOlhB,UA4CrC40B,iBAzCmB,SAAC9uB,GACxBA,EAAS2U,SAAQ,SAACzU,GACZ6uB,aAAW7uB,IAAU/J,EAAS64B,aAAW9uB,EAAQ3I,KACjD03B,aAAW/uB,IAAU/J,EAASoL,aAAWrB,EAAQ3I,SAuCnD23B,OAnCS,SAACC,GAAD,OACbZ,EAAqBY,IAmCjBC,OA7BS,SAACt4B,GAA4C,IAAD,EACzDA,EAAMu4B,iBACN,IAAMC,GACY,OAAhBd,QAAgB,IAAhBA,GAAA,UAAAA,EAAkB1kB,eAAlB,eAA2BylB,0BAA2B,IAAIC,QACtDl2B,EAAOmD,KAAK4qB,MAAMvwB,EAAMw2B,aAAamC,QAAQ,0BAC7Cx3B,GAA4B,OAAjBq2B,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBoB,QAAQ,CAC1C5H,EAAGhxB,EAAM64B,QAAUL,EAAgB50B,KACnCqtB,EAAGjxB,EAAM84B,QAAUN,EAAgBz0B,QAC/B,CAAEitB,EAAG,EAAGC,EAAG,GACjB5xB,EAAS05B,aAAQv2B,EAAK/B,GAAIU,EAAUqB,KAqBhCw2B,WAlCa,SAACh5B,GAClBA,EAAMu4B,iBACNv4B,EAAMw2B,aAAayC,WAAa,QAiC5BC,eAnBiB,SAACl5B,EAAmBiJ,GACzC5J,EAAS85B,aAAWlwB,EAAKxI,GAAI,CAAEU,SAAU8H,EAAK9H,aAmB1Cm2B,UAAWA,GACX8B,eAA8B,YAAd9yB,EAAKQ,KAXvB,SAaE,cAAC,KAAD,CAAYxD,QAAQ,QAAQ+1B,IAAK,GAAI9L,KAAM,Q,6lCClFpC,SAAS+L,KACtB,IAAMpzB,EAAQ9G,YAAY+G,IACpBL,EAAiB1G,YAAY2H,IAE7B1H,EAAWC,cAEXi6B,EAAgBvjC,IAAOC,IAAV,MA6BbujC,EAAMxjC,IAAOC,IAAV,MASO,SAACC,GAAD,aACZ,UAAAA,EAAMqC,iBAAN,eAAiBF,SAAS,aAAc,UAAY,aAC3C,SAACnC,GAAD,aAAY,UAAAA,EAAMqC,iBAAN,eAAiBF,SAAS,aAAc,IAAM,OAGjEu7B,EAAY59B,IAAOC,IAAV,MAQf,OACE,eAACsjC,EAAD,WACGthC,OAAOC,QAAQgO,GAAOhP,KAAI,mCAAEuJ,EAAF,KAAM6F,EAAN,YACzB,cAACkzB,EAAD,CACE35B,YAAA,kBAAsBY,GACtBlI,UAAWuN,IAAmBrF,EAAK,WAAa,GAFlD,SAKE,sBAAKlI,UAAU,kBAAf,UACE,sBACEA,UAAU,gCACV2E,QAAS,kBAAMmC,EAASo6B,aAASh5B,KAFnC,SAIG6F,EAAK4B,OAER,sBACErI,YAAA,iBAAqBY,GACrBlI,UAAU,iBACV2E,QAAS,kBAAMmC,EAAS0M,aAAWtL,KAHrC,SAKE,mBAAGlI,UAAU,iBAAb,yBAdCkI,MAmBT,cAACmzB,EAAD,CACE/zB,YAAW,sBACX3C,QAAS,kBAAMmC,EAAS2I,iBAF1B,SAIE,mBAAGzP,UAAU,iBAAb,sB,iHCzER,IAAMmhC,GAAoB1jC,IAAOC,IAAV,M,kHCHjB0jC,GAAiB,SACrBC,EACAC,GAEA,IAAKD,IAAcC,EAAS,MAAO,2BAEnC,IAAMC,EAAY,IAAIjf,KAAK+e,GACrBG,EAAU,IAAIlf,KAAKgf,GAEzB,MAAM,GAAN,OAAUpnB,KAAKC,MAAMqnB,EAAQC,UAAYF,EAAUE,WAAnD,QA6CaC,GA1CK,SAAC,GAAkC,IAAhChjC,EAA+B,EAA/BA,OACrB,OACE,eAAC,KAAD,WACE,cAACijC,GAAA,EAAD,CACEnjC,MAAM,wBACNojC,qBAAsB,CAAE72B,QAAS,eAElCrM,IAAM,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAQ0b,SACjB,cAAC6b,GAAA,EAAD,UACE,eAAC4L,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,kBACA,cAACA,GAAA,EAAD,qBACA,cAACA,GAAA,EAAD,yBACA,cAACA,GAAA,EAAD,uBACA,cAACA,GAAA,EAAD,gCAGJ,cAACC,GAAA,EAAD,UACGvjC,EAAOC,KAAI,SAACC,GAAW,IACdsjC,EAAsCtjC,EAAtCsjC,OAAQlxB,EAA8BpS,EAA9BoS,IAAKmxB,EAAyBvjC,EAAzBujC,WAAYC,EAAaxjC,EAAbwjC,SACjC,OACE,eAACL,GAAA,EAAD,WACE,eAACC,GAAA,EAAD,eAAahxB,EAAb,OACA,cAACgxB,GAAA,EAAD,UAAYE,IACZ,cAACF,GAAA,EAAD,UAAYG,IACZ,cAACH,GAAA,EAAD,UAAYI,IACZ,cAACJ,GAAA,EAAD,UACGZ,GAAee,EAAYC,OANjBF,iB,ojCCtCjC,IAAMG,GAAmB5kC,IAAOmwB,IAAV,MAQhB0U,GAAiB7kC,IAAO8kC,MAAV,MAQdC,GAAc/kC,IAAOqD,EAAV,MASX2hC,GAAahlC,IAAOwR,KAAV,MAIU,SAACtR,GAAD,OAAWA,EAAMwC,SAIrCuiC,GAAcjlC,IAAOC,IAAV,MAMXilC,GAAYllC,IAAO0b,EAAV,MACJ,SAACxb,GAAD,OAAWA,EAAMwC,SAGtByiC,GAAmB,SAAC,GAA8B,IAA5Bh7B,EAA2B,EAA3BA,IAC1B,OAAO,cAAC06B,GAAD,CAAgB16B,IAAKA,EAAKi7B,UAAQ,KAGrCC,GAAmB,SAAC,GAA8B,IAA5Bl7B,EAA2B,EAA3BA,IAC1B,OAAO,uBAAOA,IAAKA,EAAKi7B,UAAQ,KAGrBE,GAAmB,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,IAC3BC,EAAYC,aAAoBF,GACtC,OAAIC,EAAU/9B,WAAW,SAAiB,cAACm9B,GAAD,CAAkBz6B,IAAKo7B,IAC7DC,EAAU/9B,WAAW,SAAiB,cAAC,GAAD,CAAkB0C,IAAKo7B,IAC7DC,EAAU/9B,WAAW,IAAY,cAAC,GAAD,CAAkB0C,IAAKo7B,IACrD,uDAiBIxF,GAAY,SAAC,GAKH,IAJrBvzB,EAIoB,EAJpBA,KACA0lB,EAGoB,EAHpBA,SACAwT,EAEoB,EAFpBA,WACA50B,EACoB,EADpBA,KAEQzQ,EAAY2C,eAAZ3C,QACA4L,EAA8DO,EAA9DP,KAAM05B,EAAwDn5B,EAAxDm5B,aAFM,EAEkDn5B,EAA1Co5B,cAFR,WAEkDp5B,EAA3Bq5B,iBAFvB,SAEyC3zB,EAAS1F,EAAT0F,KACvD4zB,EAAW,cAAe75B,EAAOA,EAAK85B,eAAY7lB,EAClD8lB,EAAQ,UAAW/5B,EAAOA,EAAK+5B,WAAQ9lB,EACjC+lB,EAAiCh6B,EAArCxB,GAAY86B,EAAyBt5B,EAAzBs5B,IAAKC,EAAoBv5B,EAApBu5B,UAAW1iC,EAASmJ,EAATnJ,KAC9BsI,EAAYs6B,EAAa,GAAKxT,EAAW,GAAK,EAEhD5mB,EAAQ,GAWZ,MATa,UAATwF,EACFxF,EAAQ,CACNkC,gBAAiBnN,EAAQsnB,QAAQ,GAAGrnB,MAEtB,UAATwQ,IACPxF,EAAQ,CACNkC,gBAAiBnN,EAAQsnB,QAAQ,GAAGrnB,OAItC,gCACGslC,GAAU,cAAC,KAAD,CAAQ90B,KAAK,SAAS3F,SAAUy0B,KAASE,MACpD,eAAC,KAAD,CAAM10B,UAAWA,EAAW1I,MAAM,MAAM4I,MAAOA,EAA/C,UACE,cAAC44B,GAAA,EAAD,CACEnjC,MAAOmR,EACPg0B,UAAS,cAASD,GAClB36B,MAAO,CAAE66B,cAAe,QACxBv0B,OACEo0B,GACE,eAAC,KAAD,CAAQzO,KAAK,QAAQrwB,QAAS,kBAAMy+B,EAAaK,IAAjD,oBACUA,EAAMjoC,OAAS,WAK/B,eAACqoC,GAAA,EAAD,CAAKl4B,SAAS,QAAQL,QAAQ,MAAMw4B,WAAW,MAA/C,UACGvjC,GAAQ,eAACiiC,GAAD,eAAejiC,EAAf,OACRyiC,GAAO,cAAC,GAAD,CAAkBA,IAAKA,IAC/B,eAACxS,GAAA,EAAD,CAAMzT,WAAS,EAAf,UACE,cAACyT,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACG6hC,GACC,cAACc,GAAA,EAAD,CAAY5jC,MAAM,gBAAgB6jC,cAAY,EAA9C,SACGf,MAKP,cAACzS,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAACyiC,GAAA,EAAD,CAAKI,UAAU,eAGnB,qBAAKl7B,MAAO,CAAEkC,gBAAiB,aAA/B,SACE,cAAC,GAAD,CAAchB,KAAMP,GAAU,gBAG/B65B,GACC,cAACM,GAAA,EAAD,CAAK/G,UAAU,SAAf,SACE,eAACiH,GAAA,EAAD,CAAY5jC,MAAM,gBAAlB,uBACaojC,aAMpBD,GAAa,cAAC,KAAD,CAAQ/0B,KAAK,SAAS3F,SAAUy0B,KAASC,aAKhD4G,GAAe,SAAC,GAA2B,IAAzBj6B,EAAwB,EAAxBA,KAAMk6B,EAAkB,EAAlBA,OACnC,OACE,cAACC,GAAA,EAAD,CAAMC,gBAAc,EAACC,OAAK,EAA1B,SACG5kC,OAAOC,QAAQsK,GAAMtL,KAAI,mCAAEyB,EAAF,KAAO5E,EAAP,YACxB,cAAC,GAAD,CAEEonB,QAASxiB,EACTmkC,UAAW/oC,EACX2oC,OAAQA,GAHH/jC,SAUFokC,GAAmB,SAAC,GAQ1B,IAPL5hB,EAOI,EAPJA,QACA2hB,EAMI,EANJA,UACAJ,EAKI,EALJA,OAKI,EACoBn9B,oBAAS,GAD7B,mBACG0zB,EADH,KACS+J,EADT,KAEI3mC,EAAY2C,eAAZ3C,QAMJ4mC,GAAW,EAKf,MAJyB,kBAAdH,GAAwC,OAAdA,IACnCG,GAAW,GAIX,sBACE37B,MAAO,CACL8zB,WAAYsH,EAAS,MAAQ,MAC7BQ,WAAW,aAAD,OAAe7mC,EAAQwC,KAAK,MACtC2K,gBAAiByvB,EACbgK,EAAQ,UACH5mC,EAAQwC,KAAK,KADV,MAENxC,EAAQwC,KAAK,KACf,WARR,UAWE,eAACskC,GAAA,EAAD,CAAU3I,QAAM,EAACt3B,QArBF,WACjB8/B,GAAQ,SAACrjB,GAAD,OAAWA,MAoBqBrY,MAAO,CAAE87B,YAAa,OAA5D,UACE,eAACrU,GAAA,EAAD,CAAMzT,WAAS,EAAf,UACE,cAACyT,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,eAAC2iC,GAAA,EAAD,CAAYe,QAAM,EAAlB,UACE,cAACrC,GAAD,CAAYtiC,MAAOrC,EAAQwC,KAAK,OAC/BsiB,OAGL,cAAC4N,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAAC2iC,GAAA,EAAD,CAAYe,QAAM,EAAlB,SACGJ,EACC,cAAC/B,GAAD,CAAWxiC,MAAOrC,EAAQwC,KAAK,KAA/B,oBAEA+J,OAAOk6B,UAKf,eAACQ,GAAA,EAAD,WACGL,GAAY,yCAAIhlC,OAAOiC,KAAK4iC,GAAWnqB,OAA3B,OACZsgB,EAAO,cAACsK,GAAA,EAAD,IAAiB,cAACC,GAAA,EAAD,UAG7B,cAAC,KAAD,CAAU3jB,GAAIoZ,EAAd,SACGgK,EACChlC,OAAOiC,KAAK4iC,GAAWnqB,OACrBsgB,GAAQ,cAAC,GAAD,CAAczwB,KAAMs6B,EAAWJ,QAAM,IAE7C,cAACS,GAAA,EAAD,UACE,cAAClC,GAAD,qCAIJ,cAACkC,GAAA,EAAD,UACE,eAAClC,GAAD,WACE,gCACE,sCACC9f,KAEH,gCACE,wCACC2hB,gB,iHCrPjB,IAAMxF,GAAY,CAChB9c,IAAKub,GACL0H,MAAO1H,GACP2H,MAAO3H,IAGH4H,GAAiB,IAOjBC,GAAgB5nC,IAAOC,IAAV,MAKb4nC,GAAsB,SAACr7B,GAC3B,IAAIqP,EAAS,GAGb,OAFIrP,EAAK+4B,MAAK1pB,GAAU,KACpBrP,EAAK1J,OAAM+Y,GAAU,IACjBA,EAAqC,GAA3B5Z,OAAOiC,KAAKsI,GAAMmQ,QAGhCmrB,GAAyB,SAACt7B,GAC9B,IAAMu7B,EAAU9lC,OAAO4T,OAAOrJ,GAAQ,IAAItL,KAAI,SAAC+yB,GAAD,OAAO4T,GAAoB5T,MACzE,OAAOxX,KAAK+N,IAAL,MAAA/N,KAAI,aAAQsrB,KAGRC,GAAU,SACrBlG,EACA10B,EACA66B,EACAh0B,EACA5T,GAEA,MAAO,CACLoK,GAAG,QAAD,OAAUq3B,EAAV,YAAoB10B,GACtB00B,SACA10B,SACA66B,WACAh0B,QACAi0B,eAAgB,CAAC,EAAG,GACpBC,oBAAqB,EACrBC,aAAc,CACZ9sB,KAAMjb,EAAQ+Z,KAAK0V,MACnBptB,MAAOrC,EAAQyC,KAAK3C,QACpBkoC,YAAa,IAEf/8B,MAAO,CAAEg9B,OAAQjoC,EAAQF,QAAQG,QAIxBioC,GAAgB,SAC3B9kC,EACAqiC,EACAzlC,EACAmoC,EACA7C,GAEI,IADJzzB,EACG,uDADI,QAEP,OAAOzO,EAAQU,QAAO,SAACC,EAAKsjC,EAAOtmC,GACjC,MAAM,GAAN,oBACKgD,GADL,CAEE,CACEqG,GAAIi9B,EAAMj9B,GACVqG,KAAM,QACNtE,KAAM,CACJ0F,OACAjG,KAAMy7B,EACN/B,eACAE,WAAW,GAEb16B,SAAU,CAAE6vB,EAAG,IAAM55B,EAAO65B,EAAGuN,EAAiBb,KAElDK,GAAQN,EAAMj9B,GAAIq7B,GAAU,EAAM,QAASzlC,OAE5C,KAqGUooC,GApDC,SAAC,GAAyC,IAAD,IAAtCjkB,EAAsC,EAAtCA,IAAKmhB,EAAiC,EAAjCA,aACdtlC,EAAY2C,eAAZ3C,QAEFqoC,EAAYb,GAAoBrjB,GAIlCmkB,EAAgBD,IAHG,OAAHlkB,QAAG,IAAHA,GAAA,UAAAA,EAAKokB,cAAL,eAAajsB,QAC7BmrB,IAA0B,OAAHtjB,QAAG,IAAHA,OAAA,EAAAA,EAAKokB,SAAU,IAAMjB,GAC5C,GAGD,OAAHnjB,QAAG,IAAHA,GAAA,UAAAA,EAAKokB,cAAL,SAAa/gB,SAAQ,SAAC4f,IACpB,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAOhkC,WACTklC,GAAiBb,GAAuBL,EAAMhkC,SAAWkkC,OAG7D,IAAMz0B,EAAQ,CACZ,CACEzI,GAAI,IACJqG,KAAM,MACN80B,QAAQ,EACRp5B,KAAM,CACJ0F,KAAM,WACNjG,KAAMuY,EACNmhB,gBAEFx6B,SAAU,CAAE6vB,EAAG,IAAKC,EAAG,MAVb,oBAYRzW,EAAIokB,OAxEiB,SAC3BA,EACAvoC,EACAmoC,EACA7C,GAEI,IADJzzB,EACG,uDADI,QAED22B,EAAef,GAAuBc,GACtCE,EAAgBN,EAAiBb,GAEjCoB,EAAU,CAACF,GAQjB,OAPAD,EAAO/gB,SAAQ,SAAC4f,EAAOrmC,GAAR,OACb2nC,EAAQptB,KACNotB,EAAQ3nC,IACNynC,EAAelB,GAAiBG,GAAuBL,EAAMhkC,aAI5DmlC,EAAOzkC,QAAO,SAACC,EAAKqjC,EAAOrmC,GAChC,MAAM,GAAN,oBACKgD,GADL,CAEE,CACEqG,GAAIg9B,EAAMh9B,GACVqG,KAAM,QACNtE,KAAM,CACJ0F,OACAjG,KAAMw7B,EACN9B,gBAEFx6B,SAAU,CAAE6vB,EAAG,IAAM55B,EAAQ,GAAI65B,EAAG6N,IAEtCd,GAAQP,EAAMh9B,GAAI,KAAK,EAAO,QAASpK,IAZzC,aAaMonC,EAAMhkC,QACN8kC,GACEd,EAAMhkC,QACNgkC,EAAMh9B,GACNpK,EACAyoC,EAAgBC,EAAQ3nC,GACxBukC,EACA,eAEF,OAEL,IA8BGqD,CAAcxkB,EAAIokB,OAAQvoC,EAASqoC,EAAW/C,GAC9C,IAdQ,aAeRnhB,EAAI/gB,QACJ8kC,GACE/jB,EAAI/gB,QACJ,IACApD,EACAsoC,EACAhD,EACA,kBAEF,KAGN,OACE,cAACiC,GAAD,UACE,eAAC,KAAD,CAAW10B,SAAUA,EAAUouB,UAAWA,GAA1C,UACE,cAAC,KAAD,CAAYh0B,QAAS27B,KAAkBC,KAAM7F,IAAK,GAAI9L,KAAM,KAE5D,cAAC,KAAD,U,oVC3JR,IAAM4R,GAAanpC,YAAO6gB,KAAP7gB,CAAH,MAUVopC,GAAoBppC,YAAOw4B,KAAPx4B,CAAH,MAKjBqpC,GAAS,SAATA,EAAU,GAAmC,IAAjCrD,EAAgC,EAAhCA,MAAOU,EAAyB,EAAzBA,OAAyB,EACxBn9B,oBAAS,GADe,mBACzC0zB,EADyC,KACnC+J,EADmC,KAExC3mC,EAAY2C,eAAZ3C,QAEFipC,EAAkDtD,EAAlDsD,QAASC,EAAyCvD,EAAzCuD,SAAUxrC,EAA+BioC,EAA/BjoC,MAAOyrC,EAAwBxD,EAAxBwD,OAAQ50B,EAAgBoxB,EAAhBpxB,YACxC,IAAK00B,IAAYC,IAAaxrC,EAC5B,OAAO,6BAGT,IAIM0rC,EAAYF,GAAYA,EAAS5sB,OAAS,EAEhD,OACE,sBAAKrR,MAAO,CAAE87B,YAAaV,EAAS,OAAS,OAA7C,UACE,eAACS,GAAA,EAAD,CAAU3I,OAAQiL,EAAWviC,QARd,WACjB8/B,GAAQ,SAACrjB,GAAD,OAAWA,MAOjB,UACE,eAACoP,GAAA,EAAD,CAAMzT,WAAS,EAAf,UACE,cAACyT,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAACyiC,GAAA,EAAD,CAAKC,WAAW,UAAhB,SACE,cAACC,GAAA,EAAD,CAAYe,QAAM,EAACh2B,SAAS,UAA5B,SACG20B,EAAMjoC,OAAS,mBAItB,cAACg1B,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,eAACyiC,GAAA,EAAD,WACE,cAACE,GAAA,EAAD,CAAYe,QAAM,EAAlB,SAAoBiC,IACpB,cAAChD,GAAA,EAAD,CAAYe,QAAM,EAAC3kC,MAAOrC,EAAQwC,KAAK,KAAvC,SACG+R,YAKR60B,GACC,eAACnC,GAAA,EAAD,sBACIiC,QADJ,IACIA,OADJ,EACIA,EAAU5sB,OADd,IACuBsgB,EAAO,cAACsK,GAAA,EAAD,IAAiB,cAACC,GAAA,EAAD,UAIlD+B,GACC,8BACE,cAAC,KAAD,CAAU1lB,GAAIoZ,EAAd,SACE,cAAC0J,GAAA,EAAD,UACG4C,EAASroC,KAAI,SAACwoC,EAAStoC,GAAV,OACZ,cAACioC,EAAD,CAAQrD,MAAO0D,EAAoChD,QAAM,GAAzD,UAAgCtlC,EAAhC,YAAyCooC,iBA6B1CG,GAnBO,SAAC,GAAoC,IAAlC3D,EAAiC,EAAjCA,MAAO4D,EAA0B,EAA1BA,MAC9B,OACE,eAACT,GAAD,CAAY/9B,UAAW,EAAvB,UACE,cAAC84B,GAAA,EAAD,CACEtyB,OACE,cAAChI,EAAA,EAAD,CAAY4tB,aAAW,QAAQtwB,QAAS0iC,EAAxC,SACE,cAAC,KAAD,MAGJ7oC,MAAM,UAER,cAACqoC,GAAD,UACE,cAACzC,GAAA,EAAD,UACE,cAAC,GAAD,CAAQX,MAAOA,YCxEV6D,GA/BE,SAAC,GAAiC,IAAD,IAA9Bpb,EAA8B,EAA9BA,SAA8B,EACtBllB,mBAAuB,MADD,mBACzCy8B,EADyC,KAClC8D,EADkC,OAEdvgC,oBAAS,GAFK,mBAEzCwgC,EAFyC,KAE9BC,EAF8B,KAQhDt2B,qBAAU,WACRo2B,EAAS,QACR,CAACrb,IACJ,IAAMwb,EAA2B,OAAbxb,IAA6B,OAARA,QAAQ,IAARA,GAAA,UAAAA,EAAUjiB,YAAV,mBAAgB09B,YAAhB,eAAsBvtB,QAAS,EACxE,OACE,eAAC,KAAD,WACE,cAACunB,GAAA,EAAD,CACEnjC,MAAM,wBACNojC,qBAAsB,CAAE72B,QAAS,eAEnC,cAACkrB,GAAA,EAAD,UACE,eAAC4N,GAAA,EAAD,CAAKj7B,SAAS,WAAd,UACG8+B,GACC,cAAC,GAAD,CAASzlB,IAAKiK,EAASjiB,KAAK09B,KAAK,GAAIvE,aAlB1B,SAACK,GACpBjL,QAAQrrB,IAAI,mBAAoBs2B,GAChCgE,GAAa,GACbF,EAAS9D,MAiBFiE,GAAejE,GAAS+D,GACvB,cAAC,GAAD,CAAQ/D,MAAOA,EAAO4D,MAAO,kBAAMI,GAAa,e,oJC9B5D,IAAMG,GAAU,SAAC,GAAsB,IAApBnQ,EAAmB,EAAnBA,QACjB,OACE,gCACE,kDACA,qBAAKz3B,UAAU,aAAf,SAA6By3B,QAK7BoQ,GAAW,SAAC,GAAiD,IAA/CjtB,EAA8C,EAA9CA,SAClB,OACE,gCACE,kDACA,sBAAK5a,UAAU,aAAf,UAA6B4a,EAA7B,aAeAktB,GAAgBrqC,IAAOC,IAAV,MAmKJqqC,GA7JM,SAACpqC,GAAkB,IAEpCuuB,EAOEvuB,EAPFuuB,SACA8b,EAMErqC,EANFqqC,aACAC,EAKEtqC,EALFsqC,WACAC,EAIEvqC,EAJFuqC,uBACAC,EAGExqC,EAHFwqC,cACArpC,EAEEnB,EAFFmB,KACAspC,EACEzqC,EADFyqC,OARmC,EAUkBH,IAA/CI,EAV6B,EAU7BA,mBAAoBC,EAVS,EAUTA,uBAVS,EAWDthC,mBAAS,OAXR,mBAW9B6hB,EAX8B,KAWlBC,EAXkB,KAa/Byf,EAAcF,EAChBF,EAAcK,kBAAkB1pC,EAAMspC,GACtCD,EAAcM,WAAW3pC,EAAMspC,GAC7B9zB,EAAS4X,EAAS7X,IAAI,UACtB+X,EAAMmc,EAAYl0B,IAAI,OACtBojB,EAAUvL,EAAS7X,IAAI,WAAWq0B,OAClCC,EAAgBzc,EAAS7X,IAAI,iBAC7Bu0B,EAAU1c,EAAS7X,IAAI,SACvB5Y,EAAOywB,EAAS7X,IAAI,QACpBuG,EAAWsR,EAAS7X,IAAI,YACxBw0B,EAAcnpC,OAAOiC,KAAK81B,GAC1BqR,EAAcrR,EAAQ,iBAAmBA,EAAQ,gBAEjDsR,EAAcf,EAAa,gBAC3BgB,EAAiBhB,EAAa,iBAC9BiB,EAAeJ,EAAYlqC,KAAI,SAACyB,GACpC,IAAI8oC,EAAgBrrB,MAAMC,QAAQ2Z,EAAQr3B,IACtCq3B,EAAQr3B,GAAK+oC,OACb1R,EAAQr3B,GACZ,OACE,uBAAMJ,UAAU,aAAhB,UACG,IACAI,EAFH,KAEU8oC,EAAe,MAFS9oC,MAMhCgpC,EAAqC,IAAxBH,EAAa7uB,OAC1BivB,EAAWrB,EAAa,YAAY,GACpCsB,EAAkBtB,EAAa,mBAAmB,GAClDuB,EAAOvB,EAAa,QAE1B,OACE,gCACGO,KAC6B,IAA3BD,GAC0B,SAA3BA,EACE,cAACgB,EAAD,CAAiBE,QAASjB,IAE1B,cAACgB,EAAD,CAAMC,QAASjB,EAAaN,WAAYA,KAE3C7b,GACC,gCACE,6CACA,qBAAKpsB,UAAU,cAAf,SACE,qBAAKA,UAAU,aAAf,SAA6BosB,SAInC,iDACA,wBAAOpsB,UAAU,uCAAjB,UACE,gCACE,qBAAIA,UAAU,mBAAd,UACE,oBAAIA,UAAU,iCAAd,kBACA,oBAAIA,UAAU,sCAAd,0BAGJ,gCACE,qBAAIA,UAAU,WAAd,UACE,qBAAIA,UAAU,sBAAd,UACGsU,EACAq0B,EACC,qBAAK3oC,UAAU,wBAAf,SACE,iDAEA,QAGN,qBAAIA,UAAU,2BAAd,UACE,sBAAKA,UAAU,aAAf,UACE,qBACE2E,QAAS,kBAAMmkB,EAAc,QAC7B9oB,UAAS,mBAA6B,QAAf6oB,GAAwB,UAFjD,SAIE,oBAAI7oB,UAAU,gBAAd,SACE,2CAIJ,qBACE2E,QAAS,kBAAMmkB,EAAc,SAC7B9oB,UAAS,mBAA6B,SAAf6oB,GAAyB,UAFlD,SAIE,oBAAI7oB,UAAU,gBAAd,SACE,4CAIJ,qBACE2E,QAAS,kBAAMmkB,EAAc,WAC7B9oB,UAAS,mBAA6B,WAAf6oB,GAA2B,UAFpD,SAIE,oBAAI7oB,UAAU,gBAAd,SACE,iDAIL4oC,EACC,cAACS,EAAD,CACE9J,OAAM,UACqB,KAAzBrT,EAAS7X,IAAI,QAAb,UACO6X,EAAS7X,IAAI,QADpB,MAEI,IAHA,OAIH6X,EAAS7X,IAAI,cAEhB,KAEH5Y,EACC,qCACkB,QAAfotB,GACC,cAACkgB,EAAD,CACE79B,QAASzP,EACTqtC,YAAaA,EACb1c,IAAKA,EACLqL,QAASA,EACTwQ,WAAYA,EACZD,aAAcA,IAGF,WAAfnf,GACC,cAACmgB,EAAD,CAAgB9c,SAAU9e,KAAK4qB,MAAMv8B,KAEvB,SAAfotB,GACC,qCACE,+CACA,cAACif,GAAD,UACE,cAAC,GAAD,CAAc79B,KAAMmD,KAAK4qB,MAAMv8B,aAKrC,KAEH2tC,EAAa,cAAC,GAAD,CAAS3R,QAASwR,IAAmB,KAClDf,GAA0BttB,EACzB,cAAC,GAAD,CAAUA,SAAUA,IAClB,oB,mMC1KlB,IAEM6uB,GAAYhsC,YAAOisC,KAAPjsC,CAAH,MAGTksC,GAAiBlsC,YAAOsM,KAAPtM,CAAH,MAKdmsC,GAAoB,WACxB,MAAO,CACLC,eAAgB,CACdC,aAAc,SAACC,EAAeC,GAAhB,OAAgC,SAACrsC,GAC7C,OAAO,cAAC,GAAD,gBAAkBA,OAG7BssC,WAAY,CACVC,cAAe,gBAAGhe,EAAH,EAAGA,SAAH,OACb,qCACE,+CACA,eAACsE,GAAA,EAAD,CAAMzT,WAAS,EAAC0T,QAAS,EAAzB,UACE,cAACD,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,GAAf,SACE,cAAC,GAAD,CAAa1C,OAAM,OAAEwtB,QAAF,IAAEA,OAAF,EAAEA,EAAUxtB,WAEjC,cAAC8xB,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,GAAf,SACE,cAAC,GAAD,CAAU8qB,SAAUA,gBAgBlC,SAASie,KAAyB,IACxB/sC,EAAaD,OAAbC,SACFgtC,EAAe,IAAIC,gBAAgBjtC,EAAS2G,QAC5CumC,EAAOF,EAAa/1B,IAAI,QACxBk2B,EAAOH,EAAa/1B,IAAI,QAC9B,OAAIi2B,EAAa,CAAEA,OAAMC,QAZ3B,WAAuC,IAC7BntC,EAAaD,OAAbC,SAGR,MAAO,CAAEktC,KAFIltC,EAASotC,SAAW,KAAOptC,EAASqtC,SAElCF,KADFntC,EAASmtC,MAUVG,GAGd,SAASC,GACPL,EACAC,EACAK,GAEA,OAAIL,EAAY,GAAN,OAAUD,EAAV,YAAkBC,EAAlB,YAA0BK,GAC/B,UAAUN,EAAV,YAAkBM,GAGzB,IA6DeC,GA7DK,WAAO,IAAD,EACA7jC,oBAAS,GADT,mBACjB0zB,EADiB,KACX+J,EADW,OAEAz9B,mBAASmjC,KAAwBG,MAFjC,mBAEjBA,EAFiB,KAEXQ,EAFW,OAGA9jC,mBAASmjC,KAAwBI,MAHjC,mBAGjBA,EAHiB,KAGXQ,EAHW,OAIQ/jC,mBAhET,gBA4DC,mBAIjB4jC,EAJiB,KAIPI,EAJO,OAKFhkC,mBAAS2jC,GAAUL,EAAMC,EAAMK,IAL7B,mBAKjBxe,EALiB,KAKZ6e,EALY,KAexB,OACE,eAAC,KAAD,CAAW3jC,YAAU,gBAArB,UACE,cAACu8B,GAAA,EAAD,CAAKI,UAAU,QAAf,SACE,eAAC,KAAD,CAAQt/B,QAPK,WACjB8/B,GAAQ,SAACrjB,GAAD,OAAWA,MAMf,+BACqBsZ,EAAO,cAACsK,GAAA,EAAD,IAAiB,cAACC,GAAA,EAAD,SAG/C,cAAC,KAAD,CAAU3jB,GAAIoZ,EAAd,SACE,cAACmJ,GAAA,EAAD,CAAKC,WAAW,QAAhB,SACE,eAACtT,GAAA,EAAD,CAAMzT,WAAS,EAAC0T,QAAS,EAAzB,UACE,cAACD,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAACqoC,GAAD,CACE/3B,MAAM,OACN3G,QAAQ,WACRvP,MAAO8uC,EACP14B,SAAU,SAACC,GAAD,OAAOi5B,EAAQj5B,EAAEhH,OAAOrP,YAGtC,cAACg1B,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAACqoC,GAAD,CACE/3B,MAAM,OACN3G,QAAQ,WACRvP,MAAO+uC,EACP34B,SAAU,SAACC,GAAD,OAAOk5B,EAAQl5B,EAAEhH,OAAOrP,YAGtC,cAACg1B,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAACqoC,GAAD,CACE/3B,MAAM,iBACN3G,QAAQ,WACRvP,MAAOovC,EACPh5B,SAAU,SAACC,GAAD,OAAOm5B,EAAYn5B,EAAEhH,OAAOrP,YAG1C,cAACg1B,GAAA,EAAD,CAAM9mB,MAAI,EAACtI,GAAI,EAAf,SACE,cAACuoC,GAAD,CAAgBhlC,QA3CV,WAChBsmC,EAAON,GAAUL,EAAMC,EAAMK,KA0CiB7/B,QAAQ,YAA5C,0BAOR,cAAC,KAAD,CAAgBqhB,IAAKA,EAAK8e,QAAS,CAACtB,UChH7BuB,GAAkB,CAC7B,CACErsC,KAAM,IACNC,OAAO,EACPG,OAAQksC,GACRpsC,UAAW,kBAAM,cAAC,IAAD,CAAUiC,GAAG,YAGhC,CACEnC,KAAM,QACNI,OAAQksC,GACRpsC,UAAWqnB,GACX1oB,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,QACNI,OAAQksC,GACRpsC,URVW,WACb,IAAM8H,EAAWC,cACXwG,EAAiB1G,YAAY2H,IAC7BL,EAAgBtH,YAAYqH,IAC5BH,EAAOlH,YAAYyG,IACrBmD,EAAS,OAAG1C,QAAH,IAAGA,OAAH,EAAGA,EAAM0C,UAClBgtB,EAAQ,OAAG1vB,QAAH,IAAGA,OAAH,EAAGA,EAAMQ,KAEf88B,EAAkBpxB,uBAAY,WAClCtI,KAAOxE,IAAI,2BAA4BsD,GACvCtV,aAAgBmwC,aAAa76B,EAAWtC,IACxCo9B,MAAM,uCACL,CAAC96B,EAAWtC,IAZkB,EAcKnH,oBAAkB,GAdvB,mBAc1BwkC,EAd0B,KAcbC,EAda,KAgBjC95B,KAAOxE,IAAI,cAAeq+B,GAC1B,IAAME,EAAqB,WAAyB,IAAxBF,IAAuB,yDACjDC,EAAeD,IAqCjB,OAAK/6B,EAGH,cAAC,IAAD,CAAWlM,OAAK,EAACvE,UAAU,8BAA3B,SACE,sBAAKA,UAAU,OAAf,UACE,mBAAGoH,KAAK,KAAKc,GAAG,gBAAgBa,MAAO,CAAE6G,QAAS,QAAlD,sBAGA,cAAC,IAAD,CAAKpL,WAAS,EAACxE,UAAU,mBAAzB,SACE,cAACD,GAAA,EAAD,CAAWvB,MAAM,cAAcwB,UAAU,wBAG3C,eAACmhC,GAAD,WACE,cAACtG,GAAD,IACA,eAAC,IAAD,CAAM76B,UAAU,uCAAhB,UACE,cAAC+gC,GAAD,IACA,cAAC5E,GAAD,CACEjC,UAAW,kBAAMpzB,EAASozB,aAAU3sB,KACpC6uB,SAAU,kBAAMt1B,EAASs1B,aAAS7uB,KAClC+uB,UAAW+O,EACXhP,YAAa,kBAAMv1B,EAASyI,YAAU,YACtCgtB,YAvDQ,WAAwB,IAAvBoP,EAAsB,uDAAV,MACzBC,EAAiBtwC,SAASuwC,cAAc,sBACxCC,EAAiBxwC,SAASuwC,cAAc,oBAC9C,GAAKD,EAAL,CACIE,GAAgBA,EAAeC,UAAUnnB,IAAI,YAEjD8mB,IACAxvC,YAAW,kBAAMwvC,GAAmB,KAAQ,KAE5C,IAAIM,EAAe,CACjBC,wBAAwB,EACxBC,SAAS,EACTzT,EAAG,EACHC,EAAG,EACHyT,QAAS,EACTC,QAAS,EACTC,MAAO,GAGTC,KAAYV,EAA+BI,GAAcO,MAAK,SAACC,GAC7D,IAAIzd,EAAQyd,EAAOC,UAAP,gBAA0Bd,IAClCxT,EAAO78B,SAASoxC,eAAe,iBAC9BvU,IACLA,EAAKwU,aAAa,WAAlB,2BAAkDhB,IAClDxT,EAAKwU,aAAa,OAAQ5d,GAC1BoJ,EAAKyU,gBAgCC,cAAC5N,GAAD,CAAWruB,SAAUF,EAAUE,cAGjC,cAACk8B,GAAD,CACEC,UAAW3+B,EAAc6C,IACzBxB,cAjCkB,WAC1B,IAAMu9B,EAAWzB,aAAa76B,EAAWtC,GACzCrH,EAAS0I,aAAcu9B,KAgCfjO,SAAuB,mBAAbrB,EACV9sB,SAAUF,EAAUE,SACpBq8B,gBAAiB,uBA/BJ,gDQ5CrBrvC,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,QACNI,OAAQksC,GACRpsC,UAAWmrB,GACXxsB,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,YACNI,OAAQksC,GACRpsC,UAAW4sB,GACXjuB,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,QACNI,OAAQksC,GACRpsC,UAAWq5B,GACX16B,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,QACNI,OAAQksC,GAERpsC,UAAW4F,EAAiB,YAAc2zB,GAAWF,GACrD16B,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,OACNI,OAAQksC,GACRpsC,UAAWu1B,GACX52B,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,4BACNI,OAAQksC,GACRpsC,UAAW63B,GACXl5B,MAAO,CACLuY,eAAgB,kBACd,cAAC,GAAD,CAAgBxE,MAAO,eAAW5S,KAAM,oBAI9C,CACEA,KAAM,SACNI,OAAQksC,GACRpsC,UAAWiuC,GACXtvC,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,SACNI,OAAQksC,GACRpsC,UAAW6rC,GACXltC,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,KC3FHi3B,GAAwB,CACnC,CACEpuC,KAAM,IACNC,OAAO,EACPG,OAAQ4X,GACR9X,UAAW,kBAAM,cAAC,IAAD,CAAUiC,GAAG,YAEhC,CACEnC,KAAM,QACNI,OAAQ4X,GACR9X,UAAWq5B,GACX16B,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,QACNI,OAAQ4X,GACR9X,UAAW+zB,GACXp1B,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,IAGd,CACEnX,KAAM,sBACNI,OAAQ4X,GACR9X,UAAW63B,GACXl5B,MAAO,CACLuY,eAAgB,kBAAM,cAAC,GAAD,CAAgBxE,MAAO,eAAW5S,KAAM,aAGlE,CACEA,KAAM,SACNI,OAAQ4X,GACR9X,UAAW,kBAAM,cAACiuC,GAAD,KACjBtvC,MAAO,CACL8K,gBAAgB,EAChBwN,UAAU,KChDHk3B,GAAgC,CAC3C,CACEruC,KAAM,IACNC,OAAO,EACPG,OAAQsY,GACRxY,UAAW6rC,M,iCCvBf,+CAGMuC,EAAgB,UAIhBC,EAAe,UAsBfC,EAAS,UACTC,EAAc,UAMd1vC,EAAQ2vC,YAAY,CACxB1vC,QAAS,CACPF,QAAS,CACPG,KAAMqvC,EACN7f,MAAO,WAET4I,UAAW,CACT5I,MArCW,UAsCXxvB,KAAMsvC,GAERrvC,WAAY,CACVC,QAhCQ,UAiCRwvC,MAxBmB,WA0BrBp+B,OAAQ,CACNq+B,mBAzB2B,UA0B3B3c,SAzBqB,WA2BvBxwB,KAAM,CACJ3C,QA3CQ,UA4CRu4B,UA3C0B,aA6C5B9xB,MAAO,CACLtG,KAlDe,WAoDjBka,QAAS,CACPla,KAAMsvC,EACNj1B,KArDe,WAuDjBL,QAAS,CACPha,KAhEgB,WAkElB8Z,KAAM,CACJ9Z,KAAMqvC,EACNh1B,KAlEyB,WAoE3B9X,KAAM,CACJqtC,IAxDY,UAyDZC,IAxDkB,YAyDlBC,IAxDsB,UAyDtBC,IAxDU,UAyDVC,IAxDe,UAyDfC,IAxDa,WA0Df5oB,QAAS,CACP,CACErnB,KAAMuvC,EACN7e,aAAc8e,GAEhB,CACExvC,KAvDU,UAwDV0wB,aAvDkB,WAyDpB,CACE1wB,KAAMuvC,EACN7e,aAAc8e,GAEhB,CACExvC,KA7DoB,UA8DpB0wB,aA7Dc,gB,iCChCtB,oEAAO,IAKMlD,EAAkB,kBAElB0iB,EAAgC,CAC3Cn6B,SAAU,CACRo6B,UACE5xC,aAAaqZ,QAAQ,0BATK,mBAU5Bw4B,UACE7xC,aAAaqZ,QAAQ,0BAZK,OAa5BzB,YACE5X,aAAaqZ,QAAQ,4BAXO,mBAY9BxB,YACE7X,aAAaqZ,QAAQ,4BAdO,OAe9BxI,IAAK7Q,aAAaqZ,QAAQ,oBAAsB,cAChDy4B,QAAS9xC,aAAaqZ,QAAQ,wBAA0B,kBACxDrG,KAAMhT,aAAaqZ,QAAQ,qBAAuB,aAClD04B,SACE/xC,aAAaqZ,QAAQ,yBAA2B,mBAClD24B,MAAOhyC,aAAaqZ,QAAQ,sBAAwB,mB,0KCVjD,SAASoR,EAAewnB,GAC7B,MAAO,CACLhgC,KAAMigC,IACNhjB,QAAS+iB,GAIN,SAASE,EAAathC,GAC3B,MAAO,CACLoB,KAAMmgC,IACNljB,QAASre,GAIN,SAASwhC,EACdC,EACAxU,GAEA,8CAAO,WAAgBtzB,GAAhB,IACI+nC,EADJ,IAwBIC,EAxBJ,aAAA96B,EAAA,6DAwBI86B,EAxBJ,SAwBc3hC,GACjBrG,EAAS2nC,EAAathC,KAxBf0hC,EADJ,YAOD,IALFvoC,EAKC,EALDA,UACA5B,EAIC,EAJDA,QAKA,IAAK4B,EAAW,OAAOQ,EAASyP,YAAW7R,EAAS,WARjD,SAWkBq1B,IAAYgV,YAAYH,EAAcxU,GAXxD,UAaqB,WAFtB4U,EAXC,QAaU16B,OAbV,yCAcIxN,EAASyP,YAAWy4B,EAAWtqC,QAAS,WAd5C,uBAgBkBq1B,IAAYkV,QAAQL,EAAcxU,GAhBpD,UAkBqB,WAFtB8U,EAhBC,QAkBU56B,OAlBV,wBAmBC46B,EAAWxqC,SACboC,EAASyP,YAAW24B,EAAWxqC,QAAS,UApBvC,2BA4BGkhB,EAASspB,EAATtpB,KAERjU,IAAOxE,IAAI,YAAayY,GAExBA,EAAKN,QAAQwpB,GAEPh7B,EAAWuB,IAAMC,WAAWC,cAAczB,SAChDimB,IAAYoV,cACVP,EACAxU,EACAtmB,EACA+6B,EACAC,GAxCG,4CAAP,wD,qDCtBF,SAASM,EAAmBC,EAAajjB,EAAa9D,GACpD3W,EAAOxE,IAAI,yBAA0BkiC,EAAKjjB,EAA1C,gBAAwD9D,IAG1D,SAASgnB,EAAQrlC,GACf9M,OAAOyoB,KAAKxM,KAAKnP,GAOnB,IAAM0H,EAAS,CACbxE,IAAK,WAAuB,IAAC,IAAD,qBAAVoiC,EAAU,yBAAVA,EAAU,gBAC1B,GAAKpyC,OAAOqyC,YAAZ,CACA,IAAIC,EAAI,YAAS3C,YACjB,EAAAtU,SAAQrrB,IAAR,oBAAesiC,IACfH,EAAQG,KAEV/5B,UAAW,WACT,OAAOvY,OAAOqyC,aAEhBn5B,OAAQ,WACN,IAAMq5B,EAAkB,GACxB,IAAK,IAAIv2B,KAAKhc,OAAOwyC,UACnBD,EAAWv2B,GAAKhc,OAAOwyC,UAAUx2B,GAhBrChc,OAAOyoB,KAAO,GAkBZ0pB,EAAQI,GACRvyC,OAAOyyC,iBACL,QACCR,GAEHjyC,OAAOqyC,aAAc,GAEvBh5B,QAAS,WACPrZ,OAAO0yC,oBACL,QACCT,GAEHjyC,OAAOqyC,aAAc,GAEvBM,UAAW,WAA4B,IAAlB1tB,EAAiB,uDAAR,OAC5BjlB,OAAO4yC,WAAa3tB,GAEtB3Y,WAAY,WAIV,IAHA,IAAM2Y,EAASjlB,OAAO4yC,YAAc,OAC9BnqB,EAAOzoB,OAAOyoB,KAChB1a,EAAU,MACLiO,EAAI,EAAGA,EAAIyM,EAAKxL,SAAUjB,EAAG,CACpC,IAAIs2B,EAAO7pB,EAAKzM,GAChBjO,GAAWkC,KAAKC,UAAUoiC,GAAf,UAA0Bt2B,EAAIyM,EAAKxL,OAAS,EAAI,IAAM,GAAtD,MAEblP,GAAW,IAEX,IAAImX,EAAQ,sCAAkC,IAAIC,KAAtC,YAAgDF,GACxD4tB,EAAO,IAAIC,KAAK,CAAC/kC,GAAU,CAAEqD,KAAM,6BACvCiU,iBAAOwtB,EAAM3tB,KAIF1Q,O,2EC9BAu+B,EAjCW,SAAC,GAA8B,IAA5B1tC,EAA2B,EAA3BA,cAC3B,OACE,qBAAKxC,UAAU,cAAf,SACE,eAAC,IAAD,CACEA,UAAU,kDACVuO,KAAK,QAFP,UAIE,cAAC,IAAD,CACEvO,UAAU,aACVoH,KAAK,IACL2B,MAAO,CAAEonC,WAAY,QAHvB,SAKE,qBAAKnwC,UAAU,iBAAf,SACE,qBACEkI,GAAG,YACHlI,UAAU,2BACV+I,MAAO,CAAE4C,SAAU,QACnB/D,IAAI,kBACJG,IAAI,uBAIV,sBACE/H,UAAU,iDACV2E,QAASnC,EAFX,SAIE,mBAAGxC,UAAU,iBAAb,4B,gBCGKowC,EA1BQ,SAAC,GAAoC,IAAD,IAAjC1mC,EAAiC,EAAjCA,KAAMlH,EAA2B,EAA3BA,cACxB1D,EAAI,UAAGuxC,qBAAH,iBAAG,EAAevsC,gBAAlB,aAAG,EAAyBub,UAAU,GAC5CwK,GAAS,EAKb,OAJAngB,EAAKxI,QAAQokB,SAAQ,SAAC6f,GAChBrmC,IAASqmC,IAAOtb,GAAS,MAI7B,cAAC,IAAD,CAAS9gB,MAAO,CAAEH,SAAU,YAA5B,SACE,eAAC,IAAD,CACEuN,IAAKm6B,IACLrvC,GAAIyI,EAAKzI,GACT4oB,OAAQA,EACRllB,QAASnC,EAJX,UAMGkH,EAAK6mC,UACJ,qBAAKvwC,UAAU,mCAAf,SACE,mBAAGA,UAAU,iBAAb,SAA+B0J,EAAK6mC,aAGvC7mC,EAAKlL,OAAS,+BAAOkL,EAAKlL,cCDpBgyC,EAlBS,SAAC,GAA+C,IAAnCxxB,EAAkC,EAA5CrZ,SAAiBnD,EAA2B,EAA3BA,cAC1C,OACE,qBAAKxC,UAAU,cAAf,SACoB,qBAAVgf,GAAyBA,EAAM5E,QACrC,cAAC,IAAD,CAAKpa,UAAU,8BAAf,SACGgf,EAAMrgB,KAAI,SAAC+K,EAAMpK,GAAP,OACT,cAAC,EAAD,CAEEoK,KAAMA,EACNlH,cAAeA,GAFVlD,WCeJ+C,IAnBf,YAA8E,IAAvDE,EAAsD,EAAtDA,YAAaD,EAAyC,EAAzCA,gBAAiBE,EAAwB,EAAxBA,cAC7CiuC,EAAUC,IACd,eACA,OACA,SACAnuC,GAAe,QAGjB,OACE,eAAC,IAAD,CAAK4T,IAAI,QAAQnW,UAAWywC,EAASlvC,GAAI,CAAEyzB,KAAM,GAAK1zB,GAAI,CAAE0zB,KAAM,GAAlE,UACE,cAAC,EAAD,CAAmBxyB,cAAeA,IAClC,cAAC,EAAD,CACEmD,SAAUrD,EACVE,cAAeA,S,gdCjBVmuC,EAAoB,uCAAG,sCAAA38B,EAAA,sEACbN,IAAMW,IAAIu8B,mCADG,cAC9B1kB,EAD8B,OAE9BjiB,EAAwBiiB,EAASjiB,KACjCkE,EAA+B,CACjCJ,KAAM8iC,EAAqB,UACzB5mC,EAAK6mC,QAAQlgC,MAAK,SAACmgC,GAAD,MAAkB,SAAXA,EAAEphC,eADF,aACzB,EAA6CtM,SAE/C2tC,IAAKH,EAAqB,UACxB5mC,EAAK6mC,QAAQlgC,MAAK,SAACmgC,GAAD,MAAkB,QAAXA,EAAEphC,eADH,aACxB,EAA4CtM,SAE9C2N,IAAK6/B,EAAqB,UACxB5mC,EAAK6mC,QAAQlgC,MAAK,SAACmgC,GAAD,MAAkB,QAAXA,EAAEphC,eADH,aACxB,EAA4CtM,SAE9CjH,QAAS6N,EAAK7N,SAbkB,kBAe3B+R,GAf2B,2CAAH,qDAkB3B8iC,EAA+C,CACnD71C,IAAK,SACL81C,KAAM,UACNC,IAAK,UACL,mBAAoB,UAGTN,EAAwB,SACnCxtC,GAEA,OAAKA,EACEA,EAAQ1E,KACb,YAAyE,IAAtEgR,EAAqE,EAArEA,KAAY0C,EAAyD,EAA/D++B,KAA4B/wB,EAAmC,EAA5CpiB,QAA6BozC,EAAe,EAArB9iC,KAC3CA,EAAO0iC,EAAQI,GACrB,MAA4B,qBAAjBhxB,GAAiD,OAAjBA,EAClC,CAAE1Q,OAAM0C,cAAa9D,QACvB,CAAEoB,OAAM0C,cAAagO,eAAc9R,WANzB,I,gBCJhB,SAAS+iC,EACdhrC,EACA5B,GAEA,OAAO,SAAUoC,GACfA,EAASyqC,EAAwBjrC,EAAW5B,IACxC4B,GACFQ,EAASyP,EAAW7R,EAAS,YAC7BoC,EA0CJ,uCAAO,WAAgBA,GAAhB,eAAAkN,EAAA,6DACLlN,EAAS,CAAEyH,KAAMijC,MADZ,SAEqBzX,IAAY4W,uBAFjC,cAEDxiC,EAFC,OAGLwD,IAAOxE,IAAI,+CAAgDgB,GAHtD,kBAIErH,EAAS2qC,YAAiBtjC,KAJ5B,2CAAP,wDAxCIrH,EA+BJ,uCAAO,WAAgBA,GAAhB,eAAAkN,EAAA,6DACLlN,EAAS,CAAEyH,KAAMmjC,MADZ,SAEqBf,IAFrB,cAEDxiC,EAFC,OAGLwD,IAAOxE,IAAI,4CAA6CgB,GAHnD,kBAIErH,EAAS2qC,YAAiBtjC,KAJ5B,2CAAP,wDA1BK,SAASqH,EACdlP,EACA5B,GAEA,OAAO,SAAUoC,GACfA,EAASyqC,EAAwBjrC,EAAW5B,IACxC4B,GACFQ,EAASyP,EAAW7R,EAAS,aAK5B,SAAS6sC,EACdjrC,EACA5B,GAEA,MAAO,CACL6J,KAAMojC,IACNnmB,QAAS,CACPllB,YACA5B,YAuBC,SAASlC,IACd,MAAO,CACL+L,KAAMqjC,KAoBH,SAASr7B,EAAW7R,EAAiB7G,GAC1C,OAAO,SAAUiJ,GACfA,EAlBG,SAAqBpC,EAAiB7G,GAC3C,MAAO,CACL0Q,KAAMsjC,IACNrmB,QAAS,CACP9mB,UACA7G,UAaOi0C,CAAYptC,EAAS7G,IAC9B3B,YAAW,WACT4K,EATG,CACLyH,KAAMwjC,QASHC,MAIA,SAAS5a,EAAU1yB,GACxB,MAAO,CACL6J,KAAM0jC,IACNzmB,QAAS,CACP9mB,YAKC,SAAS6K,EAAUrJ,EAAcE,GACtC,MAAO,CACLmI,KAAM2jC,IACN1mB,QAAS,CACPtlB,QACAE,YAAaA,GAAe,OAK3B,SAAS2F,IACd,MAAO,CACLwC,KAAM4jC,KAIH,SAASp8B,IACd,OAAO,SAAUjP,GACf,IAAMgN,EAAWuB,IAAMC,WAAWC,cAAczB,SAYhDimB,IAAYlmB,QAAQC,GAVpB,YAMI,IALFxN,EAKC,EALDA,UACA5B,EAIC,EAJDA,QAKAoC,EAASwqC,EAA4BhrC,EAAW5B,QAO/C,SAASwE,IACd,MAAO,CACLqF,KAAM6jC,KAIH,SAASta,EAAQhyB,GAEtB,OADAxJ,aAAaC,QAAQ,OAAQ6Q,KAAKC,UAAUvH,IACrC,CACLyI,KAAM8jC,IACN7mB,QAAS,CAAE1lB,W,gCC9Kf,gzBAAO,IAAMwsC,EAAY,YACZC,EAAkB,kBAClBC,EAAuB,uBACvBC,EAAiB,iBACjBC,EAAW,WACXC,EAAc,cACdC,EAAc,cACdC,EAAmB,mBACnBC,EAAc,cACdC,EAAW,WACXC,EAAc,cAGdC,EAAc,cACdC,EAAqB,qBACrBC,EAAiB,iBACjBC,EAAuB,uBACvBC,EAA4B,4BAE5BC,EAAmB,mBAEnBC,EAA8B,CACzC5iC,SAAU,CACR,CACEzI,GAAI,UACJqG,KAAM,UACNtE,KAAM,CACJ0F,KAAM,UACN+B,MAAO,WAET9I,SAAU,CAAE6vB,EAAG,IAAKC,EAAG,OAKhB8a,EAA6B,iBAE7BC,EAAwB,YAExBC,EAAqB,IAErBC,EAAuB,CAClCv3C,QAAS,MACT2R,KAAM,GACNijC,IAAK,GACLhgC,IAAK,IAGM4iC,EAAqB,CAChCC,UAAW,CACTlkC,KAAM,gBACN3B,YAAawlC,EACbjlC,KAAM,iBACNkC,UAAW8iC,EACXO,aAAa,EACbC,UAAW,OAkBFC,EAAsB,CACjCH,UAAW,CACTlkC,KAAM,gBACN3B,YAAawlC,EACbjlC,KAAM,iBACNkC,UAAW8iC,EACXO,aAAa,EACbC,UAAW,OAIFE,EAAgC,CAC3CC,eAAgB,CACdvkC,KAAM,cACNwkC,aAAc,SACd5lC,KAAM,iBACN6lC,gBAAiB,GACjBN,aAAa,EACbC,UAAW,GACXM,MAAO,GACP9mC,eAAgBkmC,EAChBtlC,cAAewlC,K,0tBCrCZ,SAAS5X,EAAgB/tB,GAC9B,MAAO,CACLO,KAAM+kC,IACN9nB,QAASxd,GAIN,SAASkzB,EAASluB,GACvB,MAAO,CACLzE,KAAM+jC,IACN9mB,QAASxY,GAIN,SAASvD,IACd,MAAO,CACLlB,KAAMgkC,KAIH,SAASd,EACdtjC,GAEA,MAAO,CACLI,KAAM2kC,IACN1nB,QAASrd,GAIN,SAASiF,EACdF,GAEA,MAAO,CACL3E,KAAMikC,IACNhnB,QAAStY,GAIN,SAAS1D,EAAcu9B,GAC5B,MAAO,CACLx+B,KAAMkkC,IACNjnB,QAASuhB,GAIN,SAASr2B,EAAWq2B,GACzB,MAAO,CACLx+B,KAAM0kC,IACNznB,QAASuhB,GAIN,SAASv5B,EAAWR,GACzB,MAAO,CACLzE,KAAMokC,IACNnnB,QAASxY,GAIN,SAASwtB,EACdt4B,EACAU,EACAqB,GAEA,MAAO,CACLsE,KAAMmkC,IACNlnB,QAAS,CACPvhB,OACA/B,KACAU,aAKC,SAAS42B,EAAQD,EAAgB10B,GACtC,MAAO,CACL0D,KAAMwkC,IACNvnB,QAAS,CACP+T,SACA10B,WAKC,SAAS80B,EAAW2U,GACzB,MAAO,CACL/lC,KAAMykC,IACNxnB,QAAS8oB,GAIN,SAAS1T,EACdpwB,EACAsB,GAEA,MAAO,CACLvD,KAAMqkC,IACNpnB,QAAS,CAAEhb,SAAQsB,eAIhB,SAASL,EACdjB,EACA+jC,GAEA,MAAO,CACLhmC,KAAMskC,IACNrnB,QAAS,CAAEhb,SAAQ+jC,mBAIhB,SAASriC,EAAW1B,GACzB,MAAO,CACLjC,KAAMukC,IACNtnB,QAAShb,GAIN,SAASsrB,EAAc9tB,GAC5B,MAAO,CACLO,KAAM4kC,IACN3nB,QAASxd,GAIN,SAAS6tB,IACd,MAAO,CACLttB,KAAM6kC,KAaH,SAASlZ,EACdlnB,GAEA,8CAAO,WAAgBlM,GAAhB,+BAAAkN,EAAA,yDACCjG,EAAOsH,IAAMC,WAAW9H,UAAUG,MAAMqF,GACxC7E,EAFD,UAEiBkH,IAAMC,WAAW9H,UAAUC,WAC/CM,EAAKC,oBAHF,aAEiB,EAEnBG,mBAEiBwP,WAAT5P,EANN,yCAOIjH,EAASyP,YAAW,uBAAwB,WAPhD,cASG9F,EAAc1C,EAAd0C,UACFnB,EAAOg8B,YAAa76B,EAAWtC,GACrCwD,IAAOxE,IACL,YACA,mBACAY,EAAKC,YACL,eACAgF,EACA,aACAvC,EACA,YACAnB,GApBG,SAuBgByqB,IAAYG,UAAU5qB,GAvBtC,UAuBCqF,EAvBD,OAwBGL,EAA6BK,EAA7BL,OAAQ5P,EAAqBiQ,EAArBjQ,QAAS01B,EAAYzlB,EAAZylB,QAEzBzoB,IAAOxE,IAAI,mBAAoBwH,GAEhB,UAAXL,EA5BC,0CA4B0BxN,EAASyP,YAAW7R,EAAS,WA5BvD,QA8BLoC,EAASsM,EAAmB,CAAE2gC,UAAW3Z,KACzCtzB,EAASyP,YAAW7R,EAAS,YAC7BoC,EAAS0tC,EAAgBxhC,IAhCpB,4CAAP,sDAoCK,SAASopB,EACdppB,GAEA,8CAAO,WAAgBlM,GAAhB,uBAAAkN,EAAA,yDACCjG,EAAOsH,IAAMC,WAAW9H,UAAUG,MAAMqF,GAC9CrB,IAAOxE,IAAI,aAAc6F,QAEL2K,WAAT5P,EAJN,yCAKIjH,EAASyP,YAAW,sBAAuB,WAL/C,UAOGw9B,EAAchmC,EAAdgmC,UACRpiC,IAAOxE,IAAI,QAASY,GACpB4D,IAAOxE,IAAI,aAAc4mC,GACpBA,EAVA,yCAWIjtC,EAASyP,YAAW,uBAAwB,WAXhD,wBAagBwjB,IAAYQ,cAAcwZ,GAb1C,WAaCp/B,EAbD,OAcGL,EAAoBK,EAApBL,OAAQ5P,EAAYiQ,EAAZjQ,QAEhBiN,IAAOxE,IAAI,oBAAqBwH,GACjB,UAAXL,EAjBC,0CAiB0BxN,EAASyP,YAAW7R,EAAS,WAjBvD,QAmBLoC,EAASyP,YAAW7R,EAAS,YAnBxB,4CAAP,sDAuBK,SAAS8vC,EACdxhC,GAEA,8CAAO,WAAgBlM,GAAhB,qBAAAkN,EAAA,yDACCjG,EAAOsH,IAAMC,WAAW9H,UAAUG,MAAMqF,GACtC+gC,EAAchmC,EAAdgmC,UAFH,yCAIIjtC,EAASyP,YAAW,4BAA6B,WAJrD,uBAMoBwjB,IAAY0a,QAAQV,GANxC,UAMC/E,EAND,OAOLr9B,IAAOxE,IAAI,oBAAqB6hC,GACN,UAAtBA,EAAW16B,OARV,wBASC06B,EAAWtqC,SACboC,EAASyP,YAAWy4B,EAAWtqC,QAAS,UAVvC,2BAaGkqC,EAAiBI,EAAWjhC,KAA5B6gC,aAER9nC,GA3FF4tC,EA2FmC,CAAEX,UAAWnF,GAzFzC,CACLrgC,KAAM8kC,IACN7nB,QAASkpB,KA0FTx4C,YAAW,kBAAM4K,EAAS6nC,YAAcC,EAAcmF,MAAa,KAlB9D,kCA7EF,IACLW,IA4EO,OAAP,wD,qFCxQWhZ,EAAgC,CAC3CiZ,0BAA2B,CACzBR,aAAc,SACd5lC,KAAM,UACNoB,KAAM,oBACNpC,eAAgB,uBAChBY,cAAewlC,IACfG,aAAa,EACbM,gBAAiB,KACjBL,UAAW,KACXM,MAAO,IAETO,yBAA0B,CACxBT,aAAc,SACd5lC,KAAM,UACNoB,KAAM,mBACNpC,eAAgB,sBAChBY,cAAewlC,IACfG,aAAa,EACbM,gBAAiB,KACjBL,UAAW,KACXM,MAAO,IAETQ,4BAA6B,CAC3BV,aAAc,SACd5lC,KAAM,UACNoB,KAAM,sBACNpC,eAAgB,yBAChBY,cAAewlC,IACfG,aAAa,EACbM,gBAAiB,KACjBL,UAAW,KACXM,MAAO,IAETS,uBAAwB,CACtBX,aAAc,SACd5lC,KAAM,UACNoB,KAAM,oBACNpC,eAAgB,YAChBY,cAAewlC,IACfG,aAAa,EACbM,gBAAiB,KACjBL,UAAW,KACXM,MAAO,KAIEU,EAA6B,CACxCC,qBAAsB,CACpBhnC,YAAa,4BACb2B,KAAM,gBACNL,KAAK,orCAoDP2lC,oBAAqB,CACnBjnC,YAAa,2BACb2B,KAAM,eACNL,KAAK,gvCA+DP4lC,uBAAwB,CACtBlnC,YAAa,8BACb2B,KAAM,kBACNL,KAAK,45BAmDP6lC,UAAW,CACTxlC,KAAM,YACN3B,YAAa,yBACbsB,KAAK,iM,qCClKT,SAAS8lC,IACP,IAAMC,EAAc/4C,aAAaqZ,QAAQ,aACnC2/B,EAAYD,EAAcjoC,KAAK4qB,MAAMqd,GAAe,KAC1D,OAAOxnC,IAAE0nC,QAAQD,GAAa1B,IAAc0B,EAyB9C,SAASE,IACP,IAAM7nC,EAAe,GAerB,OAbAjO,OAAOC,QAAQo1C,GAAczvB,SAAQ,YAAiB,IAAD,mBAAdpd,EAAc,KAAV6F,EAAU,KAC7C0nC,EAASC,YAAU3nC,EAAKuB,MAC9B,UAAImmC,QAAJ,IAAIA,OAAJ,EAAIA,EAAQxrC,KAAM,CAChB,IAAM0rC,EAAYC,YAAmBH,EAAOxrC,MAC5C0D,EAAMzF,GAAN,2BACK6F,GADL,IAEEC,YAAaD,EAAKC,YAClBO,KAAM,iBACNulC,aAAa,EACbrjC,UAAWklC,QAIVhoC,EAGT,SAASkoC,IACP,OAAOna,EAGT,IAAMoa,EAA0B,CAC9BpoC,oBAAqB,iBACrBD,WAAW,2BACNooC,KAhDP,WACE,IAAME,EAAmBz5C,aAAaqZ,QAAQ,kBACxC8lB,EAAiBsa,EAAmB3oC,KAAK4qB,MAAM+d,GAAoB,KACzE,OAAOloC,IAAE0nC,QAAQ9Z,GACb,CACEyY,eAAgB,CACdvkC,KAAM,cACNpB,KAAM,iBACN6lC,gBAAiB,GACjBN,aAAa,EACblF,aAAc,GACdyF,MAAO,GACP9mC,eAAgBkmC,IAChB9lC,MAAM,eACDynC,KAELjnC,cAAewlC,MAGnBlY,EA8BCua,IAELroC,MAAM,2BACD6nC,KACAJ,MAyOP,SAASa,EACPC,EACAC,GAGY,IAFZjuC,EAEW,uDAFN61B,cACL/vB,EACW,uCACLooC,EAAe,cAEjBd,EAAY51C,OAAO4T,OAAO4iC,EAAMvoC,OAAO/N,QAAO,SAACmO,GAAD,OAChDA,EAAK4B,KAAKzK,WAAWkxC,MAGjBC,EAAkBf,EACrB32C,KACC,SAAC23C,GAAD,OACE15C,SAAS05C,EAAS3mC,KAAK0P,UAAU+2B,EAAah8B,UAAY,KAE7D+Y,MAAK,SAACnf,EAAGuiC,GAAJ,OAAUviC,EAAIuiC,KAEhBC,EAAgBH,EAAgBA,EAAgBj8B,OAAS,IAAM,EAEjE3J,EAAY8iC,IAEhB,GAAI4C,EAAY,CACd,IAAMV,EAASC,YAAUS,IACzB,OAAIV,QAAJ,IAAIA,OAAJ,EAAIA,EAAQxrC,QAAMwG,EAAYmlC,YAAmBH,EAAOxrC,OAS1D,OAPAisC,EAAMvoC,MAAMzF,GAAM,CAChB4rC,aAAa,EACbnkC,KAAK,GAAD,OAAKymC,EAAL,YAAqBI,EAAgB,GACzCjoC,KAAM,iBACNP,YAAaA,GAA4BkoC,EAAMxoC,oBAC/C+C,aAEKylC,EAsCMO,MA7SKC,aAAQ,SAACR,EAAkB7mC,GAE7C,OADAmpB,QAAQrrB,IAAI,mBAAoBkC,GACxBA,EAAOd,MACb,KAAKgkC,IACH2D,EAAQD,EAAeC,GACvB,MAEF,KAAKzD,IAIL,KAAKQ,IACHiD,EAAQD,EAAeC,EAAO7mC,EAAOmc,SACrC,MAEF,KAAKmnB,IACH,IAAM3/B,EAAS3D,EAAOmc,QACtBgN,QAAQrrB,IAAI,kBAAmB6F,GAE/BwlB,QAAQrrB,IAAI,iBAAkBC,KAAK4qB,MAAM5qB,KAAKC,UAAU6oC,EAAMvoC,SAC9DuoC,EAAMvoC,MAAQE,IAAE8oC,KAAKT,EAAMvoC,MAAOqF,GAClCwlB,QAAQrrB,IAAI,gBAAiBC,KAAK4qB,MAAM5qB,KAAKC,UAAU6oC,EAAMvoC,SAE7D,IAAMK,EAAckoC,EAAMxoC,oBAE1B8qB,QAAQrrB,IAAI,cAAea,GAVX,IAYRT,EAAmB2oC,EAAMzoC,WAAWO,GAApCT,eAEFc,EAAiB3O,OAAOC,QAAQu2C,EAAMvoC,OAAO/N,QACjD,YAAiC,IAAD,wBAC9B,OAD8B,KAClBoO,cAAgBA,KAMhC,GAFAwqB,QAAQrrB,IAAI,kBAAmBC,KAAK4qB,MAAM5qB,KAAKC,UAAUgB,KAErDd,IAAmByF,GAAU3E,EAAe+L,OAAQ,CACtD,IAAMw8B,EAAcvoC,EAAe,GAAG,GACtC6nC,EAAMzoC,WAAWO,GAAaT,eAAiBqpC,EAC/Cpe,QAAQrrB,IAAI,eAAgBypC,QACvB,IAAKvoC,EAAe+L,OAAQ,CACjC,IAAMy8B,EAAY9Y,cAClBkY,EAAeC,OAAOv4B,EAAWk5B,GACjCX,EAAMzoC,WAAWO,GAAaT,eAAiBspC,EAEjDre,QAAQrrB,IAAI,cAAeC,KAAK4qB,MAAM5qB,KAAKC,UAAU6oC,KACrD,MAEF,KAAK1D,IACH,IAAMt/B,EAAa7D,EAAOmc,QAC1B,GAAI0qB,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,eAAgB,CAC9D,IAAMupC,EACJZ,EAAMvoC,MACJuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAEhD2oC,EAAMvoC,MACJuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAD9C,2BAGKupC,GACA5jC,GAGP,MAEF,KAAKggC,IACHgD,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBS,cAAgBkB,EAAOmc,QACnE,MAEF,KAAK8mB,IACH4D,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,eAC1C8B,EAAOmc,QACT,MACF,KAAKonB,IAAc,IAAD,EACevjC,EAAOmc,QAA9B1Z,EADQ,EACRA,WAAYtB,EADJ,EACIA,OACdjD,EACJ2oC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,eACxCwpC,EAAeb,EAAMvoC,MACzBJ,GACAkD,UAAUE,SAASqmC,WAAU,SAACnmC,GAAD,OAAaA,EAAQ3I,KAAOsI,KAE3D,GAAIumC,GAAgB,EAAG,CACrB,IAAME,EACJf,EAAMvoC,MAAMJ,GAAgBkD,UAAUE,SAASomC,GAE3CG,EAAO,2BACRD,GACAnlC,GAGLokC,EAAMvoC,MAAMJ,GAAgBkD,UAAUE,SAASomC,GAAgBG,EAEjE,MAEF,KAAKrE,IAAmB,IAAD,EACcxjC,EAAOmc,QAAlC+oB,EADa,EACbA,eAAgB/jC,EADH,EACGA,OAClBjD,EACJ2oC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,eACxCwpC,EAAeb,EAAMvoC,MACzBJ,GACAkD,UAAUE,SAASqmC,WAAU,SAACnmC,GAAD,OAAaA,EAAQ3I,KAAOsI,KAE3D,GAAIumC,GAAgB,EAAG,CACrB,IAAME,EACJf,EAAMvoC,MAAMJ,GAAgBkD,UAAUE,SAASomC,GAE3CryB,EAAiB,2BAClBuyB,EAAQhtC,MACRsqC,GAGL2B,EAAMvoC,MAAMJ,GAAgBkD,UAAUE,SACpComC,GACA9sC,KAAOya,EAGX,MAEF,KAAKguB,IAAL,MACiCrjC,EAAOmc,QAA9BvhB,EADV,EACUA,KAAM/B,EADhB,EACgBA,GAAIU,EADpB,EACoBA,SACZsuC,EAAUC,YAAWjvC,EAAI+B,EAAMrB,GACrCstC,EAAMvoC,MACJuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAC5CkD,UAAUE,SAASyI,KAAK89B,GAC1B,MACF,KAAKpE,IACH,IAAMtiC,EAASnB,EAAOmc,QAGhB4rB,EADJlB,EAAMvoC,MAAMuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBACjBkD,UAAUE,SAAS/Q,QAC1D,SAACiR,GACC,OAAI+uB,YAAW/uB,GAAiBA,EAAQ3I,KAAOsI,GAE3CkvB,YAAW7uB,IACNA,EAAQ0uB,SAAW/uB,GAAUK,EAAQhG,SAAW2F,KAM7D0lC,EAAMvoC,MACJuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAC5CkD,UAAUE,SAAWymC,EACvB,MACF,KAAKrE,IAAL,MAC6B1jC,EAAOmc,QAA1B+T,EADV,EACUA,OAAQ10B,EADlB,EACkBA,OACVwsC,EAAUC,YAAW/X,EAAQ10B,GACnCqrC,EAAMvoC,MACJuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAC5CkD,UAAUE,SAASyI,KAAKi+B,GAC1B,MACF,KAAKrE,IACH,QCrRkDr1B,IDqR7BtO,EAAOmc,QCrRW+T,ODqRD,CAAC,IAAD,EACTlwB,EAAOmc,QAA1B+T,EAD4B,EAC5BA,OAAQ10B,EADoB,EACpBA,OAChBqrC,EAAMvoC,MACJuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAC5CkD,UAAUE,SAAWulC,EAAMvoC,MAC3BuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAC5CkD,UAAUE,SAAS/Q,QACnB,SAACiR,GAAD,QAEI6uB,YAAW7uB,KACVA,EAAQ0uB,SAAWA,GAAU1uB,EAAQhG,SAAWA,WAGlD,CACL,IAAM0sC,EAASloC,EAAOmc,QACtB0qB,EAAMvoC,MACJuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAC5CkD,UAAUE,SAAWulC,EAAMvoC,MAC3BuoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAqBH,gBAC5CkD,UAAUE,SAAS/Q,QACnB,SAACiR,GAAD,OAA0B0mC,IAAW1mC,EAAQ3I,MAGjD,MACF,KAAKirC,IACH+C,EAAMxoC,oBAAsB2B,EAAOmc,QACnC,MACF,KAAK4nB,IACH8C,EAsFN,SAA6BA,GAC3B,IAAME,EAAe,YAMfoB,EAJe93C,OAAO4T,OAC1B4iC,EAAMzoC,YACN7N,QAAO,SAACu6B,GAAD,OAA0BA,EAAUxqB,KAAKzK,WAAWkxC,MAG1Dz3C,KACC,SAAC84C,GAAD,OACE76C,SAAS66C,EAAc9nC,KAAK0P,UAAU+2B,EAAah8B,UAAY,KAElE+Y,MAAK,SAACnf,EAAGuiC,GAAJ,OAAUviC,EAAIuiC,KAEhBC,EACJgB,EAAqBA,EAAqBp9B,OAAS,IAAM,EAErDpM,EAAc+vB,cACd/qB,EAAS+qB,cAcf,OAZAmY,EAAMzoC,WAAWO,GAAe,CAC9BmmC,aAAcT,IACdvlC,cAAewlC,IACfpmC,eAAgByF,EAChBrD,KAAK,GAAD,OAAKymC,EAAL,YAAqBI,EAAgB,GACzCjoC,KAAM,iBACN6lC,gBAAiB,GACjBN,aAAa,EACbC,UAAW,KACXM,MAAO,IAET6B,EAAQD,EAAeC,OAAOv4B,EAAW3K,EAAQhF,GArHrC0pC,CAAoBxB,GAC5B,MACF,KAAK7C,IACH,IAAMqB,EAAkBrlC,EAAOmc,QAC/B,GAAI0qB,EAAMxoC,oBAAqB,CAC7B,IAAMiqC,EAAoBzB,EAAMzoC,WAAWyoC,EAAMxoC,qBACjDwoC,EAAMzoC,WAAWyoC,EAAMxoC,qBAAvB,2BACKiqC,GACAjD,GAGP,MAEF,KAAKpB,IACH,IAAMtlC,EAAcqB,EAAOmc,QAC3B0qB,EAAMzoC,WAAaI,IAAE8oC,KAAKT,EAAMzoC,WAAYO,GAC5CkoC,EAAMvoC,MAAQE,IAAEC,OACdooC,EAAMvoC,OACN,SAACI,GAAD,OAAUA,EAAKC,cAAgBA,KAGjC,IAAM4pC,EAAuBl4C,OAAOC,QAAQu2C,EAAMzoC,YAAY7N,QAC5D,8CAA6D,YAA7D,KAAoD2O,QAGtD,GACE2nC,EAAMxoC,sBAAwBM,GAC9B4pC,EAAqBx9B,OACrB,CACA,IAAMy9B,EAA6BD,EAAqB,GAAG,GAC3D1B,EAAMxoC,oBAAsBmqC,OAClBD,EAAqBx9B,SAC/B87B,EAAMzoC,WAAN,2BACKI,IAAEiqC,UAAU7D,MACZ4B,KAELK,EAAMvoC,MAAN,2BACKE,IAAEiqC,UAAU9D,MACZwB,KAELU,EAAMxoC,oBAAsBhO,OAAOiC,KAAKu0C,EAAMzoC,YAAY,KA5ShC,SAACjI,GACjC,IAAIuyC,EAAiC,GACrCr4C,OAAOC,QAAQ6F,EAAMmI,OAAO2X,SAAQ,YAAiB,IAAD,mBAAdpd,EAAc,KAAV6F,EAAU,KAChC,mBAAdA,EAAKQ,OAA2BwpC,EAAO7vC,GAAM6F,MAEnDzR,aAAaC,QAAQ,YAAa6Q,KAAKC,UAAU0qC,IA4SjDC,CAAmB9B,GAzSkB,SAAC1wC,GACtC,IAAIuyC,EAAsC,GAClCtqC,EAAejI,EAAfiI,WACR/N,OAAOC,QAAQ8N,GAAY6X,SAAQ,YAA2C,IAAD,mBAAxCpd,EAAwC,KAApCiyB,EAAoC,KACpD,mBAAnBA,EAAU5rB,OAA2BwpC,EAAO7vC,GAAMiyB,MAExD79B,aAAaC,QAAQ,iBAAkB6Q,KAAKC,UAAU0qC,IAoStDE,CAAwB/B,KACvBJ,G,QE9TYoC,EA3BIxB,aAAQ,SAACR,EAAiB7mC,GAC3C,OAAQA,EAAOd,MACb,KAAKye,IACHkpB,EAAM1vC,SAAU,EAChB,MACF,KAAK4mB,IACH8oB,EAAM1vC,SAAU,EAChB0vC,EAAMjpB,OAAS5d,EAAOmc,QAAQyB,OAC9BipB,EAAM7xC,MAAQ,KACd,MACF,KAAKgpB,IACH6oB,EAAMjpB,OAAS,GACfipB,EAAM1vC,SAAU,EAChB0vC,EAAM7xC,MAAQgL,EAAOmc,QAAQnnB,MAC7B,MACF,KAAKmtB,IACH0kB,EAAMtmB,gBAAkB/hB,IAAEsqC,IAAIjC,EAAMtmB,gBAAiB,CACnDvgB,EAAOmc,QAAQ5rB,SAEjB,MACF,KAAK+xB,IACHukB,EAAMtmB,gBAAkBsmB,EAAMtmB,gBAAgBhwB,QAC5C,SAACw4C,GAAD,OAAqB/oC,EAAOmc,QAAQpG,QAAQtlB,SAASs4C,SAG1DC,K,0BCHYC,MAxBS5B,aACtB,SAACR,EAAsB7mC,GACrB,OAAQA,EAAOd,MACb,KAAKgd,IACH2qB,EAAMpiC,SAAN,2BACKoiC,EAAMpiC,UACNzE,EAAOmc,SAEZ7Z,IAAOxE,IAAI,0BAA2B+oC,EAAMpiC,UAOtBA,EANDoiC,EAAMpiC,SAOjCpU,OAAOiC,KAAKmS,GAAUwR,SAAQ,SAACllB,GAC7B9D,aAAaC,QAAb,sBACiB6D,GACf0T,EAAS1T,OAJf,IAA8B0T,IAH5Bm6B,K,QC4BasK,EAvCU7B,aACvB,SAACR,EAAuB7mC,GACtB,OAAQA,EAAOd,MACb,KAAKigC,IACH0H,EAAM3H,SAAWl/B,EAAOmc,QACxB,MACF,KAAKkjB,KAIP,WACE,IAAM8J,EAASnpC,EAAOmc,QACtB7Z,IAAOxE,IAAI,iBACX,IAAMA,EAAMsrC,YAAaD,EAAQtC,EAAMtwB,KAAKxL,QAEpCzK,EAA0BxC,EAA1BwC,KAAM8I,EAAoBtL,EAApBsL,MAAOigC,EAAavrC,EAAburC,SACrBxC,EAAMtwB,KAAKxM,KAAKjM,GAEhB,IAAMwrC,EAAoBzC,EAAM0C,WAAWjpC,GACvCumC,EAAM0C,WAAWjpC,GAAQ,EACzB,EACJumC,EAAM0C,WAAWjpC,GAAQgpC,EAEzB,IAAME,EAAmB3C,EAAMpwB,UAAUrN,GACrCy9B,EAAMpwB,UAAUrN,GAAS,EACzB,EACJy9B,EAAMpwB,UAAUrN,GAASogC,EAEzB,IAAMC,EAAwB5C,EAAMlwB,oBAAoB0yB,GAA1B,eACrBxC,EAAMlwB,oBAAoB0yB,IAC/BK,cACJ7C,EAAMlwB,oBAAoB0yB,GAAYI,EACtC5C,EAAMlwB,oBAAoB0yB,GAAU9/B,OAAOH,KAC3Cy9B,EAAMlwB,oBAAoB0yB,GAAU5xB,QAAU3Z,EAAI7N,IA1BhD05C,MA6BNC,K,QC0BaC,EAxDOxC,aACpB,SAACR,EAAoB7mC,GACnB,OAAQA,EAAOd,MACb,KAAKojC,IACHhgC,IAAOxE,IACL,qCACAkC,EAAOmc,QAAQllB,WAEjBqL,IAAOxE,IACL,sCACAkC,EAAOmc,QAAQ9mB,SAEjBwxC,EAAM1vC,SAAU,EAChB0vC,EAAM5vC,UAAY+I,EAAOmc,QAAQllB,UACjC,MACF,KAAKsrC,IACHsE,EAAM3zC,aAAe2zC,EAAM3zC,YAC3B,MACF,KAAKsvC,IACHqE,EAAMlwC,QAAQoT,KAAK,CACjB1U,QAAS2K,EAAOmc,QAAQ9mB,QACxB7G,MAAOwR,EAAOmc,QAAQ3tB,QAExB,MACF,KAAKk0C,IACHmE,EAAMlwC,QAAQmzC,QACd,MACF,KAAKlH,IACHiE,EAAMlwC,QAAQoT,KAAK,CACjB1U,QAAS2K,EAAOmc,QAAQ9mB,QACxB7G,MAAO,UAET,MACF,KAAKq0C,IACHgE,EAAMhwC,MAAQmJ,EAAOmc,QAAQtlB,MAC7BgwC,EAAM9vC,YAAciJ,EAAOmc,QAAQplB,YACnC,MACF,KAAK+rC,IACH+D,EAAMhwC,MAAQ,KACdgwC,EAAM9vC,YAAc,KACpB,MACF,KAAKsoC,IACHwH,EAAMkD,UAAU/pC,EAAOmc,QAAQxoB,SAAWqM,EAAOmc,QAAQ7b,KACzD,MACF,KAAK0iC,IACH6D,EAAMpwC,KAAOuJ,EAAOmc,QAAQ1lB,KAC5B,MACF,KAAKssC,IACH8D,EAAMpwC,KAAO,KACbxJ,aAAa+8C,WAAW,WAI9BC,e,iBClEWC,EAA8B,CACzCrvB,SAAU,CACRH,IAAK,CACHtP,QAAS,IACTsN,QAAS,IAAIlK,MAAM,IAAI9E,KAAK,IAE9BmO,QAAS,CACPC,UAAW,kBACXC,QAAS,MAEXE,SAAU,CACRM,eAAgB,EAChBD,QAAS,EACTD,SAAU,GAEZI,MAAO,CACLrN,QAAS,IACTkO,KAAM,QACNZ,QAAS,IAAIlK,MAAM,IAAI9E,KAAK,IAE9ByR,gBAAiB,IAAIlI,KACrB+H,SAAU,GACVC,MAAO,KCgFIkvB,EApGK9C,aAAQ,SAACR,EAAkB7mC,GAC7C,OAAQA,EAAOd,MACb,IDNiC,cCO/B,OAGJ,WAAgC,IAAD,EAIuBc,EAAOmc,QAFzDiuB,EAF2B,EAE3BA,UACAL,EAH2B,EAG3BA,UAGI3xC,EAAK,eAAQgyC,GAGjBtyB,EAaE1f,EAbF0f,UACAnkB,EAYEyE,EAZFzE,QACA2kB,EAWElgB,EAXFkgB,QACAD,EAUEjgB,EAVFigB,SACAR,EASEzf,EATFyf,QACAY,EAQErgB,EARFqgB,MACA4xB,EAOEjyC,EAPFiyC,WACAC,EAMElyC,EANFkyC,WACAC,EAKEnyC,EALFmyC,WACAC,EAIEpyC,EAJFoyC,SACAC,EAGEryC,EAHFqyC,SACAC,EAEEtyC,EAFFsyC,SACAhwB,EACEtiB,EADFsiB,IAGEpC,GAAWD,IACbwuB,EAAMhsB,SAAS5C,SAASM,eAAiBmyB,EACzC7D,EAAMhsB,SAAS5C,SAASK,QAAUA,EAClCuuB,EAAMhsB,SAAS5C,SAASI,SAAWA,GAGrC,GAAImyB,GAAYC,EAAU,CACxB,IAAIj7C,EAAQq3C,EAAMhsB,SAASG,SACxB1rB,KAAI,SAACq7C,GAAD,OAASA,EAAIh3C,WACjBi3C,QAAQj3C,GAEPk3C,EAAU,CACZl3C,UACAumB,KAAMuwB,EACNpwB,SAAUmwB,EACVnpC,KAAM0oC,EAAUp2C,IAGdm3C,EAAY,CACdn3C,UACAumB,KAAMqwB,EACNlwB,SAAUiwB,EACVjpC,KAAM0oC,EAAUp2C,IAGdnE,EAAQ,GACVq3C,EAAMhsB,SAASG,SAASjR,KAAK8gC,GAC7BhE,EAAMhsB,SAASI,MAAMlR,KAAK+gC,KAE1BjE,EAAMhsB,SAASG,SAASxrB,GAASq7C,EACjChE,EAAMhsB,SAASI,MAAMzrB,GAASs7C,GAGhCjE,EAAMhsB,SAASG,SAAW6rB,EAAMhsB,SAASG,SACtC8I,MACC,SAACnf,EAAYuiC,GAAb,OACEA,EAAEhtB,KAAOgtB,EAAE7sB,UAAY1V,EAAEuV,KAAOvV,EAAE0V,aAErC/E,MAAM,EAAG,IAEZuxB,EAAMhsB,SAASI,MAAQ4rB,EAAMhsB,SAASI,MACnC6I,MACC,SAACnf,EAAYuiC,GAAb,OACEA,EAAEhtB,KAAOgtB,EAAE7sB,UAAY1V,EAAEuV,KAAOvV,EAAE0V,aAErC/E,MAAM,EAAG,IAGduxB,EAAMhsB,SAASM,gBAAkB,IAAIlI,KAEjCyH,IACFmsB,EAAMhsB,SAASH,IAAItP,QAAU2/B,WAAWrwB,GAAKV,QAAQ,GACrD6sB,EAAMhsB,SAASH,IAAIhC,QAAQ3O,KAAKghC,WAAWrwB,GAAKV,QAAQ,IACxD6sB,EAAMhsB,SAASH,IAAIhC,QAAQoxB,SAGzBrxB,GAAS4xB,IACXxD,EAAMhsB,SAASpC,MAAMa,KAAO+wB,EAC5BxD,EAAMhsB,SAASpC,MAAMrN,QAAU2/B,WAAWtyB,GAAOuB,QAAQ,GACzD6sB,EAAMhsB,SAASpC,MAAMC,QAAQ3O,KAAKghC,WAAWtyB,GAAOuB,QAAQ,IAC5D6sB,EAAMhsB,SAASpC,MAAMC,QAAQoxB,SAG3BjyB,IACFgvB,EAAMhsB,SAAShD,QAAQE,QAAUizB,YAAcz9C,SAASsqB,IACxDgvB,EAAMhsB,SAAShD,QAAQC,UAAvB,gBAA4CA,IA5FrCmzB,MA+FVf,G,QCvEGgB,EAAcC,0BAAgB,CAClChtC,UAAWipC,EACXjnB,SAAU0oB,EACV3iC,cAAe+iC,EACf3yB,eAAgB4yB,EAChB9yC,YAAayzC,EACbjvB,UAAWuvB,IAGPnkC,EAAQolC,sBACZF,EACAG,8BAAoBC,0BAAgBC,OAatC7gB,IAAYlmB,QACVwB,EAAMC,WAAWC,cAAczB,UAXjC,YAMI,IALFxN,EAKC,EALDA,UACA5B,EAIC,EAJDA,QAKA2Q,EAAMvO,SAAcwqC,YAA4BhrC,EAAW5B,OAQ9C2Q,O,gCC5Df,0bAAO,IAAMs8B,EAA2B,2BAC3BC,EAAkB,kBAClBC,EAAc,cACdE,EAAc,cACdE,EAAa,aACbC,EAAa,aACbC,EAAc,cAEdT,EAA2B,2BAC3BF,EAA8B,8BAC9BY,EAAS,SACTC,EAAU,UAEVL,EAAsB,IAE7BrsC,EAAuB,CAC3B,CACEnH,MAAO,OACPyC,GAAI,QACJsvC,SAAU,OACVrvC,QAAS,CAAC,SAEZ,CACE1C,MAAO,aACPyC,GAAI,QACJsvC,SAAU,iBACVrvC,QAAS,CAAC,SAEZ,CACE1C,MAAO,cACPyC,GAAI,QACJsvC,SAAU,aACVrvC,QAAS,CAAC,SAEZ,CACE1C,MAAO,MACPyC,GAAI,OACJsvC,SAAU,QACVrvC,QAAS,CAAC,MAAO,YAEnB,CACE1C,MAAO,QACPyC,GAAI,SACJsvC,SAAU,eACVrvC,QAAS,CAAC,UAEZ,CACE1C,MAAO,WACPyC,GAAI,YACJsvC,SAAU,WACVrvC,QAAS,CAAC,aAEZ,CACE1C,MAAO,OACPyC,GAAI,QACJsvC,SAAU,OACVrvC,QAAS,CAAC,UAIP,SAASo4C,IACd,IAAIxzC,EAAO,KACL+0C,EAAav+C,aAAaqZ,QAAQ,QAKxC,OAJIklC,IACF/0C,EAAOsH,KAAK4qB,MAAM6iB,IAGb,CACL/0C,OACAE,QAAS,GACTM,WAAW,EACXuiB,WAAY,YACZriB,SAAS,EACTjE,aAAa,EACb2D,MAAO,KACPE,YAAa,KACbT,WACAyzC,UAAW,M,gYC7Ef,IAAM0B,EAAS,SAAC5vC,GACd,OAAO,IAAI+kC,KAAK,CAAC/kC,GAAU,CAAEqD,KAAM,8BA6BxBkU,EAAyB,SAACmD,GAAD,OACpCk1B,EA3ByB,SAACl1B,GAO1B,OAJoBA,EAAKhkB,QAAO,SAACC,EAAKsL,GAEpC,OADAtL,EAAG,UAAOsL,EAAI4tC,OAAX,aAAsB5tC,EAAIgS,mBAA1B,aAAiDhS,EAAIwC,KAArD,YAA6DxC,EAAInK,QAAjE,YAA4EmK,EAAIsL,MAAhF,aAA0FtL,EAAIzI,QAA9F,aAA0GyI,EAAI6tC,QAA9G,YAAyH7tC,EAAIm9B,KAA7H,YAAqIn9B,EAAI8tC,eAAzI,QAFH,wFAyBKC,CAAmBt1B,KAEflD,EAA0B,SAACkD,GAAD,OACrCk1B,EApB0B,SAACl1B,GAC3B,IAAMu1B,EAAcv1B,EAAKhkB,QAAO,SAACC,EAAKsL,EAAKgM,GAEzC,OADAtX,GAAOuL,KAAKC,UAAUF,GAAf,UAAyBgM,EAAIyM,EAAKxL,OAAS,EAAI,IAAM,GAArD,SAEN,MACH,MAAM,IAAN,OAAW+gC,EAAX,KAeOC,CAAoBx1B,KAChBjD,EAA0B,SAACiD,GAAD,OACrCk1B,EAd0B,SAACl1B,GAK3B,OAJoBA,EAAKhkB,QAAO,SAACC,EAAKsL,GAEpC,OADAtL,EAAG,UAAOsL,EAAIgS,mBAAX,YAAiChS,EAAIwC,KAArC,YAA6CxC,EAAInK,QAAjD,aAA6DmK,EAAIsL,MAAjE,cAA4EtL,EAAIzI,QAAhF,QAEF,IAUI22C,CAAoBz1B,K,yBC1B7B,SAAS6yB,EAAatrC,EAAa7N,GAA4B,IACrDy7C,EAAiB5tC,EAAjB4tC,OAAQxsC,EAASpB,EAAToB,KACVrG,EAAK61B,cACLud,EAAY,IAAIh5B,KAAKy4B,GACrBrC,EAAWx+B,KAAKC,MAAMmhC,EAAUC,UAAY,KAC5Cp8B,EAAqBm8B,EAAUE,iBACrC,OAAO,2BACFruC,GADL,IAEEjF,KACA5I,MACAo5C,WACA4C,YACAn8B,qBACA1G,MAAOlK,I,kECRPktC,E,oIACEr/C,EAAUs/C,EAAQ,KAAmBt/C,QACrCC,EAAeC,aAAaqZ,QAAQ,WAE1CxZ,YAA4BC,EAASC,G,MAEE2G,8kBAA/B24C,E,EAAAA,iBAAkBC,E,EAAAA,SAE1B,GAAyB,QAArBD,EAEFF,EADgBC,EAAQ,KAAhBG,SAEH,GAAyB,eAArBF,EAAmC,CAE5CF,EADuBC,EAAQ,MAAvBt5C,gBAEH,GAAyB,YAArBu5C,EAAgC,CAEzCF,EADoBC,EAAQ,MAApBn9C,YAEH,CAELk9C,EADsBC,EAAQ,MAAtBr8C,UAIO,eAAbu8C,GACFE,IAAY,CACVC,IACE,4EACFC,aAAc,CAAC,IAAIC,IAAaC,gBAChCC,iBAAkB,IAItBC,IAASzwB,OAEP,cAAC,IAAD,CAAkB9tB,MAAOA,IAAzB,SACE,cAAC,IAAD,CAAeA,MAAOA,IAAtB,SACE,cAAC,IAAD,CAAUwX,MAAOA,IAAjB,SACE,cAAComC,EAAD,UAINngD,SAASoxC,eAAe,SAGtBvvC,OAAOk/C,UACTl/C,OAAOkY,MAAQA,M,+GC/CNinC,EAAgB5oC,IAAMC,SAM3BomB,EAAc,CAClBlmB,QAAQ,WAAD,4BAAE,WAAOC,EAAoBC,GAA3B,eAAAC,EAAA,6DACPrC,IAAOxE,IAAI,2BAA4B2G,GACjCG,EAFC,UAEYH,EAASo6B,UAFrB,YAEkCp6B,EAASq6B,WAElDmO,EAAgB5oC,IAAMC,OAAO,CAAEM,UAASnY,QAAS6G,MAJ1C,kBAQU25C,EAAcjoC,IAAI,KAR5B,UASiB,MATjB,OASMC,OATN,wBAUH3C,IAAOxE,IAAI,iDAVR,kBAWI4G,EAAS,CACdzN,WAAW,EACX5B,QAAQ,qCAAD,OAAuCuP,MAb7C,0DAiBLtC,IAAOxE,IAAI,4CAAX,MAjBK,iCAmBA4G,EAAS,CAAEzN,WAAW,EAAO5B,QAAS,uBAnBtC,0DAAF,qDAAC,GAqBRisC,qBAAqB,WAAD,4BAAE,0CAAA38B,EAAA,sEACOsoC,EAAcjoC,IAAI,WADzB,cACdkoC,EADc,OAEdngD,EAAUmgD,EAAatyC,KAAKuyC,KAAKA,KAFnB,SAIKF,EAAcjoC,IAAI,oBAJvB,cAId26B,EAJc,OAKdjhC,EAAO0uC,EAA6BzN,EAAW/kC,MALjC,UAOIqyC,EAAcjoC,IAAI,mBAPtB,eAOdqoC,EAPc,OAQd1rC,EAAMyrC,EAA6BC,EAAUzyC,MAR/B,UAUIqyC,EAAcjoC,IAAI,mBAVtB,eAUdsoC,EAVc,OAWd3L,EAAMyL,EAA6BE,EAAU1yC,MAX/B,kBAab,CAAE7N,UAAS2R,OAAMiD,MAAKggC,QAbT,4CAAF,kDAAC,GAerB4L,gBAAgB,WAAD,4BAAE,4BAAA5oC,EAAA,+EAEQsoC,EAAcjoC,IAAI,WAF1B,UAGS,OADhBM,EAFO,QAGFL,OAHE,yCAIJ,CAAEA,OAAQ,UAAWuoC,aAAcloC,EAAO1K,OAJtC,gCAKN,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAL7B,yDAON,CAAEqK,OAAQ,QAAS5P,QAAQ,EAAD,KAPpB,yDAAF,kDAAC,GAUhBo4C,cAAc,WAAD,4BAAE,4BAAA9oC,EAAA,+EAEUsoC,EAAcjoC,IAAI,eAF5B,UAGW,OADhBM,EAFK,QAGAL,OAHA,yCAIF,CAAEA,OAAQ,UAAW7G,WAAYkH,EAAO1K,OAJtC,gCAKJ,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAL/B,yDAOJ,CAAEqK,OAAQ,QAAS5P,QAAQ,EAAD,KAPtB,yDAAF,kDAAC,GAUds1B,gBAAgB,WAAD,4BAAE,WAAOqa,GAAP,mBAAArgC,EAAA,6DACT+oC,EAAW,IAAIC,SACrB3I,EAAM/uB,SAAQ,SAACuU,GACO,kBAATA,EAAmBkjB,EAASE,OAAO,QAAS,IAAIhN,KAAK,CAACpW,KAC5DkjB,EAASE,OAAO,QAASpjB,MAE1Bx2B,EAAU,CACdo0B,QAAS,CACP,eAAgB,wBARL,kBAYQ6kB,EAAc9nC,KAAK,cAAeuoC,EAAU15C,GAZpD,UAaS,OADhBsR,EAZO,QAaFL,OAbE,yCAcJ,CAAEA,OAAQ,UAAW6lB,UAAWxlB,EAAO1K,OAdnC,gCAeN,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAf7B,2DAiBN,CAAEqK,OAAQ,QAAS5P,QAAQ,EAAD,KAjBpB,0DAAF,mDAAC,GAoBhBq3B,gBAAgB,WAAD,4BAAE,WAAO6S,GAAP,eAAA56B,EAAA,+EAEQsoC,EAAcY,OAAd,sBAAoCtO,IAF5C,UAGS,OADhBj6B,EAFO,QAGFL,OAHE,yCAIJ,CAAEA,OAAQ,UAAW5P,QAASiQ,EAAO1K,OAJjC,uDAMb0H,IAAOxE,IAAP,gCAAoCyhC,EAApC,kBANa,iCAQR,CAAEt6B,OAAQ,UARF,yDAAF,mDAAC,GAUhB6oC,oBAAoB,WAAD,4BAAE,4BAAAnpC,EAAA,+EAEIsoC,EAAcY,OAAd,mBAFJ,UAGK,OADhBvoC,EAFW,QAGNL,OAHM,yCAIR,CAAEA,OAAQ,UAAW5P,QAASiQ,EAAO1K,OAJ7B,uDAMjB0H,IAAOxE,IAAP,0CANiB,iCAQZ,CAAEmH,OAAQ,UARE,yDAAF,kDAAC,GAUpB8oC,oBAAoB,WAAD,4BAAE,4BAAAppC,EAAA,+EAEIsoC,EAAcjoC,IAAI,oBAFtB,UAGK,OADhBM,EAFW,QAGNL,OAHM,yCAIR,CAAEA,OAAQ,UAAWw4B,UAAWn4B,EAAO1K,OAJ/B,gCAKV,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OALzB,yDAOV,CAAEqK,OAAQ,QAAS5P,QAAQ,EAAD,KAPhB,yDAAF,kDAAC,GAUpB+vC,QAAQ,WAAD,4BAAE,WAAOra,GAAP,eAAApmB,EAAA,+EAEgBsoC,EAAcjoC,IAAd,iBAA4B+lB,IAF5C,UAGiB,OADhBzlB,EAFD,QAGML,OAHN,yCAG6B,CAAEA,OAAQ,UAAWvG,KAAM4G,EAAO1K,OAH/D,gCAIE,CACLqK,OAAQ,QACR5P,QAASiQ,EAAO1K,OANb,gCASL0H,IAAOxE,IAAI,qCAAX,MATK,iCAWA,CACLmH,OAAQ,QACR5P,QAAQ,8BAAD,OAAgC01B,KAblC,yDAAF,mDAAC,GAgBRF,UAAU,WAAD,4BAAE,WAAO5qB,EAAcs/B,GAArB,uBAAA56B,EAAA,6DACTrC,IAAOxE,IAAI,cAAemC,IACpBytC,EAAW,IAAIC,UACZC,OAAO,OAAQ,IAAIhN,KAAK,CAAC3gC,KAC9Bs/B,GAAcmO,EAASE,OAAO,eAAgBrO,GAC5CvrC,EAAU,CACdo0B,QAAS,CACP,eAAgB,wBAPX,kBAWc6kB,EAAc9nC,KAAd,SAA6BuoC,EAAU15C,GAXrD,UAYe,OADhBsR,EAXC,QAYIL,OAZJ,wBAaC8lB,EAAUzlB,EAAO1K,KACjBvF,EAdD,wCAc4C01B,GAd5C,kBAeE,CAAE9lB,OAAQ,UAAW5P,UAAS01B,YAfhC,iCAiBA,CAAE9lB,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAjBnC,yCAmBP0H,IAAOxE,IAAI,0BAAX,MAnBO,kBAoBA,CAAEmH,OAAQ,QAAS5P,QAAS,KAAEA,UApB9B,0DAAF,qDAAC,GAuBV61B,cAAc,WAAD,4BAAE,WAAOH,GAAP,iBAAApmB,EAAA,+EAEUsoC,EAAcY,OAAd,iBAA+B9iB,IAFzC,UAELzlB,EAFK,OAGXhD,IAAOxE,IAAI,mBAAoBwH,GACT,MAAlBA,EAAOL,OAJA,uBAKH5P,EALG,sCAKsC01B,GALtC,kBAMF,CAAE9lB,OAAQ,UAAW5P,UAASqJ,KAAM4G,EAAO1K,OANzC,gCAQJ,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAR/B,yCAUX0H,IAAOxE,IAAI,8BAAX,MAVW,kBAWJ,CAAEmH,OAAQ,QAAS5P,QAAS,KAAEA,UAX1B,0DAAF,mDAAC,GAcd24C,kBAAkB,WAAD,4BAAE,4BAAArpC,EAAA,+EAEMsoC,EAAcY,OAAO,cAF3B,UAGO,OADhBvoC,EAFS,QAGJL,OAHI,yCAIN,CAAEA,OAAQ,UAAW5P,QAASiQ,EAAO1K,OAJ/B,uDAMf0H,IAAOxE,IAAI,kCAAX,MANe,iCAQV,CAAEmH,OAAQ,UARA,yDAAF,kDAAC,GAUlB26B,QAAQ,WAAD,4BAAE,WAAOL,EAAsBxU,GAA7B,iBAAApmB,EAAA,+EAEgBsoC,EAAcjoC,IAAd,gBAA2Bu6B,EAA3B,YAA2CxU,IAF3D,UAGiB,OADhBzlB,EAFD,QAGML,OAHN,uBAIGsR,EAAOjR,EAAO1K,KACjBxN,MAAM,MACNmD,QAAO,SAAC0oB,GAAD,MAA2B,KAATA,KACzB3pB,IAAIyO,KAAK4qB,OAPT,kBAQI,CAAE1jB,OAAQ,UAAWsR,SARzB,uDAWLjU,IAAOxE,IAAI,wBAAX,MAXK,iCAaA,CACLmH,OAAQ,QACR5P,QAAQ,wCAAD,OAA0C01B,KAf5C,yDAAF,qDAAC,GAkBR2U,YAAY,WAAD,4BAAE,WACXH,EACAxU,GAFW,+BAAApmB,EAAA,sDAGXspC,EAHW,+BAGU16C,IACrB26C,EAJW,+BAIY16C,IAEdsW,EAAI,EANF,YAMKA,EAAImkC,GANT,wBAOT3rC,IAAOxE,IAAP,kCAAsCgM,EAAI,EAA1C,MAPS,kBAScmjC,EAAcjoC,IAAd,gBACVu6B,EADU,YACMxU,IAVpB,UAYe,MAZf,OAYI9lB,OAZJ,0CAaE,CACLA,OAAQ,UACR5P,QAAQ,6CAAD,OAA+C01B,KAfnD,0DAmBPzoB,IAAOxE,IAAP,4BAAgCgM,EAAI,EAApC,MAnBO,yBAqBHrd,YAAQyhD,GArBL,UAMuBpkC,EANvB,gDAuBJ,CACL7E,OAAQ,QACR5P,QAAQ,oDAAD,OAAsD01B,KAzBpD,0DAAF,qDAAC,GA4BZ+U,cAAc,WAAD,4BAAE,WACbP,EACAxU,EACAtmB,EACAC,EACA+6B,GALa,mBAAA96B,EAAA,sDAOTwpC,EAAS1pC,EAASo6B,UACnB9oC,QAAQ,UAAW,SACnBA,QAAQ,WAAY,UACjB6O,EAVO,UAUMupC,EAVN,YAUgB1pC,EAASq6B,UAVzB,sBAUgDS,EAVhD,YAUgExU,GAC7EzoB,IAAOxE,IAAI,iCAAkC8G,GAXhC,SAcXwpC,EAAS,IAAIC,UAAUzpC,GAdZ,yEAgBJF,EAAS,CAAEzN,WAAW,EAAO5B,QAAQ,EAAD,MAhBhC,QAmBb+4C,EAAO7N,iBAAiB,QAAQ,WAC9B77B,EAAS,CAAEzN,WAAW,EAAM5B,QAAS,2BACrC+4C,EAAOE,KAAKvwC,KAAKC,UAAU,CAAE3K,KAAM,QAErC+6C,EAAO7N,iBAAiB,WAAW,SAAUnoC,GAC3CkK,IAAOxE,IAAI,uCAAwC1F,GACnD,IAAM0F,EAAcC,KAAK4qB,MAAMvwB,EAAMwC,MACrC6kC,EAAU3hC,MAEZswC,EAAO7N,iBAAiB,SAAS,SAAUnoC,GACzCsM,EAAS,CAAEzN,WAAW,EAAO5B,QAAS,yBAExC+4C,EAAO7N,iBAAiB,SAAS,SAAUnoC,GACzCsM,EAAS,CAAEzN,WAAW,EAAO5B,QAAS,oBAhC3B,yDAAF,2DAAC,GAmCdk5C,mBAAmB,WAAD,4BAAE,4BAAA5pC,EAAA,+EAEKsoC,EAAcjoC,IAAI,mBAFvB,UAGM,OADhBM,EAFU,QAGLL,OAHK,yCAIP,CAAEA,OAAQ,UAAWw4B,UAAWn4B,EAAO1K,OAJhC,gCAKT,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAL1B,yDAOT,CAAEqK,OAAQ,QAAS5P,QAAQ,EAAD,KAPjB,yDAAF,kDAAC,GAUnBm5C,OAAO,WAAD,4BAAE,WAAOC,GAAP,eAAA9pC,EAAA,+EAEiBsoC,EAAcjoC,IAAd,gBAA2BypC,IAF5C,UAGkB,OADhBnpC,EAFF,QAGOL,OAHP,yCAG8B,CAAEA,OAAQ,UAAWtD,IAAK2D,EAAO1K,OAH/D,uDAKJ0H,IAAOxE,IAAP,uBAA2B2wC,EAA3B,kBALI,iCAOC,CAAExpC,OAAQ,UAPX,yDAAF,mDAAC,GASPypC,SAAS,WAAD,4BAAE,WAAOC,GAAP,eAAAhqC,EAAA,+EAEesoC,EAAc9nC,KAAd,QAA4BwpC,GAF3C,UAGgB,OADhBrpC,EAFA,QAGKL,OAHL,yCAG4B,CAAEA,OAAQ,UAAWtD,IAAK2D,EAAO1K,OAH7D,gCAIC,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAJpC,yDAMC,CAAEqK,OAAQ,QAAS5P,QAAQ,EAAD,KAN3B,yDAAF,mDAAC,GASTu5C,aAAa,WAAD,4BAAE,WAAOH,GAAP,eAAA9pC,EAAA,+EAEWsoC,EAAcY,OAAd,gBAA8BY,IAFzC,UAGY,OADhBnpC,EAFI,QAGCL,OAHD,yCAID,CAAEA,OAAQ,UAAW5P,QAASiQ,EAAO1K,OAJpC,uDAMV0H,IAAOxE,IAAP,6BAAiC2wC,EAAjC,kBANU,iCAQL,CAAExpC,OAAQ,UARL,yDAAF,mDAAC,GAUb4pC,iBAAiB,WAAD,4BAAE,4BAAAlqC,EAAA,+EAEOsoC,EAAcY,OAAd,aAFP,UAGQ,OADhBvoC,EAFQ,QAGHL,OAHG,yCAIL,CAAEA,OAAQ,UAAW5P,QAASiQ,EAAO1K,OAJhC,uDAMd0H,IAAOxE,IAAP,uCANc,iCAQT,CAAEmH,OAAQ,UARD,yDAAF,kDAAC,GAUjB6pC,mBAAmB,WAAD,4BAAE,4BAAAnqC,EAAA,+EAEKsoC,EAAcjoC,IAAI,mBAFvB,UAGM,OADhBM,EAFU,QAGLL,OAHK,yCAIP,CAAEA,OAAQ,UAAWw4B,UAAWn4B,EAAO1K,OAJhC,gCAKT,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAL1B,yDAOT,CAAEqK,OAAQ,QAAS5P,QAAQ,EAAD,KAPjB,yDAAF,kDAAC,GAUnB05C,OAAO,WAAD,4BAAE,WAAOC,GAAP,eAAArqC,EAAA,+EAEiBsoC,EAAcjoC,IAAd,gBAA2BgqC,IAF5C,UAGkB,OADhB1pC,EAFF,QAGOL,OAHP,yCAG8B,CAAEA,OAAQ,UAAW08B,IAAKr8B,EAAO1K,OAH/D,uDAKJ0H,IAAOxE,IAAP,yCAA6CkxC,EAA7C,YALI,iCAOC,CAAE/pC,OAAQ,UAPX,yDAAF,mDAAC,GASPgqC,SAAS,WAAD,4BAAE,WAAOC,GAAP,eAAAvqC,EAAA,+EAEesoC,EAAc9nC,KAAd,QAA4B+pC,GAF3C,UAGgB,OADhB5pC,EAFA,QAGKL,OAHL,yCAG4B,CAAEA,OAAQ,UAAW08B,IAAKr8B,EAAO1K,OAH7D,gCAIC,CAAEqK,OAAQ,QAAS5P,QAASiQ,EAAO1K,OAJpC,yDAMC,CAAEqK,OAAQ,QAAS5P,QAAQ,EAAD,KAN3B,yDAAF,mDAAC,GAST85C,aAAa,WAAD,4BAAE,WAAOH,GAAP,eAAArqC,EAAA,+EAEWsoC,EAAcY,OAAd,gBAA8BmB,IAFzC,UAGY,OADhB1pC,EAFI,QAGCL,OAHD,yCAID,CAAEA,OAAQ,UAAW5P,QAASiQ,EAAO1K,OAJpC,uDAMV0H,IAAOxE,IAAP,6BAAiCkxC,EAAjC,kBANU,iCAQL,CAAE/pC,OAAQ,UARL,yDAAF,mDAAC,GAUbmqC,iBAAiB,WAAD,4BAAE,4BAAAzqC,EAAA,+EAEOsoC,EAAcY,OAAO,aAF5B,UAGQ,OADhBvoC,EAFQ,QAGHL,OAHG,yCAIL,CAAEA,OAAQ,UAAW5P,QAASiQ,EAAO1K,OAJhC,uDAMd0H,IAAOxE,IAAP,uCANc,iCAQT,CAAEmH,OAAQ,UARD,yDAAF,kDAAC,IAYb28B,EAA+C,CACnDyN,OAAQ,SACRC,QAAS,UACTC,QAAS,UACTC,MAAO,UAGIpC,EAA+B,SAC1CxyC,GAEA,OAAOvK,OAAOC,QAAQsK,GAAMtL,KAC1B,YAAqE,IAAD,mBAAlEgR,EAAkE,YAA1D0C,EAA0D,EAA1DA,YAAsBgO,EAAoC,EAA7CpiB,QAA6BozC,EAAgB,EAAtB9iC,KACtCA,EAAO0iC,EAAQI,GACrB,MAA4B,qBAAjBhxB,GAAiD,OAAjBA,EAClC,CAAE1Q,OAAM0C,cAAa9D,QACvB,CAAEoB,OAAM0C,cAAagO,eAAc9R,YAKjCwrB,O,uDCrYf,kDAAO,IAAM+kB,EAAa,CACxBrmB,EAAG,IACHC,EAAG,M,6GCQL,SAAS34B,EAAT,GAA2D,IAAtCvB,EAAqC,EAArCA,MAAOiG,EAA8B,EAA9BA,SAAUzE,EAAoB,EAApBA,UAC9BywC,EAAUC,IACd1wC,EACA,cACA,eACA,WAGF,OACE,eAAC,IAAD,CAAKoB,GAAG,KAAKC,GAAG,IAAIrB,UAAWywC,EAA/B,UACE,oBAAIzwC,UAAU,aAAasH,YAAU,QAArC,SACG9I,IAEH,mBAAGwB,UAAU,0BAAb,SAAwCyE,S,kqJCXxCo3C,EAAM,WAEV,OADAvgD,SAASkD,MAAQ,WAEf,cAAC,IAAD,CAAQC,SAAU,IAAlB,SACE,8BACGC,IAAOC,KAAI,SAACC,EAAiBC,GAC5B,OACE,cAAC,IAAD,CAEEC,KAAMF,EAAME,KACZC,MAAOH,EAAMG,MACbC,UAAWC,aAAY,SAACtB,GACtB,OACE,cAACiB,EAAMM,OAAP,uCAAkBvB,GAAWiB,EAAMjB,OAAnC,aACE,cAAC,gBAAD,CAAewB,kBAAmBC,IAAlC,SACE,cAACR,EAAMI,UAAP,eAAqBrB,aAPxBkB,Y,gCClBnB,8OAAO,IAAMmuB,EAAmB,mBACnBI,EAA2B,2BAC3BC,EAA2B,2BAC3BmE,EAAc,cACdG,EAAgB,gBAIhB0mB,EAA4B,CACvCprB,OAAQ,GACRzmB,SAAS,EACTnC,MAAO,KACPurB,gBAAiB,IAGNuC,EAAc,CACzB,kBACA,kBACA,oBACA,sB,sOCZIre,EAAW4nC,EAAQ,KAEZhc,EAAaqf,IACbnf,EAAaof,IAEb7H,EAAa,SACxBjvC,EACA+B,EACArB,GAEA,MAAO,CACLV,KACAqG,KAAa,YAAPrG,EAAmB,UAAY,MACrC+B,OACArB,aAIS0uC,EAAa,SAAC/X,EAAgB10B,GAAjB,MAA+C,CACvE3C,GAAG,KAAD,OAAOq3B,EAAP,eAAoB10B,GACtB00B,SACA10B,SACA0D,KAAM,SAaKqnC,EAAqB,SAAC3rC,GAAiC,IAAD,MA8B7Dg1C,EA7BAC,EAAOj1C,EAAKi1C,KACZ1S,EAAM,UAAGviC,EAAKkJ,YAAR,iBAAG,EAAWgsC,aAAd,aAAG,EAAkB3S,OAEzBmJ,EAAuB,CAC3BxiC,KAAMlJ,EAAKkJ,MAGTisC,EAAoB,GACpBC,EAAoB,GAExB,aAAIp1C,EAAK7N,eAAT,aAAI,EAAc0D,SAAS,KAAM,CAC/B,IAAIw/C,EAAS,GACbJ,EAAK55B,SAAQ,SAACtU,GACZ,IAAM9I,EAAK8I,EAAIrB,YACRqB,EAAIrB,KACX2vC,EAAOp3C,GAAP,eACK8I,MAGPkuC,EAAOI,EAGJJ,EAAKK,UACRL,EAAI,aACFK,QAAS,MACNL,IAKPx/C,OAAOiC,KAAKu9C,GAAM55B,SAAQ,SAACpd,GAAQ,IAAD,EAC1B8I,EAAMkuC,EAAKh3C,IAAO,GAEpBwI,EAAiBymC,EAAWjvC,EAAI8I,EAAK,IAazC,GAXAN,EAAKzG,KAAKyH,MAAQxJ,EAClBwI,EAAKzG,KAAK0F,KAAOzH,EAEb+2C,IAAavuC,EAAKzG,KAAKu1C,OAAgB,YAAPt3C,KACjCwI,EAAKzG,KAAKu1C,QAAU9uC,EAAKzG,KAAKu1C,MAAQ,IACvC9uC,EAAKzG,KAAKu1C,MAAMpmC,KAAK6lC,KAGvB,OAAIvuC,QAAJ,IAAIA,GAAJ,UAAIA,EAAMzG,YAAV,aAAI,EAAYu1C,QACd9uC,EAAKzG,KAAKu1C,MAAMl6B,SAAQ,SAACm6B,GAAD,OAAYJ,EAAMjmC,KAAKk+B,EAAWmI,EAAQv3C,OAEhEskC,GAAUA,EAAOtkC,GAAK,CAAC,IAAD,EACPskC,EAAOtkC,GAAhBuwB,EADgB,EAChBA,EAAGC,EADa,EACbA,EACXhoB,EAAK9H,SAAW,CAAE6vB,EAAG77B,SAAS67B,GAAIC,EAAG97B,SAAS87B,IAEhD0mB,EAAMhmC,KAAK1I,GACXuuC,EAAW/2C,KAGb,IAAMw3C,EAAkB,GAClBC,EAAU7rC,EAASgrC,WAAWrmB,EAC9BmnB,EAAU9rC,EAASgrC,WAAWpmB,EAoBpC,OAjBA0mB,EAAM95B,SAAQ,SAAC5U,GACb,IAAMmvC,EAAQC,EAAaV,EAAO1uC,GAClCA,EAAKzG,KAAK41C,MAAQA,OAESliC,IAA3B+hC,EAAgBG,GACXH,EAAgBG,GAAS,EACzBH,EAAgBG,GAASH,EAAgBG,GAAS,EAElDnvC,EAAK9H,SAAS6vB,IACjB/nB,EAAK9H,SAAW,CACd8vB,EAAGmnB,EAAQD,EAAUA,EACrBnnB,EAAGinB,EAAgBG,GAASF,OAIlChK,EAAUhlC,SAAV,UAAyByuC,EAAUC,GAE5B1J,GAGT,SAASmK,EAAaV,EAAmB1uC,GACvC,IAAMqvC,EAAUrvC,EAAKzG,KAAKu1C,MAE1B,GAAKO,GAA8B,IAAnBA,EAAQ3lC,OACnB,CACH,IAAM4lC,EAAkBD,EAAQphD,KAAI,SAAC4kC,GACnC,IAAMkc,EAASL,EAAMxuC,MAAK,SAACF,GAAD,OAAUA,EAAKxI,KAAOq7B,KAIhD,OAFIkc,EAAOx1C,KAAK41C,MAAeJ,EAAOx1C,KAAK41C,MAC9BC,EAAaV,EAAOK,MAInC,OADYvlC,KAAK+N,IAAL,MAAA/N,KAAI,YAAQ8lC,IAAmB,EATP,OAAO,I,iVC/ElCC,EAAgB,2BAJM,CACjCJ,MAAO,IAN0B,CACjCnuC,MAAO,SACP/B,KAAM,W,QC1BFuwC,EAAaxgD,OAAOiC,KAAKs+C,GAUlB/c,EAAsB,SAACid,GAAD,OACjCA,EAAQ9gC,UAAU8gC,EAAQlG,QAAQ,KAAO,EAAGkG,EAAQlG,QAAQ,OAuDjDvE,EAAY,SAAC0K,GACxB,IAAIC,EAAoB,KAAKC,KAAKF,GAC9BA,EAAQ3jD,MAAM,MAAMkoB,MAAM,GAAGwkB,KAAK,MAClCiX,EAEJ,IACE,IAAMn2C,EAAOs2C,QAAWF,GACxB,GAAoB,kBAATp2C,GAA8B,OAATA,EAC9B,MAAM,IAAIu2C,MAAM,gBAOlB,OANA9gD,OAAOiC,KAAKsI,EAAKi1C,MAAM55B,SAAQ,SAACw4B,GAC1B7zC,EAAKi1C,KAAKpB,GAAO0B,QAAU3hC,MAAMC,QAAQ7T,EAAKi1C,KAAKpB,GAAO0B,SAC5Dv1C,EAAKi1C,KAAKpB,GAAO0B,MAAQ,CAACv1C,EAAKi1C,KAAKpB,GAAO0B,WAIxC,CAAEv1C,QACT,MAAO5F,GACPknC,MAAM,wBAA0BlnC,EAAMK,WAkB7B4mC,EAAe,SAC1BmV,EACAtyC,GACI,IACUuyC,EAAwBD,EAA9BttC,KAAiBxC,EAAa8vC,EAAb9vC,SAErByuC,EAAoB,GACpBuB,EAAwB,GAE5BhwC,EAAS2U,SAAQ,SAACzU,GACZ6uB,YAAW7uB,IAAU8vC,EAAUvnC,KAAKvI,GACpC+uB,YAAW/uB,IAAUuuC,EAAMhmC,KAAKvI,MARnC,IAWU+vC,EAAiBzyC,EAAtB6C,IAEF6vC,EAAkBF,EAAU/+C,QAAO,SAACC,EAAKojB,GAC7C,IAAMw6B,EAASx6B,EAAKsa,OACduhB,EAAQ77B,EAAKpa,OAMnB,OAJKhJ,EAAIi/C,KACPj/C,EAAIi/C,GAAS,IAEfj/C,EAAIi/C,GAAO1nC,KAAKqmC,GACT59C,IACN,IAEGq9C,EAAOE,EACVx/C,QAAO,SAAC8Q,GAAD,MAA8B,YAApBA,EAAKzG,KAAKyH,SAC3B9P,QAAO,SAACC,EAAK6O,GACZ,IAjCqBqwC,EAiCf3gD,EAAMsQ,EAAKzG,KAAKyH,MAEhBsvC,EAAgBthD,OAAOC,QAAQ+Q,EAAKzG,MAAMrI,QAC9C,SAACC,EAAD,GAAgC,IAAD,mBAAxBo/C,EAAwB,KAAfC,EAAe,KAC7B,OAAIhB,EAAWpgD,SAASmhD,KACxBp/C,EAAIo/C,GAjDiB,SAC7BA,EACAC,EACAC,GAEA,IAAM9vC,EAAW8vC,EAAkBvwC,MAAK,SAAC2+B,GAAD,OAASA,EAAI5/B,OAASsxC,KAC9D,OAAK5vC,GACiB,YAAlBA,EAAS9C,KAAiD,SAAtBlE,OAAO62C,GADzBA,EA2CCE,CAAgBH,EAASC,EAAWN,IADV/+C,IAI3C,IAOF,OALIg/C,EAAgBzgD,KAClB4gD,EAAcxB,OA5CKuB,EA4CqBF,EAAgBzgD,GA3C9Dyd,MAAMC,QAAQijC,IAAuB,IAAfA,EAAI3mC,OAAe2mC,EAAI,GAAKA,IA8C9Cl/C,EAAIzB,GAAJ,eAAgB4gD,GACTn/C,IACN,IAEC2qC,EAAS4S,EAAMx9C,QAAO,SAACC,EAAK6O,GAAU,IAAD,EAGrCA,EADF9H,SAAY6vB,EAF2B,EAE3BA,EAAGC,EAFwB,EAExBA,EAIjB,OADA72B,EADY6O,EAAKzG,KAAKyH,OAAShB,EAAKzG,KAAK0F,MAC9B,CAAE8oB,EAAG77B,SAAS67B,GAAIC,EAAG97B,SAAS87B,IAClC72B,IACN,IAEGw/C,EAAS,CAAEluC,KAAK,2BAAMutC,GAAP,IAAkBvB,MAAO,CAAE3S,YAAY0S,QAC5D,MAAM,UAAN,OAAiBqB,YAAec,KAGrBhH,EAAgB,SAACp8B,GAC5B,IAAIqjC,EAAS,GACTC,EAAO,KAEX,OAAOtjC,EAAaqjC,EAAb,UACApnC,KAAKC,MAAM8D,GADX,KAEHA,EAAasjC,EAAb,UACGrnC,KAAKC,MAAM8D,EAAaqjC,GAD3B,aACuCpnC,KAAKC,MAAM8D,EAAaqjC,GAD/D,eAEGpnC,KAAKC,MAAM8D,EAAasjC,GAF3B,aAEqCrnC,KAAKC,MACvC8D,EAAasjC,EAAQD,GAHxB,aAIMpnC,KAAKC,MAAM8D,EAAaqjC,GAJ9B,MAOOn4B,EAAc,SAACq4B,GAC1B,OAAOA,EAAW,KAAX,UACAA,EADA,UAEHA,EAAQ,SAAG,KAAQ,GAAnB,WACIA,EAAW,MAAMn4B,QAAQ,GAD7B,OAEAm4B,EAAQ,SAAG,KAAQ,GAAnB,WACIA,EAAQ,SAAG,KAAQ,IAAGn4B,QAAQ,GADlC,kBAEIm4B,EAAQ,SAAG,KAAQ,IAAGn4B,QAAQ,GAFlC,QAKC,SAAS9C,IAWd,IANC,IAJDtI,EAIA,uDAJqB,GACrBwjC,EAGA,uCAFAz7B,EAEA,uCADAU,EACA,uCACMg7B,EAAY3I,cACZ4I,EAAO1jC,EAAawjC,EACpBx3C,EAAO,GACP23C,EAAkB1nC,KAAK2nC,KAAKn7B,EAAc,IAAOi7B,GAAQA,EACzDG,EAAM5nC,KAAKC,MAAMuM,EAAc,KALrC,WAMSvN,GAEP,IADA,IAAIzP,EAAOmE,IAAEiqC,UAAU4J,GACdK,EAAI5oC,EAAG4oC,EAAI5oC,EAAIwoC,IAAQI,EAAG,CACjC,IAAMC,EAAah8B,EAAoB+7B,GAClCC,IACLt4C,EAAKod,QAAUk7B,EAAWl7B,QAC1BpnB,OAAOC,QAAQqiD,EAAWppC,QAAQ0M,SAAQ,SAAC28B,GACzC,IAAMxpC,EAAQwpC,EAAS,GACjBhpC,EAASgpC,EAAS,GACxBv4C,EAAKkP,OAAOH,GAAS/O,EAAKkP,OAAOH,GAASQ,MAG9ChP,EAAKmP,KAAK1P,IAZHyP,EAAIyoC,EAAkB3jC,EAAY9E,EAAIyoC,EAAiBzoC,GAAKwoC,EAAO,EAAnExoC,GAcT,MAAO,CAAElP,OAAMgU,aAAY1E,SAAUkoC,EAAiBS,cAAeJ,GAGhE,SAAS7yB,EAAsBkzB,GACpC,OAAOA,EAAKC,OAAO,GAAGC,cAAgBF,EAAKx9B,MAAM,K,gCClOnD,wIAAO,IAAM6pB,EAAiB,iBACjBE,EAAiB,iBAEjBuK,EAAuC,CAClD1K,SAAU,EACVvoB,oBAAqB,GACrBJ,KAAM,GACNE,UAAW,CACTnO,KAAM,EACNG,QAAS,EACTE,QAAS,EACTE,MAAO,EACPC,SAAU,EACVE,MAAO,GAETugC,WAAY,IAGDG,EAAqB,iBAAoB,CACpDjyB,QAAS,EACTlO,OAAQ,CACNjB,KAAM,EACNG,QAAS,EACTE,QAAS,EACTE,MAAO,EACPC,SAAU,EACVE,MAAO,O","file":"static/js/main.7e39d789.chunk.js","sourcesContent":["export const copyToClipboard = (str: string) => {\n  const temp = document.createElement(\"textarea\")\n  temp.value = str\n  document.body.appendChild(temp)\n  temp.select()\n  document.execCommand(\"copy\")\n  document.body.removeChild(temp)\n  return\n}\n\nexport const timeout = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\nexport const newVersionLocalStorageReset = (\n  version: string,\n  localVersion: string | null\n) => {\n  if (localVersion === null) localStorage.setItem(\"version\", version)\n  else {\n    const versionList = version.split(\".\")\n    const localVersionList = localVersion.split(\".\")\n    const majorVersion = parseInt(versionList[0])\n    const majorLocalVersion = parseInt(localVersionList[0])\n    const minorVersion = parseInt(versionList[1])\n    const minorLocalVersion = parseInt(localVersionList[1])\n    const patchVersion = parseInt(versionList[2])\n    const patchLocalVersion = parseInt(localVersionList[2])\n    if (\n      majorLocalVersion < majorVersion ||\n      minorLocalVersion < minorVersion ||\n      patchLocalVersion < patchVersion\n    ) {\n      localStorage.clear()\n      window.location.reload()\n    }\n  }\n}\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport styled from \"@emotion/styled\"\nimport { jsx, keyframes } from \"@emotion/react\"\n\nconst rotate = keyframes`\n  100%{\n    transform:rotatez(-720deg);\n  }\n`\nconst Spinner = styled.div`\n  border-radius: 50%;\n  border: 8px solid white;\n  border-color: ${(props) => {\n    let primary = props.theme.palette.primary.main\n    let background = props.theme.palette.background.default\n    return `${primary} ${background} ${primary} ${background}`\n  }};\n`\nconst InnerSpinner = styled(Spinner)`\n  position: absolute;\n  height: 32px;\n  width: 32px;\n  animation: ${rotate} 1s infinite ease-in;\n`\nconst rotateAndHide = keyframes`\n  50%{\n    border-color: transparent;\n  }\n  100%{\n    transform:rotatez(360deg);\n  }\n`\nconst OuterSpinner = styled(Spinner)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 48px;\n  width: 48px;\n  background: transparent;\n  border-radius: 50%;\n  animation: ${rotateAndHide} 1s infinite ease-in-out;\n`\nconst SpinnerContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst SpinningLoader = () => (\n  <SpinnerContainer>\n    <OuterSpinner>\n      <InnerSpinner />\n    </OuterSpinner>\n  </SpinnerContainer>\n)\n\nexport default SpinningLoader\n","import React from \"react\"\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"\n\nimport { swaggerRoutes as routes } from \"../routes\"\nimport withTracker from \"../withTracker\"\n\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"../App.css\"\nimport { ErrorBoundary } from \"react-error-boundary\"\nimport { FallbackPage } from \"../views/FallbackPage\"\nimport { SwaggerRoute } from \"../routes/Swagger\"\n\nconst Swagger = () => {\n  document.title = \"Jina Debug\"\n  return (\n    <Router basename={\"/\"}>\n      <div>\n        {routes.map((route: SwaggerRoute, index: number) => {\n          return (\n            <Route\n              key={index}\n              path={route.path}\n              exact={route.exact}\n              component={withTracker((props) => {\n                return (\n                  <route.layout {...props} {...route.props}>\n                    <ErrorBoundary FallbackComponent={FallbackPage}>\n                      <route.component {...props} />\n                    </ErrorBoundary>\n                  </route.layout>\n                )\n              })}\n            />\n          )\n        })}\n      </div>\n    </Router>\n  )\n}\n\nexport { Swagger }\n","import React from \"react\"\nimport { HashRouter as Router, Route } from \"react-router-dom\"\nimport { dashboardRoutes as routes } from \"../routes\"\nimport withTracker from \"../withTracker\"\n\nimport { ErrorBoundary } from \"react-error-boundary\"\nimport { FallbackPage } from \"../views/FallbackPage\"\n\nconst Dashboard = () => {\n  document.title = \"Jina Dashboard\"\n  return (\n    <Router basename={\"/\"}>\n      <div>\n        {routes.map((route, idx: number) => {\n          return (\n            <Route\n              key={`${route.path}-${idx}`}\n              path={route.path}\n              exact={route.exact}\n              component={withTracker((props: any) => {\n                return (\n                  <route.layout {...props} {...route.props}>\n                    <ErrorBoundary FallbackComponent={FallbackPage}>\n                      <route.component {...props} />\n                    </ErrorBoundary>\n                  </route.layout>\n                )\n              }, {})}\n            />\n          )\n        })}\n      </div>\n    </Router>\n  )\n}\n\nexport { Dashboard }\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { PageTitle } from \"../Common/PageTitle\"\nimport { theme } from \"../../theme\"\n\nconst ColorsPage = () => {\n  const { palette } = theme\n  const colorCategories = [\n    \"primary\",\n    \"secondary\",\n    \"background\",\n    \"action\",\n    \"text\",\n    \"error\",\n    \"warning\",\n    \"success\",\n    \"info\",\n    \"grey\",\n  ]\n\n  const paletteColorFiltered = Object.entries(\n    palette\n  ).filter(([category, gradiations]) => colorCategories.includes(category))\n\n  return (\n    <div>\n      <PageTitle title={\"Colors\"} className={\"\"} />\n      {paletteColorFiltered.map(([category, gradiations]) => {\n        return (\n          <div>\n            <h3>{category}</h3>\n            {Object.entries(gradiations).map(([gradiation, color]) => (\n              <div\n                key={color as string}\n                css={css`\n                  padding: 32px;\n                  background-color: ${color as string};\n                `}\n              >\n                <span\n                  css={css`\n                    background-color: ${palette.grey[400]};\n                    color: ${palette.text.primary};\n                    padding: 8px;\n                    border-radius: 8px;\n                  `}\n                >\n                  {gradiation}\n                </span>\n              </div>\n            ))}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default ColorsPage\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { css, jsx, useTheme } from \"@emotion/react\"\nimport { PageTitle } from \"../Common/PageTitle\"\nimport SpinningLoader from \"../Common/SpinningLoader\"\n\nconst MiscPage = () => {\n  const { palette } = useTheme()\n  return (\n    <div>\n      <PageTitle title={\"Misc\"} className={\"\"} />\n      <span\n        css={css`\n          color: ${palette.headerTextColor};\n          padding: 8px;\n        `}\n      >\n        Loading Spinner\n      </span>\n      <SpinningLoader />\n    </div>\n  )\n}\n\nexport default MiscPage\n","import styled from \"@emotion/styled\"\n\nexport const Title = styled.h2`\n  color: ${(props) => props.theme.palette.text.primary};\n  font-size: 1.5rem;\n  font-weight: 500;\n  padding: 1rem;\n`\nexport const Paragraph = styled.p`\n  color: ${(props) => props.theme.palette.text.primary};\n  padding: 1rem;\n`\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { PageTitle } from \"../Common/PageTitle\"\nimport { Title, Paragraph } from \"../Common/Typography\"\n\nconst TypographyPage = () => {\n  return (\n    <div>\n      <PageTitle title={\"Typography\"} className={\"\"} />\n      <Title> Title </Title>\n      <Paragraph>A paragraph that could span over multiple lines</Paragraph>\n    </div>\n  )\n}\n\nexport default TypographyPage\n","import React from \"react\";\nimport ColorsPage from \"../components/Styleguide/ColorsPage\";\nimport MiscPage from \"../components/Styleguide/MiscPage\";\nimport TypographyPage from \"../components/Styleguide/TypographyPage\";\nexport const styleGuideRoutes = [\n  {\n    title: \"Colors\",\n    to: \"/colors\",\n    exact: true,\n    component: () => <ColorsPage />,\n    matches: [],\n  },\n  {\n    title: \"Typography\",\n    to: \"/typography\",\n    component: () => <TypographyPage />,\n    matches: [],\n  },\n  {\n    title: \"Misc\",\n    to: \"/misc\",\n    component: () => <MiscPage />,\n    matches: [],\n  },\n];\n","const breakPoints: BreakPointMap = {\n  xs: 0,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200,\n  xxl: 1400,\n};\n\nexport type BreakPoint = keyof typeof breakPoints;\n\ntype MediaQueryMap = { [key in BreakPoint]: string };\ntype BreakPointMap = { [key: string]: number };\n\nconst mediaQueries: MediaQueryMap = Object.keys(breakPoints).reduce(\n  (acc, breakPoint) => ({\n    ...acc,\n    [breakPoint]: `@media (min-width: ${\n      breakPoints[breakPoint as BreakPoint]\n    }px)`,\n  }),\n  {} as MediaQueryMap\n);\n\nexport const mediaQuery = (breakPoint: BreakPoint): string =>\n  mediaQueries[breakPoint];\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\nimport MainSidebar from \"../components/Layout/MainSidebar/MainSidebar\";\nimport { TNavItem } from \"../redux/global/global.types\";\nimport { styleGuideRoutes } from \"../routes/Styleguide\";\nimport { mediaQuery } from \"../styles/mediaQuery\";\n\nconst Container = styled.div`\n  display: flex;\n`;\nconst Aside = styled.aside`\n  width: 25%;\n  ${mediaQuery(\"lg\")} {\n    width: 16.67%;\n  }\n`;\nconst Content = styled.article`\n  flex-grow: 1;\n`;\n\nconst Styleguide = () => {\n  return (\n    <div>\n      <Router>\n        <Container>\n          <Aside>\n            <MainSidebar\n              sidebarNavItems={styleGuideRoutes as TNavItem[]}\n              menuVisible={true}\n              toggleSidebar={() => undefined}\n            />\n          </Aside>\n\n          <Content>\n            <Switch>\n              {styleGuideRoutes.map((route, index) => (\n                <Route\n                  key={index}\n                  path={route.to}\n                  exact={route.exact}\n                  children={<route.component />}\n                />\n              ))}\n            </Switch>\n          </Content>\n        </Container>\n        <Redirect exact from=\"/\" to={styleGuideRoutes[0].to} />\n      </Router>\n    </div>\n  );\n};\n\nexport { Styleguide };\n","export const TIMEOUT = 40000\nexport const FLOW_RETRIES = 10\nexport const FLOW_RETRY_TIMEOUT = 3000\n","import React from \"react\"\nimport GoogleAnalytics from \"react-ga\"\n\nGoogleAnalytics.initialize(process.env.REACT_APP_GAID || \"UA-164627626-1\", {\n  testMode: process.env.NODE_ENV === \"test\",\n  debug: process.env.NODE_ENV === \"test\",\n})\n\nconst withTracker = (\n  WrappedComponent: (props: any) => JSX.Element,\n  options = {}\n): typeof React.Component => {\n  const trackPage = (page: string) => {\n    if (\n      process.env.NODE_ENV !== \"production\" &&\n      process.env.NODE_ENV !== \"test\"\n    ) {\n      return\n    }\n    GoogleAnalytics.set({\n      page,\n      ...options,\n    })\n    GoogleAnalytics.pageview(page)\n  }\n\n  const BASENAME = process.env.REACT_APP_BASENAME || \"\"\n\n  type PrevProps = { location: { pathname: string; search: string } }\n  // eslint-disable-next-line\n  const HOC = class extends React.Component<PrevProps, string> {\n    componentDidMount() {\n      // eslint-disable-next-line\n      const page = this.props.location.pathname + this.props.location.search\n      trackPage(`${BASENAME}${page}`)\n    }\n\n    componentDidUpdate(prevProps: PrevProps) {\n      const currentPage =\n        prevProps.location.pathname + prevProps.location.search\n      const nextPage = this.props.location.pathname + this.props.location.search\n\n      if (currentPage !== nextPage) {\n        trackPage(`${BASENAME}${nextPage}`)\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />\n    }\n  }\n\n  return (HOC as unknown) as typeof React.Component\n}\n\nexport default withTracker\n","import React from \"react\"\nimport { Container, Row, Col } from \"react-bootstrap\"\nimport { FallbackProps } from \"react-error-boundary\"\nimport { PageTitle } from \"../components/Common/PageTitle\"\nimport { Button } from \"shards-react\"\n\nfunction FallbackPage({ error, resetErrorBoundary }: FallbackProps) {\n  return (\n    <Container fluid className=\"main-content-container p-5\">\n      <Row noGutters className=\"page-header mb-4\">\n        <PageTitle\n          title=\"Error\"\n          subtitle=\"This should not have happened\"\n          className=\"text-sm-left my-3\"\n        />\n      </Row>\n      <Row noGutters className=\"page-header mb-4\">\n        <Col xs=\"12\" sm=\"3\">\n          <p>Something went wrong:</p>\n          <pre>\n            <code className=\"text-warning\">{error!.message}</code>\n          </pre>\n        </Col>\n      </Row>\n      <Row noGutters className=\"page-header\">\n        <Col>\n          <Button onClick={resetErrorBoundary}>Try again</Button>\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nexport { FallbackPage }\n","type StringMap = { [key: string]: any }\n\nexport const getFeatureFlags = (environmentVariables: StringMap) => {\n  return Object.fromEntries(\n    Object.entries(environmentVariables)\n      .filter(([envVariableName, envVariableValue]) =>\n        envVariableName.startsWith(\"REACT_APP_FEATURE\")\n      )\n      .map(([envVariableName, envVariableValue]) => [\n        envVariableName.replace(\"REACT_APP_FEATURE_\", \"\"),\n        envVariableValue === \"enabled\",\n      ])\n  )\n}\n\nexport const isFeatureEnabled = (feature: string): boolean => {\n  // Usage: To enable a feature flag, add a variable in .env* files (depending on environment)\n  // with prefix 'REACT_APP_FEATURE_'\n  // When checking if the feature is enabled, call isFeatureEnabled with feature name as parameter\n  // without prefix 'REACT_APP_FEATURE_'\n  const environmentVariables = process.env\n  const featureFlags = getFeatureFlags(environmentVariables)\n  return Boolean(featureFlags[feature])\n}\n","import { isFeatureEnabled } from \"../../helpers/featureSwitch\"\nimport { State } from \"../index\"\n\nexport const selectProcesses = (state: State) => state.globalState.processes\n\nexport const selectMenuState = (state: State) => state.globalState.menuVisible\n\n// Todo: remove feature switch condition after releasing to all instance\nexport const selectSidebarItems = (state: State) =>\n  isFeatureEnabled(\"DEBUGGING_TOOL\")\n    ? state.globalState.navItems\n    : state.globalState.navItems.filter((navItem) => navItem.title !== \"Debug\")\n\nexport const selectCurrentTab = (state: State) => state.globalState.currentTab\n\nexport const selectUser = (state: State) => state.globalState.user\n\nexport const selectBanners = (state: State) => state.globalState.banners\n\nexport const selectModal = (state: State) => state.globalState.modal\n\nexport const selectModalParams = (state: State) => state.globalState.modalParams\n\nexport const selectConnectionStatus = (state: State) =>\n  state.globalState.connected\n\nexport const selectLoading = (state: State) => state.globalState.loading\n","import React from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { selectUser } from \"../../../redux/global/global.selectors\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport { Avatar, IconButton } from \"@material-ui/core\"\nimport { AccountCircle } from \"@material-ui/icons\"\n\ntype Props = {\n  userActionsVisible: boolean\n  logOut: () => void\n  toggleUserActions: () => void\n}\n\nfunction UserActions({ logOut, userActionsVisible, toggleUserActions }: Props) {\n  const user = useSelector(selectUser)\n  const dispatch = useDispatch()\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget)\n  }\n  const handleMenu = () => {\n    setAnchorEl(null)\n    if (user) dispatch(logOut)\n    else window.location.href = \"/#login\"\n  }\n\n  return (\n    <>\n      <IconButton\n        data-name={\"menuButton\"}\n        aria-controls=\"simple-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        {user ? (\n          <Avatar src={user._json.avatar_url} alt=\"User Avatar\" />\n        ) : (\n          <AccountCircle />\n        )}\n      </IconButton>\n\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleMenu}\n      >\n        <MenuItem data-name={\"loginLogout\"} onClick={handleMenu}>\n          {user ? \"Logout\" : \"Login\"}\n        </MenuItem>\n      </Menu>\n    </>\n  )\n}\n\nexport { UserActions }\n","import React from \"react\"\nimport { UserActions } from \"./UserActions\"\nimport { useDispatch } from \"react-redux\"\nimport { logout } from \"../../../redux/global/global.actions\"\nimport { User } from \"../../../redux/global/global.types\"\nimport { AppBar, Toolbar } from \"@material-ui/core\"\nimport LanguageIcon from \"@material-ui/icons/Language\"\nimport { green, red } from \"@material-ui/core/colors\"\nimport styled from \"@emotion/styled\"\n\ntype Props = {\n  usesAuth: boolean\n  usesConnection: boolean\n  connected?: boolean\n  logOut: () => void\n  toggleSidebar?: () => void\n  reconnect?: () => void\n  user: User\n  hideSidebarToggle?: boolean\n  showLogo?: boolean\n  navigateButton?: () => React.ReactNode\n}\n\nconst NavigationItems = styled.div`\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n`\n\nfunction MainNavbar({ usesConnection, reconnect, connected }: Props) {\n  const dispatch = useDispatch()\n\n  return (\n    <AppBar position=\"static\" elevation={0} color={\"transparent\"}>\n      <Toolbar>\n        <NavigationItems>\n          {usesConnection && (\n            <LanguageIcon\n              onClick={reconnect}\n              style={connected ? { color: green[500] } : { color: red[500] }}\n            />\n          )}\n          <UserActions\n            userActionsVisible={false}\n            logOut={() => dispatch(logout())}\n            toggleUserActions={() => {}}\n          />\n        </NavigationItems>\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport { MainNavbar }\n","import React from \"react\";\nimport { Container, Row, Nav } from \"shards-react\";\n\ntype MenuItems = {\n  title: string;\n  to: string;\n};\n\ntype Props = {\n  menuItems: MenuItems[];\n  copyright: string;\n  loggerEnabled: boolean;\n  enableLogger: () => void;\n  disableLogger: () => void;\n  exportLogs: () => void;\n};\n\nconst MainFooter = ({\n  menuItems,\n  copyright,\n  loggerEnabled,\n  enableLogger,\n  disableLogger,\n  exportLogs,\n}: Props) => (\n  <footer className=\"main-footer d-flex p-2 px-3\">\n    <Container fluid>\n      <Row>\n        <Nav>\n          {menuItems.map((item, idx) => (\n            <a key={idx} href={item.to} className=\"nav-link\">\n              {item.title}\n            </a>\n          ))}\n          {loggerEnabled ? (\n            <>\n              <span\n                className=\"nav-link text-warning cursor-pointer\"\n                onClick={disableLogger}\n              >\n                Exit Debug Mode\n              </span>\n              <span\n                className=\"nav-link text-warning cursor-pointer\"\n                onClick={exportLogs}\n              >\n                Export Debug Data\n              </span>\n            </>\n          ) : (\n            <span\n              className=\"nav-link text-warning cursor-pointer\"\n              onClick={enableLogger}\n            >\n              Debug Mode\n            </span>\n          )}\n        </Nav>\n        <span className=\"copyright ml-auto my-auto mr-2\">{copyright}</span>\n      </Row>\n    </Container>\n  </footer>\n);\n\nMainFooter.defaultProps = {\n  contained: false,\n  copyright: \"Copyright © Jina AI Limited\",\n  menuItems: [\n    {\n      title: \"Home\",\n      to: \"https://jina.ai\",\n    },\n    {\n      title: \"Open Source\",\n      to: \"https://opensource.jina.ai\",\n    },\n    {\n      title: \"Learn\",\n      to: \"https://docs.jina.ai\",\n    },\n    {\n      title: \"Community\",\n      to: \"https://twitter.com/JinaAI_\",\n    },\n    {\n      title: \"Jobs\",\n      to: \"https://www.linkedin.com/company/jinaai/jobs/\",\n    },\n    {\n      title: \"Privacy & Terms\",\n      to: \"https://github.com/jina-ai/legal\",\n    },\n  ],\n};\n\nexport default MainFooter;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\n\ntype Props = {\n  acceptCookies: () => void;\n};\n\nfunction CookiesBanner({ acceptCookies }: Props) {\n  return (\n    <div className=\"cookies-banner\">\n      <p className=\"mb-2\">\n        We and third parties use cookies or similar technologies (\"Cookies\") as\n        described below to collect and process personal data, such as your IP\n        address or browser information. You can learn more about how this site\n        uses Cookies by reading our privacy policy linked below. By clicking \"I\n        consent to cookies\", you accept the placement and use of these Cookies\n        for these purposes. You can change your mind and revisit your\n        preferences at any time by accessing the “Cookie Preferences” link in\n        the footer of this site.\n      </p>\n      <Button className=\"ml-auto d-block\" onClick={acceptCookies}>\n        I consent to cookies\n      </Button>\n    </div>\n  );\n}\n\nexport { CookiesBanner };\n","import React from \"react\"\nimport { Toast } from \"react-bootstrap\"\nimport { Banner } from \"../../redux/global/global.types\"\n\ntype Props = {\n  data: Banner\n  index: number\n}\n\nconst INITIAL_BANNER_MARGIN = 1\nconst BANNER_MARGIN_STEP = 7\n\nfunction getIcon(theme: string) {\n  if (theme === \"success\")\n    return <i className=\"material-icons mr-1\">check_circle_outline</i>\n  else if (theme === \"error\")\n    return <i className=\"material-icons mr-1\">cerror_outline</i>\n  return <i className=\"material-icons mr-1\">warning</i>\n}\n\nfunction InfoToast({ data, index }: Props) {\n  if (!data) return null\n  const icon = getIcon(data.theme)\n  const cssProperties = {\n    bottom: String(INITIAL_BANNER_MARGIN + BANNER_MARGIN_STEP * index) + \"em\",\n  }\n  return (\n    <div\n      data-name=\"connection-notification-online\"\n      className=\"notifications-container\"\n      style={cssProperties}\n    >\n      <Toast className={`toast-${data.theme} text-white`}>\n        <Toast.Header className=\"text-white\" closeButton={false}>\n          <strong className=\"mr-auto\">\n            {icon}\n            <span className=\"text-uppercase\">{data.theme}</span>\n          </strong>\n        </Toast.Header>\n        <Toast.Body className=\"text-white\">{data.message}</Toast.Body>\n      </Toast>\n    </div>\n  )\n}\n\nexport { InfoToast }\n","import React from \"react\";\nimport { Toast, Button, Row, Col } from \"react-bootstrap\";\n\ntype Props = {\n  reconnect: () => void;\n};\n\nfunction ConnectionToast({ reconnect }: Props) {\n  return (\n    <div\n      className=\"notifications-container\"\n      data-name=\"connection-notification-offline\"\n    >\n      <Toast className=\"bg-warning\">\n        <Toast.Header className=\"bg-warning text-white\" closeButton={false}>\n          <strong className=\"mr-auto\">\n            <i className=\"material-icons mr-1\">warning</i>Could not connect to\n            Jina instance\n          </strong>\n        </Toast.Header>\n        <Toast.Body className=\"text-white\">\n          <Row>\n            <Col xs=\"6\" className=\"pr-2\">\n              <a\n                href=\"https://github.com/jina-ai/dashboard#getting-started\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"mr-2\"\n              >\n                <Button variant=\"light\" className=\"w-100\">\n                  <i className=\"material-icons mr-1\">text_snippet</i>View Docs\n                </Button>\n              </a>\n            </Col>\n            <Col xs=\"6\" className=\"pl-2\">\n              <Button variant=\"primary\" className=\"w-100\" onClick={reconnect}>\n                <i className=\"material-icons mr-1\">refresh</i>Refresh\n              </Button>\n            </Col>\n          </Row>\n        </Toast.Body>\n      </Toast>\n    </div>\n  );\n}\n\nexport { ConnectionToast };\n","import React from \"react\"\nimport { Button, Form } from \"react-bootstrap\"\nimport ReactModal, { Styles } from \"react-modal\"\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    maxHeight: \"80%\", // set height\n    left: \"50%\",\n    padding: \"2rem\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    width: \"90%\",\n    maxWidth: \"800px\",\n    overflow: \"hidden\",\n  },\n}\n\ntype Props = {\n  open: boolean\n  closeModal: () => void\n  importYAML: (yamlString: string) => void\n}\n\nconst PasteYAML = ({ open, closeModal, importYAML }: Props) => {\n  let inputRef: HTMLTextAreaElement\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      style={style}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n    >\n      <div className=\"modal-header p-0\">\n        <h4>\n          <b>Import YAML</b>\n        </h4>\n        <h4>\n          <span className=\"float-right close-icon\">\n            <i className=\"material-icons\" onClick={closeModal}>\n              close\n            </i>\n          </span>\n        </h4>\n      </div>\n      <div className=\"modal-body px-0 pb-0\">\n        <Form.Group>\n          <Form.Label>Custom YAML:</Form.Label>\n          <Form.Control\n            placeholder=\"Paste Here\"\n            ref={(ref: HTMLTextAreaElement) => (inputRef = ref)}\n            as=\"textarea\"\n            rows={10}\n          />\n        </Form.Group>\n      </div>\n      <Button\n        className=\"btn-primary\"\n        onClick={() => importYAML(inputRef.value)}\n      >\n        Continue\n      </Button>\n    </ReactModal>\n  )\n}\n\nexport default PasteYAML\n","import React from \"react\"\nimport { Button, Form } from \"react-bootstrap\"\nimport ReactModal, { Styles } from \"react-modal\"\n\n//todo type this properly when we have reviews again\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    maxHeight: \"80%\", // set height\n    left: \"50%\",\n    padding: \"2rem\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    width: \"90%\",\n    maxWidth: \"800px\",\n    overflow: \"hidden\",\n  },\n}\n\ntype Props = {\n  open: boolean\n  closeModal: () => void\n  submitReview: (content: any) => void\n}\n\nconst WriteReviewModal = ({ open, closeModal, submitReview }: Props) => {\n  let inputRef: any\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      style={style}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n    >\n      <div className=\"modal-header p-0\">\n        <h4>\n          <b>Write a Review</b>\n        </h4>\n        <h4>\n          <span className=\"float-right close-icon\">\n            <i className=\"material-icons\" onClick={closeModal}>\n              close\n            </i>\n          </span>\n        </h4>\n      </div>\n      <div className=\"modal-body px-0 pb-0\">\n        <Form.Group>\n          <Form.Control\n            placeholder=\"Tell the world about your experience\"\n            ref={(ref: any) => (inputRef = ref)}\n            as=\"textarea\"\n            rows={10}\n          />\n        </Form.Group>\n      </div>\n      <Button\n        className=\"btn-primary\"\n        onClick={() => submitReview(inputRef.value)}\n      >\n        Submit\n      </Button>\n    </ReactModal>\n  )\n}\n\nexport default WriteReviewModal\n","import React from \"react\"\nimport ReactModal, { Styles } from \"react-modal\"\nimport { Row, Col } from \"react-bootstrap\"\nimport { RawLog } from \"../redux/logStream/logStream.types\"\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    maxHeight: \"80%\", // set height\n    left: \"50%\",\n    padding: \"2rem\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    width: \"90%\",\n    maxWidth: \"800px\",\n    overflow: \"hidden\",\n  },\n}\n\nconst hiddenKeys = [\"message\", \"unixTime\"]\n\ntype Props = {\n  open: boolean\n  closeModal: () => void\n  modalParams: { log: RawLog }\n}\n\nconst LogDetails = ({ open, closeModal, modalParams }: Props) => {\n  const log = modalParams?.log || {}\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      style={style}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n    >\n      <div className=\"modal-header p-0\">\n        <h4>\n          <b>Log Details</b>\n        </h4>\n        <h4>\n          <span className=\"float-right close-icon\">\n            <i className=\"material-icons\" onClick={closeModal}>\n              close\n            </i>\n          </span>\n        </h4>\n      </div>\n      <div className=\"modal-body px-0 pb-0 pt-1\">\n        <Row className=\"px-3\">\n          <Col xs=\"3\" className=\"border-bottom pb-1 px-0\">\n            <span className=\"text-bold\">msg</span>\n          </Col>\n          <Col xs=\"9\" className=\"border-bottom pb-1 px-0\">\n            {log.message}\n          </Col>\n        </Row>\n        {Object.entries(log)\n          .filter(([key, value]) => !hiddenKeys.includes(key))\n          .map(([key, value]) =>\n            key === \"message\" ? (\n              \"\"\n            ) : (\n              <Row className=\"px-3\" key={key}>\n                <Col xs=\"3\" className=\"border-bottom pb-1 px-0\">\n                  <span className=\"text-bold\">{key}</span>\n                </Col>\n                <Col xs=\"9\" className=\"border-bottom pb-1 px-0\">\n                  {JSON.stringify(value)}\n                </Col>\n              </Row>\n            )\n          )}\n      </div>\n    </ReactModal>\n  )\n}\n\nexport default LogDetails\n","import _ from \"lodash\"\nimport { State } from \"../index\"\n\nexport const selectSelectedFlow = (state: State) => {\n  const { selectedFlowId } = state.flowState.workspaces[\n    state.flowState.selectedWorkspaceId\n  ]\n  return state.flowState.flows[selectedFlowId]\n}\n\nexport const selectSelectedWorkspace = (state: State) =>\n  state.flowState.workspaces[state.flowState.selectedWorkspaceId]\n\nexport const selectFlowsOfSelectedWorkspace = (state: State) => {\n  const { selectedWorkspaceId } = state.flowState\n  return _.pickBy(\n    state.flowState.flows,\n    (flow) => flow.workspaceId === selectedWorkspaceId\n  )\n}\n\nexport const selectWorkspaces = (state: State) => state.flowState.workspaces\n\nexport const selectFlowArguments = (state: State) =>\n  state.flowState.workspaces[state.flowState.selectedWorkspaceId].flowArguments\n\nexport const selectExampleFlowsKeyEntryPairs = (state: State) => {\n  const { selectedWorkspaceId } = state.flowState\n  const workspaceFlows = _.pickBy(\n    state.flowState.flows,\n    (flow) => flow.workspaceId === selectedWorkspaceId\n  )\n  return Object.entries(workspaceFlows).filter(\n    (flowKeyEntryPair) => flowKeyEntryPair[1].type === \"example\"\n  )\n}\n\nexport const selectSelectedFlowId = (state: State) =>\n  state.flowState.workspaces[state.flowState.selectedWorkspaceId].selectedFlowId\n\nexport const selectSelectedWorkspaceId = (state: State) =>\n  state.flowState.selectedWorkspaceId\n","import React from \"react\"\nimport ReactModal, { Styles } from \"react-modal\"\nimport styled from \"@emotion/styled\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { closeModal, showModal } from \"../redux/global/global.actions\"\nimport { createNewFlow, duplicateFlow } from \"../redux/flows/flows.actions\"\nimport { selectExampleFlowsKeyEntryPairs } from \"../redux/flows/flows.selectors\"\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    backgroundColor: \"#EBE8E8\",\n    border: \"none\",\n    bottom: \"auto\",\n    maxHeight: \"80%\", // set height\n    left: \"50%\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    maxWidth: \"44rem\",\n    overflow: \"hidden\",\n  },\n}\n\nconst CloseModal = styled.div`\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  font-size: 2rem;\n  color: #ffffff;\n  float: right;\n  line-height: 100%;\n`\nconst CreateOptionsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 1rem 0 1rem;\n  margin-bottom: 1rem;\n`\n\nconst CreateOption = styled.div`\n  cursor: pointer;\n  background-color: #ffffff;\n  width: 12rem;\n  height: 12rem;\n  margin: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\nconst CreateOptionAdd = () => {\n  return (\n    <i\n      style={{\n        fontSize: \"6rem\",\n        color: \"#C4C4C4\",\n        marginBottom: \"-1rem\",\n      }}\n      className=\"material-icons\"\n    >\n      add\n    </i>\n  )\n}\n\nconst OptionName = styled.span`\n  color: black;\n  font-size: 18px;\n  font-weight: 600;\n  text-align: center;\n`\n\ntype Props = {\n  open: boolean\n}\n\ntype NewFlowAction =\n  | \"close\"\n  | \"create empty\"\n  | \"create from yaml\"\n  | \"create from template\"\n\nconst NewFlow = ({ open }: Props) => {\n  const dispatch = useDispatch()\n\n  const exampleFlowsKeyEntryPairs = useSelector(selectExampleFlowsKeyEntryPairs)\n\n  const handleAction = (action: NewFlowAction, yaml?: string) => {\n    switch (action) {\n      case \"close\":\n        dispatch(closeModal())\n        break\n      case \"create from yaml\":\n        dispatch(showModal(\"import\"))\n        break\n      case \"create from template\":\n        if (yaml) dispatch(duplicateFlow(yaml))\n        dispatch(closeModal())\n        break\n      case \"create empty\":\n        dispatch(createNewFlow())\n        dispatch(closeModal())\n        break\n    }\n  }\n\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      style={style}\n      onRequestClose={() => handleAction(\"close\")}\n      closeTimeoutMS={100}\n    >\n      <div>\n        <CloseModal onClick={() => handleAction(\"close\")}>\n          <i className=\"material-icons\" onClick={closeModal}>\n            close\n          </i>\n        </CloseModal>\n      </div>\n\n      <CreateOptionsContainer>\n        <CreateOption\n          data-name={\"createEmptyFLowButton\"}\n          onClick={() => handleAction(\"create empty\")}\n        >\n          <CreateOptionAdd />\n          <OptionName>empty flow</OptionName>\n        </CreateOption>\n\n        <CreateOption onClick={() => handleAction(\"create from yaml\")}>\n          <CreateOptionAdd />\n          <OptionName>from yaml</OptionName>\n        </CreateOption>\n\n        {exampleFlowsKeyEntryPairs.map((exampleFlowsKeyEntryPair, idx) => (\n          <CreateOption\n            key={idx}\n            onClick={() =>\n              handleAction(\n                \"create from template\",\n                exampleFlowsKeyEntryPair[1].yaml\n              )\n            }\n          >\n            <OptionName>{exampleFlowsKeyEntryPair[1].name}</OptionName>\n          </CreateOption>\n        ))}\n      </CreateOptionsContainer>\n    </ReactModal>\n  )\n}\n\nexport default NewFlow\n","import styled from \"@emotion/styled\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectFlowArguments,\n  selectSelectedFlow,\n} from \"../redux/flows/flows.selectors\"\nimport React, { useEffect, useState } from \"react\"\nimport { ModalParams } from \"../redux/global/global.types\"\nimport ReactModal, { Styles } from \"react-modal\"\nimport { deleteNode, updateNodeData } from \"../redux/flows/flows.actions\"\nimport { Button } from \"react-bootstrap\"\nimport { FormCheckbox } from \"shards-react\"\nimport { NodeDataUpdate } from \"../redux/flows/flows.types\"\nimport logger from \"../logger\"\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    left: \"50%\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    maxWidth: \"30rem\",\n    overflow: \"hidden\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}\n\nconst PodEditContainer = styled.div`\n  width: 25rem;\n  margin-right: -1rem;\n`\n\nconst Header1 = styled.header`\n  font-weight: 600;\n  font-size: 30px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n`\n\nconst Header2 = styled.header`\n  font-weight: 600;\n  font-size: 20px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n`\n\nconst PropertyTable = styled.div`\n  width: 104%;\n  margin-bottom: 1rem;\n  border: 0;\n  overflow: hidden;\n  overflow-y: scroll;\n  height: 20rem;\n  border-radius: 0.25em;\n\n  ::-webkit-scrollbar {\n    width: 1rem;\n  }\n\n  ::-webkit-scrollbar * {\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #099 !important;\n    border-radius: 1rem;\n  }\n`\nconst Input = styled.input`\n  width: 97%;\n  background: #f1f3f4;\n  border-radius: 5px;\n  padding: 0.5em;\n  border: 0;\n  margin-bottom: 0.5rem;\n`\n\nconst DeleteButton = styled(Button)`\n  width: 97%;\n`\n\ntype Props = {\n  open: boolean\n  closeModal: () => void\n  modalParams: ModalParams\n}\n\nfunction PodEditComponent({ open, closeModal, modalParams }: Props) {\n  const nodeId = modalParams?.nodeId || \"\"\n  const flowChart = useSelector(selectSelectedFlow)\n  const flowArguments = useSelector(selectFlowArguments)\n  const node = flowChart.flowChart.elements.find(\n    (element) => element.id === nodeId\n  )\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [filteredArguments, setFilteredArguments] = useState(flowArguments.pod)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    const results = flowArguments.pod.filter((argument) =>\n      argument.name.toLowerCase().includes(searchQuery.toLowerCase())\n    )\n    setFilteredArguments(results)\n  }, [searchQuery, flowArguments])\n\n  const _updateLabel = (label: string) => {\n    if (node?.id) {\n      const nodeUpdate: NodeDataUpdate = { label }\n      dispatch(updateNodeData(node.id, nodeUpdate))\n    }\n  }\n  const _updateNodeProp = (name: string, value: string) => {\n    if (node?.id) {\n      const nodePropertiesUpdate: NodeDataUpdate = { [name]: value }\n      dispatch(updateNodeData(node.id, nodePropertiesUpdate))\n    }\n  }\n  const _deleteNode = () => {\n    if (node?.id) {\n      dispatch(deleteNode(node.id))\n      closeModal()\n    }\n  }\n\n  const label = node?.data?.label || node?.data?.name || \"Empty Pod\"\n  logger.log(\"PodEdit node\", node)\n\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n      style={style}\n    >\n      <PodEditContainer data-name=\"podEditContainer\">\n        <Header1>pods name</Header1>\n\n        <Input\n          value={label}\n          onChange={(e: { target: { value: string } }) =>\n            _updateLabel(e.target.value)\n          }\n          className=\"pod-name-input\"\n        />\n\n        <Header1>properties</Header1>\n\n        <Input\n          placeholder=\"search properties...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n        <PropertyTable>\n          {filteredArguments.map((argument) => {\n            const { name, type } = argument\n            return (\n              <>\n                <Header2>{name}</Header2>\n                {type === \"boolean\" ? (\n                  <FormCheckbox\n                    toggle\n                    checked={node?.data[name] === \"true\" ? true : false}\n                    className=\"property-value-input\"\n                    data-name={`pod_${name}_property`}\n                    onChange={() =>\n                      _updateNodeProp(\n                        name,\n                        node?.data[name] === \"true\" ? \"false\" : \"true\"\n                      )\n                    }\n                  >\n                    {node?.data[name] === \"true\" ? \"ON\" : \"OFF\"}\n                  </FormCheckbox>\n                ) : (\n                  <Input\n                    placeholder={type}\n                    type={type === \"integer\" ? \"number\" : \"text\"}\n                    value={node?.data ? node?.data[name] : \"\"}\n                    onChange={(e) => _updateNodeProp(name, e.target.value)}\n                    className=\"property-value-input\"\n                  />\n                )}\n              </>\n            )\n          })}\n        </PropertyTable>\n\n        <DeleteButton variant=\"danger\" onClick={_deleteNode}>\n          Delete Pod\n        </DeleteButton>\n      </PodEditContainer>\n    </ReactModal>\n  )\n}\n\nexport default PodEditComponent\n","import { With } from \"../redux/flows/flows.types\"\n\ntype GlobalArguments = {\n  [property in keyof Partial<With>]: {\n    name: keyof With\n    description: string\n    type: string\n  }\n}\n\nexport const globalArguments: GlobalArguments = {\n  rest_api: {\n    name: \"rest_api\",\n    description: \"Whether to enable REST interface\",\n    type: \"boolean\",\n  },\n  port_expose: {\n    name: \"port_expose\",\n    description: \"Which port to expose gRPC or REST interface\",\n    type: \"integer\",\n  },\n}\n","import styled from \"@emotion/styled/macro\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectSelectedFlow,\n  selectSelectedFlowId,\n} from \"../redux/flows/flows.selectors\"\nimport React from \"react\"\nimport { ModalParams } from \"../redux/global/global.types\"\nimport ReactModal, { Styles } from \"react-modal\"\nimport { deleteFlow, updateSelectedFlow } from \"../redux/flows/flows.actions\"\nimport { Button } from \"react-bootstrap\"\nimport { globalArguments } from \"../data/globalArguments\"\nimport { FlowUpdate, With } from \"../redux/flows/flows.types\"\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    left: \"50%\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    maxWidth: \"30rem\",\n    overflow: \"hidden\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}\n\nconst FlowSettingsContainer = styled.div`\n  width: 100%;\n  padding-left: 1rem;\n  padding-right: 1rem;\n`\n\nconst Header1 = styled.header`\n  font-weight: 600;\n  font-size: 30px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n`\n\nconst Header2 = styled.header`\n  font-weight: 600;\n  font-size: 20px;\n  margin-bottom: 0.5rem;\n`\n\nconst PropertyTable = styled.div`\n  margin-bottom: 1rem;\n  overflow-y: auto;\n  height: 20rem;\n  border-radius: 0.25em;\n`\nconst PropertyItem = styled.div`\n  position: relative;\n  width: 100%;\n`\n\nconst Input = styled.input`\n  width: 100%;\n  background: #f1f3f4;\n  border-radius: 5px;\n  padding: 0.5em;\n  border: 0;\n  margin-bottom: 0.5rem;\n`\n\nconst DeleteButton = styled(Button)`\n  width: 100%;\n`\n\nconst CheckBoxWrapper = styled.div`\n  position: relative;\n`\nconst CheckBoxLabel = styled.label`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 41px;\n  height: 22px;\n  border-radius: 20px;\n  background: #a6a6a6;\n  cursor: pointer;\n\n  &::after {\n    content: \"\";\n    display: block;\n    border-radius: 50%;\n    width: 18px;\n    height: 18px;\n    margin: 2px;\n    background: #ffffff;\n    transition: 0.2s;\n  }\n`\nconst CheckBox = styled.input`\n  opacity: 0;\n  z-index: 1;\n  border-radius: 15px;\n  width: 42px;\n  height: 26px;\n\n  &:checked + ${CheckBoxLabel} {\n    background: #32c8cd;\n\n    &::after {\n      content: \"\";\n      display: block;\n      border-radius: 50%;\n      width: 18px;\n      height: 18px;\n      margin-left: 21px;\n      transition: 0.2s;\n    }\n  }\n`\n\ntype Props = {\n  open: boolean\n  closeModal: () => void\n  modalParams: ModalParams\n}\n\ntype SwitchInputProps = {\n  checked: boolean\n  setChecked: (checked: boolean) => void\n}\n\nfunction SwitchInput({ checked, setChecked }: SwitchInputProps) {\n  return (\n    <CheckBoxWrapper>\n      <CheckBox\n        id=\"checkbox\"\n        type=\"checkbox\"\n        checked={checked}\n        onChange={(e) => setChecked(e.target.checked)}\n      />\n      <CheckBoxLabel htmlFor=\"checkbox\" />\n    </CheckBoxWrapper>\n  )\n}\n\nfunction FlowSettingsComponent({ open, closeModal }: Props) {\n  const flowId = useSelector(selectSelectedFlowId)\n  const flow = useSelector(selectSelectedFlow)\n  const dispatch = useDispatch()\n\n  const _updateFlowName = (name: string) => {\n    const flowUpdate = { ...flow, name }\n    dispatch(updateSelectedFlow(flowUpdate))\n  }\n\n  function _updateFlowWith<K extends keyof With>(key: K, value: With[K]) {\n    const flowUpdate = { ...flow } as FlowUpdate\n\n    if (flowUpdate.flowChart?.with) flowUpdate.flowChart.with[key] = value\n    dispatch(updateSelectedFlow(flowUpdate))\n  }\n\n  const _deleteFlow = () => {\n    dispatch(deleteFlow(flowId))\n    closeModal()\n  }\n\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n      style={style}\n    >\n      <FlowSettingsContainer data-name={\"settingsModal\"}>\n        <Header1>Flow Name</Header1>\n        <Input\n          value={flow.name}\n          onChange={(e: { target: { value: string } }) =>\n            _updateFlowName(e.target.value)\n          }\n          className=\"pod-name-input\"\n        />\n        <Header1>Settings</Header1>\n        <PropertyTable>\n          {Object.values(globalArguments).map((argument, idx) => {\n            return (\n              <PropertyItem key={idx}>\n                <Header2>{argument?.name}</Header2>\n                {argument?.type === \"boolean\" ? (\n                  <SwitchInput\n                    checked={\n                      flow.flowChart.with\n                        ? !!flow.flowChart.with[argument?.name]\n                        : false\n                    }\n                    setChecked={(checked: boolean) =>\n                      _updateFlowWith<typeof argument.name>(\n                        argument?.name,\n                        checked\n                      )\n                    }\n                  />\n                ) : (\n                  <Input\n                    placeholder={argument?.type}\n                    type={argument?.type === \"integer\" ? \"number\" : \"text\"}\n                    value={\n                      flow.flowChart.with && argument?.name\n                        ? flow.flowChart.with[argument.name].toString()\n                        : \"\"\n                    }\n                    onChange={(e) => {\n                      if (argument?.name)\n                        _updateFlowWith<typeof argument.name>(\n                          argument.name,\n                          e.target.value\n                        )\n                    }}\n                    className=\"property-value-input\"\n                  />\n                )}\n              </PropertyItem>\n            )\n          })}\n        </PropertyTable>\n\n        <DeleteButton variant=\"danger\" onClick={_deleteFlow}>\n          Delete Flow\n        </DeleteButton>\n      </FlowSettingsContainer>\n    </ReactModal>\n  )\n}\n\nexport default FlowSettingsComponent\n","import axios from \"axios\"\nimport { Settings } from \"../redux/settings/settings.types\"\nimport { ConnectionCallback } from \"../redux/global/global.types\"\nimport logger from \"../logger\"\nimport { TIMEOUT } from \"./config\"\n\nexport let gatewayInstance = axios.create()\nconst top_k = 10\nconst gatewayClient = {\n  connect: async (settings: Settings, callback: ConnectionCallback) => {\n    logger.log(\"api - connect - settings\", settings)\n    const baseURL = `${settings.gatewayHost}:${settings.gatewayPort}`\n\n    if (gatewayInstance) {\n      gatewayInstance.defaults.baseURL = baseURL\n      gatewayInstance.defaults.timeout = TIMEOUT\n    } else gatewayInstance = axios.create({ baseURL, timeout: TIMEOUT })\n\n    try {\n      const result = await gatewayInstance.get(\"/status\")\n      if (result.status === 200) {\n        logger.log(\"api - connect successfully connected to gateway\")\n        return callback({\n          connected: true,\n          message: `Successfully connected to Jina at ${baseURL}`,\n        })\n      }\n    } catch (e) {\n      logger.log(\"api - connect could not connect to gateway:\", e)\n    }\n    return callback({ connected: false, message: \"failed to connect\" })\n  },\n  search: async (searchRequest: string) => {\n    try {\n      const result = await gatewayInstance.post(\"/api/search\", {\n        top_k,\n        mode: \"search\",\n        data: [searchRequest],\n      })\n      if (result.status === 200) {\n        logger.log(\"search - successful\")\n        return result\n      }\n    } catch (e) {\n      logger.log(\"search - error\", e)\n    }\n  },\n  index: async (indexRequest: string) => {\n    try {\n      const result = await gatewayInstance.post(\"/api/index\", {\n        top_k,\n        mode: \"index\",\n        data: [indexRequest],\n      })\n      if (result.status === 200) {\n        logger.log(\"index - successful\")\n        return result\n      }\n    } catch (e) {\n      logger.log(\"index - error\", e)\n    }\n  },\n}\n\nexport default gatewayClient\n","import ReactModal, { Styles } from \"react-modal\"\nimport { ModalParams } from \"../redux/global/global.types\"\nimport React, { useState } from \"react\"\nimport gatewayClient from \"../services/gatewayClient\"\nimport { useDispatch } from \"react-redux\"\nimport { handleGatewayConnectionStatus } from \"../redux/global/global.actions\"\nimport store from \"../redux\"\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    left: \"50%\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    maxWidth: \"30rem\",\n    overflow: \"hidden\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}\n\ntype Props = {\n  open: boolean\n  closeModal: () => void\n  modalParams: ModalParams\n}\n\nfunction QuerySearchModal({ open, closeModal, modalParams }: Props) {\n  const [searchText, setSearchText] = useState(\"\")\n  const [indexText, setIndexText] = useState(\"\")\n  const dispatch = useDispatch()\n  const [result, setResult] = useState(\"rsult\")\n\n  function connect() {\n    gatewayClient.connect(\n      store.getState().settingsState.settings,\n      ({ connected, message }) =>\n        dispatch(handleGatewayConnectionStatus(connected, message))\n    )\n  }\n\n  async function search() {\n    const searchResult = await gatewayClient.search(searchText)\n    if (searchResult) {\n      setResult(JSON.stringify(searchResult.data))\n    }\n  }\n\n  async function index() {\n    const indexResult = await gatewayClient.index(indexText)\n    if (indexResult) {\n      setResult(JSON.stringify(indexResult.data))\n    }\n  }\n\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n      style={style}\n    >\n      <button onClick={connect}>connect</button>\n      <textarea onChange={(event) => setSearchText(event.target.value)} />\n      <button onClick={search}>Search</button>\n      <textarea onChange={(event) => setIndexText(event.target.value)} />\n      <button onClick={index}>Index</button>\n\n      <textarea value={result} />\n    </ReactModal>\n  )\n}\n\nexport default QuerySearchModal\n","import React, { useState } from \"react\"\nimport { Container, Row, Col } from \"shards-react\"\n\nimport { MainNavbar } from \"../components/Layout/MainNavbar/MainNavbar\"\nimport MainSidebar from \"../components/Layout/MainSidebar/MainSidebar\"\nimport MainFooter from \"../components/Layout/MainFooter\"\nimport { CookiesBanner } from \"../components/Common/CookiesBanner\"\nimport { InfoToast } from \"../components/Common/InfoToast\"\nimport { ConnectionToast } from \"../components/Common/ConnectionToast\"\n\nimport PasteYAML from \"../modals/PasteYAML\"\nimport WriteReview from \"../modals/WriteReview\"\nimport LogDetails from \"../modals/LogDetails\"\n\nimport logger from \"../logger\"\n\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectBanners,\n  selectConnectionStatus,\n  selectLoading,\n  selectMenuState,\n  selectModal,\n  selectModalParams,\n  selectSidebarItems,\n  selectUser,\n} from \"../redux/global/global.selectors\"\nimport store from \"../redux\"\nimport NewFlow from \"../modals/NewFlow\"\nimport PodEdit from \"../modals/PodEdit\"\nimport {\n  showBanner,\n  toggleSidebar,\n  closeModal,\n  connectJinaD,\n} from \"../redux/global/global.actions\"\nimport { importFlow } from \"../redux/flows/flows.actions\"\nimport FlowSettings from \"../modals/FlowSettings\"\nimport QuerySearchModal from \"../modals/QuerySearchModal\"\n\ntype IconSideBarLayoutProps = {\n  children: React.ReactNode\n  usesAuth: boolean\n  usesConnection: boolean\n  navigateButton?: () => React.ReactNode\n}\n\nconst IconSidebarLayout = (props: IconSideBarLayoutProps) => {\n  const modal = useSelector(selectModal)\n  const modalParams = useSelector(selectModalParams)\n  const loading = useSelector(selectLoading)\n  const banners = useSelector(selectBanners)\n  const connected = useSelector(selectConnectionStatus)\n  const loggerEnabled = logger.isEnabled()\n  const menuVisible = useSelector(selectMenuState)\n  const sidebarNavItems = useSelector(selectSidebarItems)\n  const user = useSelector(selectUser)\n  const [acceptedCookies, setAcceptedCookies] = useState<boolean>(\n    localStorage.getItem(\"accepted-cookies\") === \"true\"\n  )\n\n  const dispatch = useDispatch()\n  const acceptCookies = () => {\n    localStorage.setItem(\"accepted-cookies\", String(true))\n    setAcceptedCookies(true)\n  }\n\n  const _closeModal = () => {\n    dispatch(closeModal())\n  }\n\n  const importYAML = (yamlString: string) => {\n    dispatch(importFlow(yamlString))\n    _closeModal()\n  }\n\n  const submitReview = () => {\n    if (modalParams) {\n    }\n  }\n\n  const reconnect = () => {\n    dispatch(connectJinaD())\n  }\n\n  const logOut = () => {}\n\n  const _toggleSidebar = () => {\n    dispatch(toggleSidebar())\n  }\n\n  const enableLogger = () => {\n    logger.enable()\n    const storeCopy = store.getState()\n    logger.log(\"Store Snapshot\", storeCopy)\n    dispatch(\n      showBanner(\n        'Debug Mode Enabled. Click \"Export Debug Data\" to download Debug JSON.',\n        \"warning\"\n      )\n    )\n  }\n\n  const disableLogger = () => {\n    logger.disable()\n    dispatch(showBanner(\"Debug Mode Disabled.\", \"warning\"))\n  }\n\n  const exportLogs = () => {\n    const storeCopy = store.getState()\n    logger.log(\"Store Snapshot\", storeCopy)\n    logger.exportLogs()\n  }\n\n  const { children, usesAuth, usesConnection, navigateButton } = props\n  return (\n    <Container fluid className=\"icon-sidebar-nav\">\n      <Row>\n        <MainSidebar\n          sidebarNavItems={sidebarNavItems}\n          menuVisible={menuVisible}\n          toggleSidebar={_toggleSidebar}\n        />\n        <Col className=\"main-content col\" tag=\"main\">\n          <MainNavbar\n            user={user}\n            usesAuth={usesAuth}\n            usesConnection={usesConnection}\n            logOut={logOut}\n            toggleSidebar={_toggleSidebar}\n            reconnect={reconnect}\n            connected={connected}\n            navigateButton={navigateButton}\n          />\n          {banners.map((banner, index) => (\n            <InfoToast data={banner} index={index} />\n          ))}\n          {usesConnection && !loading && !connected && (\n            <ConnectionToast reconnect={reconnect} />\n          )}\n          {children}\n          {!acceptedCookies && <CookiesBanner acceptCookies={acceptCookies} />}\n          <MainFooter\n            loggerEnabled={loggerEnabled}\n            enableLogger={enableLogger}\n            disableLogger={disableLogger}\n            exportLogs={exportLogs}\n          />\n        </Col>\n      </Row>\n      <LogDetails\n        open={modal === \"logDetails\"}\n        closeModal={_closeModal}\n        modalParams={modalParams}\n      />\n      <PasteYAML\n        open={modal === \"import\"}\n        closeModal={_closeModal}\n        importYAML={importYAML}\n      />\n      <NewFlow open={modal === \"newFlow\"} />\n      <WriteReview\n        open={modal === \"review\"}\n        closeModal={_closeModal}\n        submitReview={submitReview}\n      />\n      {modal === \"podEdit\" && (\n        <PodEdit\n          open={modal === \"podEdit\"}\n          closeModal={_closeModal}\n          modalParams={modalParams}\n        />\n      )}\n      {modal === \"flowSettings\" && (\n        <FlowSettings\n          open={modal === \"flowSettings\"}\n          closeModal={_closeModal}\n          modalParams={modalParams}\n        />\n      )}\n      {modal === \"QuerySearch\" && (\n        <QuerySearchModal\n          open={modal === \"QuerySearch\"}\n          closeModal={_closeModal}\n          modalParams={modalParams}\n        />\n      )}\n    </Container>\n  )\n}\n\nexport default IconSidebarLayout\n","import React, { useState } from \"react\"\nimport { Container, Row, Col } from \"shards-react\"\n\nimport { MainNavbar, User } from \"../components/Layout/MainNavbar/MainNavbar\"\nimport MainFooter from \"../components/Layout/MainFooter\"\nimport { CookiesBanner } from \"../components/Common/CookiesBanner\"\nimport { InfoToast } from \"../components/Common/InfoToast\"\n\nimport WriteReview from \"../modals/WriteReview\"\n\nimport logger from \"../logger\"\n\nimport { useDispatch, useSelector } from \"react-redux\"\nimport store from \"../redux\"\nimport { showBanner } from \"../redux/global/global.actions\"\nimport { selectBanners, selectModal } from \"../redux/global/global.selectors\"\n\nexport type HubLayoutProps = {\n  children: React.ReactNode\n  usesAuth: boolean\n  usesConnection: boolean\n  navigateButton?: () => React.ReactNode\n}\n\nconst HubLayout = (props: HubLayoutProps) => {\n  const modal = useSelector(selectModal)\n  const banners = useSelector(selectBanners)\n  const loggerEnabled = logger.isEnabled()\n  const user: User = {\n    displayName: \"dummyUser\",\n    emails: [{ value: \"dummyUser@dummy.com\" }],\n    id: \"idDummy\",\n    nodeId: \"idDummy_node\",\n    photos: [{ value: \"dummyPhoto\" }],\n    profileUrl: \"dummyUrl\",\n    provider: \"dummyProvider\",\n    username: \"dummyUsername\",\n    _json: \"dummyJSON\",\n    _raw: \"dummyRaw\",\n  }\n  const [acceptedCookies, setAcceptedCookies] = useState<boolean>(\n    localStorage.getItem(\"accepted-cookies\") === \"true\"\n  )\n\n  const dispatch = useDispatch()\n  const acceptCookies = () => {\n    localStorage.setItem(\"accepted-cookies\", String(true))\n    setAcceptedCookies(true)\n  }\n\n  const closeModal = () => {\n    dispatch(closeModal())\n  }\n\n  const submitReview = (content: any) => {}\n\n  const logOut = () => {}\n\n  const enableLogger = () => {\n    logger.enable()\n    const storeCopy = store.getState()\n    logger.log(\"Store Snapshot\", storeCopy)\n    dispatch(\n      showBanner(\n        'Debug Mode Enabled. Click \"Export Debug Data\" to download Debug JSON.',\n        \"warning\"\n      )\n    )\n  }\n\n  const disableLogger = () => {\n    logger.disable()\n    dispatch(showBanner(\"Debug Mode Disabled.\", \"warning\"))\n  }\n\n  const exportLogs = () => {}\n\n  const { children, usesAuth, usesConnection, navigateButton } = props\n  return (\n    <Container>\n      <Row>\n        <Col className=\"main-content col\" tag=\"main\">\n          <MainNavbar\n            usesAuth={usesAuth}\n            usesConnection={usesConnection}\n            logOut={logOut}\n            hideSidebarToggle={true}\n            showLogo\n            user={user}\n            navigateButton={navigateButton}\n          />\n          {banners.map((banner, index) => (\n            <InfoToast data={banner} index={index} />\n          ))}\n          {children}\n          {!acceptedCookies && <CookiesBanner acceptCookies={acceptCookies} />}\n          <MainFooter\n            loggerEnabled={loggerEnabled}\n            enableLogger={enableLogger}\n            disableLogger={disableLogger}\n            exportLogs={exportLogs}\n          />\n        </Col>\n      </Row>\n      <WriteReview\n        open={modal === \"review\"}\n        closeModal={closeModal}\n        submitReview={submitReview}\n      />\n    </Container>\n  )\n}\n\nexport default HubLayout\n","import React from \"react\"\nimport { Container } from \"shards-react\"\n\nconst SwaggerLayout = ({ children }) => {\n  return <Container>{children}</Container>\n}\n\nexport default SwaggerLayout\n","import { Theme } from \"@emotion/react\"\nimport { Level } from \"../../redux/logStream/logStream.types\"\n\nexport type LevelColor = {\n  borderColor: string\n  backgroundColor: string\n}\n\ntype LevelColors = {\n  [level in Level]: LevelColor\n}\n\nexport const getLevelPalette = (theme: Theme): LevelColors => {\n  const colorPalette = theme.palette\n  return {\n    INFO: {\n      borderColor: colorPalette.info.main,\n      backgroundColor: \"rgba(0, 153, 153, 0.9)\",\n    },\n    SUCCESS: {\n      borderColor: colorPalette.success.main,\n      backgroundColor: \"rgba(50, 200, 205, 0.9)\",\n    },\n    WARNING: {\n      borderColor: colorPalette.warning.main,\n      backgroundColor: \"rgba(255, 204, 102, 0.9)\",\n    },\n    ERROR: {\n      borderColor: colorPalette.error.main,\n      backgroundColor: \"rgba(255, 102, 102, 0.9)\",\n    },\n    CRITICAL: {\n      borderColor: colorPalette.warning.dark,\n      backgroundColor: \"rgba(255, 70, 64, 0.9)\",\n    },\n    DEBUG: {\n      borderColor: colorPalette.grey[700],\n      backgroundColor: \"rgba(110, 114, 120, 0.9)\",\n    },\n  }\n}\n","import { HANDLE_NEW_LOG, SHOW_LOG_INDEX } from \"./logStream.constants\"\n\nexport const LEVELS = [\n  \"INFO\",\n  \"SUCCESS\",\n  \"WARNING\",\n  \"ERROR\",\n  \"CRITICAL\",\n  \"DEBUG\",\n] as const\n\nexport type Level = typeof LEVELS[number]\n\nexport type Levels = {\n  [level in Level]: number\n}\nexport type RawLogLevel = {\n  lastLog: number\n  levels: Levels\n}\n\nexport type RawLog = {\n  context: string\n  host: string\n  log_id: string\n  message: string\n  name: string\n  process: string\n  type: Level\n  uptime: string\n  workspace_path: string\n}\n\nexport type ProcessedLog = RawLog & {\n  id: string\n  idx: number\n  unixTime: number\n  timestamp: Date\n  formattedTimestamp: string\n  level: Level\n}\n\nexport type LogLevels = {\n  [logLevel in Level]: number\n}\n\nexport type LogLevelOccurrences = {\n  [timeStamp: number]: RawLogLevel\n}\n\nexport type LogStreamState = {\n  logIndex: number\n  logLevelOccurrences: LogLevelOccurrences\n  logs: ProcessedLog[]\n  logLevels: LogLevels\n  logSources: {\n    [pea: string]: number\n  }\n}\n\nexport type Message = {\n  data: RawLog\n}\n\nexport type showLogAtIndexAction = {\n  type: typeof SHOW_LOG_INDEX\n  payload: number\n}\n\nexport type handleNewLogAction = {\n  type: typeof HANDLE_NEW_LOG\n  payload: RawLog\n}\n\nexport type LogStreamActionTypes = showLogAtIndexAction | handleNewLogAction\n","import React, { useRef, useEffect, useState, useCallback } from \"react\"\nimport ChartElement, {\n  ChartConfiguration,\n  ChartOptions,\n  ChartData,\n  ChartDataSets,\n} from \"chart.js\"\nimport { LogLevelSummaryChartData } from \"./types\"\nimport { getLevelPalette, LevelColor } from \"./levels\"\nimport { Theme, useTheme } from \"@emotion/react\"\nimport { LEVELS } from \"../../redux/logStream/logStream.types\"\n\nconst DEFAULT_HEIGHT = 10\nconst DEFAULT_WIDTH = 100\n\nfunction getParsedDatasets(data: LogLevelSummaryChartData, theme: Theme) {\n  const levelPalette = getLevelPalette(theme)\n  const datasets = LEVELS.map(\n    (level): ChartDataSets => {\n      const levelData = data.map((tick) => tick.levels[level])\n      return {\n        barPercentage: 0.75,\n        categoryPercentage: 1,\n        label: level,\n        fill: \"start\",\n        backgroundColor: levelPalette[level].backgroundColor,\n        data: levelData,\n      }\n    }\n  )\n  return datasets\n}\n\nfunction getLabels(amount?: number): number[] {\n  const labels = []\n  for (let i = 0; i < (amount || 0); ++i) {\n    labels.push(i)\n  }\n  return labels\n}\n\ntype Props = {\n  width?: number\n  height?: number\n  numTicks?: number\n  data: LogLevelSummaryChartData\n  onClick: (activePoints: { _index: number }[]) => void\n  timeLabels: string[]\n}\n\nfunction ChartBase({\n  width,\n  height,\n  data,\n  numTicks,\n  onClick,\n  timeLabels,\n}: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null)\n  // Get theme from ThemeProvider (for usecases like dark mode)\n  const theme = useTheme()\n\n  function onClickChart(e: MouseEvent) {\n    if (!chartInstance) return\n    const activePoints = chartInstance.getElementsAtEvent(e)\n    onClick(activePoints)\n  }\n\n  const getXAxisLabel = useCallback(\n    (value, index, values) => {\n      if (index === 0) return timeLabels[0]\n      else if (index === Math.floor(values.length / 2)) return timeLabels[1]\n      return\n    },\n    [timeLabels]\n  )\n\n  function getYAxisLabel(value: number) {\n    if (Number.isInteger(value)) {\n      return value\n    }\n  }\n\n  function ChartLegend() {\n    return (\n      <div\n        className=\"chart-legend mt-1 mb-3\"\n        data-name=\"logOccurencesChartLegend\"\n      >\n        {Object.entries(getLevelPalette(theme)).map(\n          ([level, style]: [string, LevelColor]) => (\n            <div className=\"chart-legend-item\" key={level}>\n              <div\n                className={`chart-legend-indicator mr-1 ${level.toLowerCase()}`}\n                style={{ backgroundColor: style.borderColor }}\n              />\n              <span className=\"chart-legend-caption mr-2\">{level}</span>\n            </div>\n          )\n        )}\n      </div>\n    )\n  }\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n    const chartOptions: ChartOptions = {\n      animation: { duration: 0 },\n      events: [\"click\"],\n      onClick: onClickChart,\n      maintainAspectRatio: true,\n      responsive: true,\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        enabled: false,\n      },\n      elements: {\n        point: {\n          radius: 0,\n          hitRadius: 20,\n        },\n      },\n      scales: {\n        xAxes: [\n          {\n            stacked: true,\n            ticks: {\n              padding: 5,\n              maxRotation: 0,\n              autoSkip: false,\n              callback: getXAxisLabel,\n            },\n            gridLines: {\n              zeroLineColor: \"#cfd8dc\",\n              color: \"#cfd8dc\",\n            },\n          },\n        ],\n        yAxes: [\n          {\n            stacked: true,\n            scaleLabel: {\n              display: false,\n            },\n            gridLines: {\n              borderDash: [5, 5],\n              zeroLineColor: \"#cfd8dc\",\n              drawBorder: false,\n              color: \"#cfd8dc\",\n            },\n            ticks: {\n              padding: 5,\n              suggestedMin: 0,\n              autoSkip: true,\n              maxTicksLimit: 4,\n              callback: getYAxisLabel,\n            },\n          },\n        ],\n      },\n    }\n\n    const chartConfig: ChartConfiguration = {\n      type: \"bar\",\n      data: {\n        datasets: getParsedDatasets(data, theme),\n      },\n      options: chartOptions,\n    }\n\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig)\n    setChartInstance(newChartInstance)\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return\n    const chartData: ChartData = {\n      labels: getLabels(numTicks),\n      datasets: getParsedDatasets(data, theme),\n    }\n    chartInstance.data = chartData\n    chartInstance.update()\n  }, [data, chartInstance, numTicks, theme])\n\n  useEffect(() => {\n    if (\n      chartInstance &&\n      chartInstance.options.scales &&\n      chartInstance.options.scales.xAxes &&\n      chartInstance.options.scales.xAxes[0].ticks\n    ) {\n      chartInstance.options.scales.xAxes[0].ticks.callback = getXAxisLabel\n      chartInstance.update()\n    }\n  }, [getXAxisLabel, chartInstance])\n\n  return (\n    <>\n      <ChartLegend />\n      <canvas\n        height={height || DEFAULT_HEIGHT}\n        width={width || DEFAULT_WIDTH}\n        ref={canvasRef}\n      />\n    </>\n  )\n}\n\nexport default ChartBase\n","import React from \"react\"\nimport Select, { Props as SelectProps } from \"react-select\"\nimport { StylesConfig } from \"react-select/src/styles\"\nimport { FilterSelection } from \"../LogStream/LogsTable\"\n\nconst customStyles: StylesConfig = {\n  dropdownIndicator: (styles) => ({\n    ...styles,\n    color: \"black\",\n  }),\n  indicatorSeparator: (styles) => ({\n    ...styles,\n    opacity: \"0\",\n  }),\n  container: (provided, { selectProps: { width } }) => ({\n    ...provided,\n    width: width,\n  }),\n  option: (styles) => ({\n    ...styles,\n    cursor: \"pointer\",\n  }),\n  control: (styles) => ({\n    ...styles,\n    cursor: \"pointer\",\n    border: \"none\",\n    background: \"#F6F8FA\",\n  }),\n}\n\nexport type Props = {\n  onFilterChange: (something: FilterSelection[]) => void\n  options: { value: string; label: string }[]\n  isMulti?: boolean\n  isSearchable?: boolean\n  clearAfter?: boolean\n} & Omit<SelectProps, \"isMulti\">\n\nfunction MultiFilterSelect({\n  isMulti,\n  isSearchable,\n  clearAfter,\n  onFilterChange,\n  options,\n  ...rest\n}: Props) {\n  let value = clearAfter ? null : undefined\n  return (\n    <Select\n      onChange={(val) => {\n        onFilterChange(Array.isArray(val) ? val : !val ? [] : [val])\n      }}\n      value={value}\n      isMulti={isMulti}\n      options={options}\n      styles={customStyles}\n      readOnly={true}\n      isSearchable={isSearchable}\n      {...rest}\n    />\n  )\n}\n\nexport { MultiFilterSelect }\n","import React from \"react\"\nimport { Card, Row, Col } from \"react-bootstrap\"\nimport BarChart from \"./BarChartBase\"\nimport { MultiFilterSelect } from \"../Common/MultiFilterSelect\"\nimport { LogLevelSummaryChartData } from \"./types\"\nimport { TimePreference } from \"../../views/LogsView\"\n\nconst DEFAULT_HEIGHT = 10\nconst DEFAULT_WIDTH = 70\n\nconst DEFAULT_HEIGHT_SMALL = 20\nconst DEFAULT_WIDTH_SMALL = 50\n\ntype Props = {\n  data: {\n    data: LogLevelSummaryChartData\n    lastTimestamp: number\n    numSeconds: number\n    numTicks: number\n  }\n  showLog: (activePoints: { _index: number }[]) => void\n  setTimeSelection: (timeSelection: TimePreference) => void\n  timeOptions: { [key: string]: { value: string; label: string } }\n  selectedTime: string\n  timeLabels: string[]\n}\n\nfunction LogLevelSummaryChart({\n  data: { data, numSeconds, numTicks },\n  showLog,\n  setTimeSelection,\n  timeOptions,\n  selectedTime,\n  timeLabels,\n}: Props) {\n  return (\n    <Card className=\"h-100\">\n      <Card.Header className=\"p-2 px-3\">\n        <Row>\n          <Col data-name=\"logOccurenceTitle\">Log Occurences by Level</Col>\n          <Col className=\"text-right\" data-name=\"logOccurenceDurationSelect\">\n            <MultiFilterSelect\n              clearAfter\n              options={Object.values(timeOptions)}\n              onFilterChange={(option) => setTimeSelection(option[0].value)}\n              className=\"logstream-select text-left\"\n              placeholder={\n                <span data-name=\"logOccurenceDurationSelectedOption\">\n                  <i className=\"material-icons mr-2\">access_time</i>\n                  {timeOptions[selectedTime].label}\n                </span>\n              }\n              isSearchable={false}\n            />\n          </Col>\n        </Row>\n      </Card.Header>\n      <Card.Body className=\"d-none d-md-block p-0 pb-2 px-3\">\n        <BarChart\n          timeLabels={timeLabels}\n          data={data}\n          numTicks={numTicks}\n          height={DEFAULT_HEIGHT}\n          width={DEFAULT_WIDTH}\n          onClick={showLog}\n        />\n      </Card.Body>\n      <Card.Body className=\"d-md-none pb-2\">\n        <BarChart\n          timeLabels={timeLabels}\n          data={data}\n          numTicks={numTicks}\n          height={DEFAULT_HEIGHT_SMALL}\n          width={DEFAULT_WIDTH_SMALL}\n          onClick={showLog}\n        />\n      </Card.Body>\n    </Card>\n  )\n}\n\nexport { LogLevelSummaryChart }\n","import React, { useRef, useEffect, useState, useCallback } from \"react\"\nimport ChartElement, {\n  ChartConfiguration,\n  ChartOptions,\n  ChartData,\n} from \"chart.js\"\nimport { useTheme } from \"@emotion/react\"\nimport { getLevelPalette } from \"./levels\"\nimport { LogLevels } from \"../../redux/logStream/logStream.types\"\n\nconst DEFAULT_HEIGHT = 50\nconst DEFAULT_WIDTH = 50\n\ntype Props = {\n  width?: number\n  height?: number\n  data: LogLevels\n}\n\nfunction PieChartBase({ width, height, data }: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null)\n  const theme = useTheme()\n\n  const getColor = useCallback(\n    (key: string) => {\n      return getLevelPalette(theme)[key]\n    },\n    [theme]\n  )\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n    const names = Object.keys(data)\n    const chartOptions: ChartOptions = {\n      animation: { duration: 0 },\n      legend: {\n        display: false,\n        position: \"bottom\",\n        labels: {\n          padding: 25,\n          boxWidth: 20,\n        },\n      },\n      tooltips: {\n        mode: \"index\",\n        position: \"nearest\",\n      },\n    }\n\n    const chartConfig: ChartConfiguration = {\n      type: \"pie\",\n      data: {\n        datasets: [\n          {\n            borderWidth: 1,\n            data: Object.values(data),\n            borderColor: names.map((name) => getColor(name).borderColor),\n            backgroundColor: names.map(\n              (name) => getColor(name).backgroundColor\n            ),\n          },\n        ],\n      },\n      options: chartOptions,\n    }\n\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig)\n    setChartInstance(newChartInstance)\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return\n    const names = Object.keys(data)\n    const chartData: ChartData = {\n      labels: names,\n      datasets: [\n        {\n          borderWidth: 1,\n          data: Object.values(data),\n          borderColor: names.map((name) => getColor(name).borderColor),\n          backgroundColor: names.map((name) => getColor(name).backgroundColor),\n        },\n      ],\n    }\n    chartInstance.data = chartData\n    chartInstance.update()\n  }, [data, chartInstance, getColor])\n\n  return (\n    <canvas\n      height={height || DEFAULT_HEIGHT}\n      width={width || DEFAULT_WIDTH}\n      ref={canvasRef}\n    />\n  )\n}\n\nexport default PieChartBase\n","import React from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport PieChart from \"./PieChartBase\";\nimport { LogLevels } from \"../../redux/logStream/logStream.types\";\n\ntype Props = {\n  data: LogLevels;\n};\n\nfunction LogLevelPieChart({ data }: Props) {\n  return (\n    <Card className=\"h-100\">\n      <Card.Header className=\"text-center p-2\">Log Levels</Card.Header>\n      <Card.Body className=\"px-3 pt-0 pb-3\">\n        <PieChart data={data} />\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport { LogLevelPieChart };\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { Row, Col } from \"react-bootstrap\"\nimport { CSSProperties, memo } from \"react\"\nimport { areEqual } from \"react-window\"\nimport { ProcessedLog } from \"../../redux/logStream/logStream.types\"\n\ntype Props = {\n  index: number\n  style: CSSProperties\n  data: {\n    columns: { firstCol: number; secondCol: number; thirdCol: number }\n    items: ProcessedLog[]\n    showLogDetails: (log: ProcessedLog) => void\n  }\n}\n\nconst LogItem = memo(\n  ({ index, style, data: { columns, items, showLogDetails } }: Props) => {\n    const logData = items[index]\n    const { name, message, level, process, formattedTimestamp, idx } = logData\n    let logName = String(name)\n    logName = logName.length > 20 ? logName.substring(0, 20) : logName\n    let levelInitial = String(level)[0]\n    const { firstCol, secondCol, thirdCol } = columns\n    return (\n      <div\n        data-name={`logItem-${index}`}\n        className={`log log-${String(\n          level\n        ).toLowerCase()} px-4 border-bottom py-1`}\n        css={{ maxHeight: 84 }}\n        style={style}\n        onClick={() => showLogDetails(logData)}\n      >\n        <Row>\n          <Col\n            className=\"log-prefix text-muted px-0 d-flex flex-row\"\n            css={{ maxWidth: firstCol }}\n          >\n            <div className=\"text-bold mr-2\">{idx}</div>\n            <div className=\"ml-auto\">{formattedTimestamp}</div>\n          </Col>\n          <Col\n            className=\"log-prefix px-0 text-left text-md-right text-bold cursor-pointer\"\n            css={{ maxWidth: secondCol }}\n          >\n            {logName}@{process}[{levelInitial}]:\n          </Col>\n          <Col\n            className=\"px-0\"\n            css={{\n              maxHeight: 84,\n              display: \"block\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              width: thirdCol,\n              whiteSpace: \"nowrap\",\n              paddingRight: 0,\n              marginRight: 0,\n            }}\n          >\n            {message}\n          </Col>\n        </Row>\n      </div>\n    )\n  },\n  areEqual\n)\n\nexport { LogItem }\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { Row, Col } from \"react-bootstrap\"\n\ntype Props = {\n  columns: { firstCol: number; secondCol: number }\n  border?: boolean\n}\n\nconst LogsTableHeader = ({\n  columns: { firstCol, secondCol },\n  border,\n}: Props) => {\n  return (\n    <div\n      className={`px-4 py-1 bg-light text-monospace ${\n        border ? \"border-top\" : \"\"\n      }`}\n      css={{ maxHeight: 84 }}\n    >\n      <Row>\n        <Col\n          className=\"log-prefix text-muted px-0 d-flex flex-row\"\n          css={{ maxWidth: firstCol }}\n        >\n          <div className=\"text-bold mr-2\">#</div>\n          <div className=\"ml-auto\">timestamp</div>\n        </Col>\n        <Col\n          className=\"log-prefix px-0 text-left text-md-right text-bold\"\n          css={{ maxWidth: secondCol }}\n        >\n          source@process[level]:\n        </Col>\n        <Col\n          className=\"px-0\"\n          css={{\n            maxHeight: 84,\n            display: \"block\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            // width: \"1\",\n            whiteSpace: \"nowrap\",\n            paddingRight: 0,\n            marginRight: 0,\n          }}\n        >\n          message\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport { LogsTableHeader }\n","import React from \"react\"\nimport styled from \"@emotion/styled\"\nimport { IconButton, InputBase } from \"@material-ui/core\"\nimport SearchIcon from \"@material-ui/icons/Search\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\n\ntype Props = {\n  value: string | number\n  onChange: (newValue: string) => void\n  onSearch?: (value: string | number) => void\n}\n\nfunction ExpandingSearchbar({ onSearch, value, onChange }: Props) {\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === \"Enter\") {\n      onSearch && onSearch(value)\n    }\n  }\n  const clearSearch = () => {\n    onSearch && onSearch(\"\")\n  }\n\n  const SearchBar = styled.div`\n    display: flex;\n    background-color: ${(props) => props.theme.palette.grey[100]};\n    border-radius: 2px;\n  `\n  return (\n    <SearchBar>\n      <IconButton type=\"submit\" onClick={() => onSearch && onSearch(value)}>\n        <SearchIcon />\n      </IconButton>\n      <InputBase\n        autoFocus={true}\n        onChange={(e) => onChange(e.target.value)}\n        defaultValue={value}\n        placeholder=\"Search\"\n        onKeyPress={handleKeyPress}\n      />\n      {value && (\n        <IconButton onClick={clearSearch}>\n          <CancelIcon />\n        </IconButton>\n      )}\n    </SearchBar>\n  )\n}\n\nexport { ExpandingSearchbar }\n","import React, { useState } from \"react\"\nimport { Collapse } from \"react-bootstrap\"\nimport logger from \"../../logger\"\nimport { Levels } from \"../../redux/logStream/logStream.types\"\nimport { ReactJSXElement } from \"@emotion/react/types/jsx-namespace\"\n\ntype IconState = \"success\" | \"pending\" | \"warning\" | \"failed\"\ntype Icons = {\n  [iconState in IconState]: {\n    name: string\n    color: string\n  }\n}\n\nconst _icons: Icons = {\n  success: {\n    name: \"check_circle\",\n    color: \"success\",\n  },\n  pending: {\n    name: \"pending\",\n    color: \"muted\",\n  },\n  warning: {\n    name: \"error\",\n    color: \"warning\",\n  },\n  failed: {\n    name: \"cancel\",\n    color: \"critical\",\n  },\n}\n\ntype StatusString = \"success\" | \"pending\" | \"warning\" | \"failed\"\n\ntype CountSummaryProps = {\n  levels?: Levels\n  numItems: number\n  title: string\n}\n\nfunction CountSummary({ levels, numItems }: CountSummaryProps) {\n  logger.log(\"levels:\", levels)\n  return <span className=\"ml-2 text-muted\">({numItems})</span>\n}\n\nfunction getStatusFromLevels(levels: Levels): StatusString {\n  const keys = Object.keys(levels)\n  if (\n    keys.find((k) => k.toLowerCase() === \"critical\") ||\n    keys.find((k) => k.toLowerCase() === \"error\")\n  )\n    return \"failed\"\n  if (keys.find((k) => k.toLowerCase() === \"warning\")) return \"warning\"\n  return \"success\"\n}\n\nfunction StatusIcon({ levels }: { levels: Levels }) {\n  const status = getStatusFromLevels(levels)\n  const icon = _icons[status]\n  return (\n    <i className={`no-select material-icons log-${icon.color} mr-2`}>\n      {icon.name}\n    </i>\n  )\n}\n\ntype ExpandIndicator = {\n  expanded: boolean\n}\n\nfunction ExpandController({ expanded }: ExpandIndicator) {\n  return (\n    <i\n      className={`no-select material-icons text-muted cursor-pointer ${\n        expanded ? \"rotate-90\" : \"\"\n      } mr-2`}\n    >\n      arrow_forward_ios\n    </i>\n  )\n}\n\ntype Props = {\n  title: string\n  body: ReactJSXElement\n  numItems: number\n  group: string\n  levels?: Levels\n}\n\nfunction LogGroup({ title, body, levels, numItems, group }: Props) {\n  const [expanded, setExpanded] = useState(false)\n  return (\n    <div className={`log-group-item m-2 ${expanded ? \"bg-light\" : \"\"}`}>\n      <div\n        className=\"log-group-header cursor-pointer p-2\"\n        onClick={() => setExpanded((prev) => !prev)}\n      >\n        <ExpandController expanded={expanded} />\n        {levels && <StatusIcon levels={levels} />}\n        <span\n          className={\n            group === \"group-level\" ? `log-${title.toLowerCase()}` : \"\"\n          }\n        >\n          {title}\n        </span>\n        {!levels && (\n          <CountSummary levels={levels} numItems={numItems} title={title} />\n        )}\n      </div>\n      <Collapse in={expanded} timeout={100}>\n        <div className=\"log-group-body p-3\">\n          <div className=\"bg-white border\">{body}</div>\n        </div>\n      </Collapse>\n    </div>\n  )\n}\n\nexport { LogGroup }\n","import React, { useState, useCallback, useEffect, useRef } from \"react\"\nimport _ from \"lodash\"\nimport { FixedSizeList as List } from \"react-window\"\nimport { Card, Row, Col } from \"react-bootstrap\"\nimport AutoSizer from \"react-virtualized-auto-sizer\"\nimport FlexSearch from \"flexsearch\"\nimport { saveAs } from \"file-saver\"\n\nimport { MultiFilterSelect } from \"../Common/MultiFilterSelect\"\nimport { LogItem } from \"./LogItem\"\nimport { LogsTableHeader } from \"./LogsTableHeader\"\nimport {\n  Levels,\n  LEVELS,\n  ProcessedLog,\n} from \"../../redux/logStream/logStream.types\"\nimport { ExpandingSearchbar } from \"../Common/ExpandingSearchbar\"\nimport { LogGroup } from \"./LogGroup\"\n\nimport {\n  serializeLogsToCSVBlob,\n  serializeLogsToJSONBlob,\n  serializeLogsToTextBlob,\n} from \"../../helpers\"\nimport { TimePreference } from \"../../views/LogsView\"\nimport logger from \"../../logger\"\n\nconst ROW_SIZE = 30\nconst DEFAULT_VIEW = \"table\"\nconst VIEW_PREFERENCE_NAME = \"logs-view-preference\"\nconst POD_NAME_SPLIT_CHAR = \"-\"\n\nconst SEARCH_FIELDS = [\n  \"filename\",\n  \"funcName\",\n  \"module\",\n  \"message\",\n  \"pathname\",\n  \"name\",\n]\n\ntype Pod = {\n  data: ProcessedLog[]\n  levels: Levels\n}\n\ntype GroupedData = {\n  [podName: string]: Pod\n}\n\nexport type FilterSelection = {\n  label: string\n  value: TimePreference\n}\n\nconst saveOptions = [\n  { value: \"csv\", label: \"CSV\" },\n  { value: \"json\", label: \"JSON\" },\n  { value: \"txt\", label: \"TXT\" },\n]\n\nconst viewOptions: { [key: string]: { value: string; label: string } } = {\n  table: {\n    value: \"table\",\n    label: \"Table View\",\n  },\n  \"group-pod\": {\n    value: \"group-pod\",\n    label: \"Group by Pod\",\n  },\n  \"group-level\": {\n    value: \"group-level\",\n    label: \"Group by Level\",\n  },\n}\n\nfunction getUserViewPreference() {\n  const preference = localStorage.getItem(VIEW_PREFERENCE_NAME)\n  if (preference && viewOptions[preference]) return preference\n  return false\n}\n\nfunction setUserViewPreference(preference: string) {\n  localStorage.setItem(VIEW_PREFERENCE_NAME, preference)\n}\n\nfunction getInitialView() {\n  return getUserViewPreference() || DEFAULT_VIEW\n}\n\nlet _lastNumLogs = 0\nlet _searchIndex = FlexSearch.create({\n  doc: {\n    id: \"id\",\n    field: SEARCH_FIELDS,\n  },\n})\n\nconst applyFilters = (\n  item: ProcessedLog,\n  filters: { [s: string]: unknown } | ArrayLike<unknown>\n) =>\n  Object.entries(filters).reduce((acc, curr) => {\n    const [key, value] = curr\n    return acc && Array.isArray(value)\n      ? value.length === 0\n        ? true\n        : value.includes(item[key as keyof ProcessedLog])\n      : value === item[key as keyof ProcessedLog]\n  }, true)\n\nexport type Format = \"json\" | \"csv\" | \"txt\"\n\ntype View = \"group-pod\" | \"group-level\" | \"table\"\n\nconst generateFileName = (format: Format) => `jina-logs-${new Date()}.${format}`\n\nconst saveLogData = (log: ProcessedLog[], format: Format) => {\n  const filename = generateFileName(format)\n  if (format === \"csv\") return saveAs(serializeLogsToCSVBlob(log), filename)\n  if (format === \"json\") return saveAs(serializeLogsToJSONBlob(log), filename)\n  if (format === \"txt\") return saveAs(serializeLogsToTextBlob(log), filename)\n}\n\ntype Props = {\n  data: ProcessedLog[]\n  showLogDetails: (log: ProcessedLog) => void\n}\n\nconst itemKey = (index: number, data: { items: ProcessedLog[] }) =>\n  data.items[index].id\n\nconst arrayLikeToArray = (arrayLike: Readonly<any[]> | Set<any>) =>\n  Array.isArray(arrayLike) ? arrayLike : Array.from(arrayLike)\n\nconst toOption = (list: Readonly<any[]> | Set<any>) =>\n  arrayLikeToArray(list).map((item) => ({ label: item, value: item }))\n\nfunction LogsList({\n  data,\n  firstCol,\n  secondCol,\n  showLogDetails,\n  small,\n}: {\n  data: ProcessedLog[]\n  firstCol: number\n  secondCol: number\n  showLogDetails: (log: ProcessedLog) => void\n  small: boolean\n}) {\n  const listRef = useRef<any>()\n  const [scrolledToBottom, setScrolledToBottom] = useState(true)\n  useEffect(() => {\n    if (listRef.current && scrolledToBottom) {\n      listRef.current.scrollToItem(data.length)\n    }\n  }, [data.length, scrolledToBottom])\n\n  return (\n    <div>\n      {!scrolledToBottom && (\n        <div\n          onClick={() => listRef.current.scrollToItem(data.length)}\n          className={`back-to-bottom active`}\n        >\n          <i className=\"material-icons\">arrow_downward</i> Back to Bottom\n        </div>\n      )}\n      <LogsTableHeader columns={{ firstCol, secondCol }} border={!small} />\n      <div\n        className={`log-stream-container${\n          small ? \"-small\" : \"\"\n        } p-0 border-top`}\n      >\n        <AutoSizer>\n          {({ height, width }) => {\n            const thirdCol = width - (firstCol + secondCol)\n            return (\n              <List\n                onScroll={({ scrollOffset }) => {\n                  setScrolledToBottom(\n                    (scrollOffset + height) / ROW_SIZE - data.length === 0\n                  )\n                }}\n                height={height}\n                width={width}\n                itemCount={data.length}\n                itemSize={ROW_SIZE}\n                itemKey={itemKey}\n                itemData={{\n                  items: data,\n                  columns: { firstCol, secondCol, thirdCol },\n                  showLogDetails,\n                }}\n                ref={listRef}\n              >\n                {LogItem}\n              </List>\n            )\n          }}\n        </AutoSizer>\n      </div>\n    </div>\n  )\n}\n\ntype GroupedLogProps = {\n  groupedData: GroupedData\n  grouping: string\n  firstCol: number\n  secondCol: number\n  showLogDetails: (log: ProcessedLog) => void\n}\n\nfunction GroupedLogs({\n  groupedData,\n  grouping,\n  firstCol,\n  secondCol,\n  showLogDetails,\n}: GroupedLogProps) {\n  return (\n    <Card.Body\n      className=\"log-stream-container p-0 border-top\"\n      data-name=\"groupedLogsContainer\"\n    >\n      {Object.keys(groupedData).length && (\n        <div className=\"log-group-container\">\n          {Object.entries(groupedData).map(([key, data], idx: number) => (\n            <LogGroup\n              group={grouping}\n              key={idx}\n              title={key}\n              levels={data.levels}\n              numItems={data.data.length}\n              body={\n                <LogsList\n                  firstCol={firstCol}\n                  secondCol={secondCol}\n                  data={data.data}\n                  showLogDetails={showLogDetails}\n                  small\n                />\n              }\n            />\n          ))}\n        </div>\n      )}\n    </Card.Body>\n  )\n}\n\nfunction LogsTable({ data, showLogDetails }: Props) {\n  const [currentView, setCurrentView] = useState(() => getInitialView())\n\n  const [selectedSources, setSelectedSources] = useState<FilterSelection[]>([])\n  const [selectedLevels, setSelectedLevels] = useState<FilterSelection[]>([])\n\n  const [searchResults, setSearchResults] = useState<ProcessedLog[]>([])\n  const [searchString, setSearchString] = useState(\"\")\n\n  const search = useCallback(async () => {\n    const newData = data.slice(_lastNumLogs, data.length)\n    _searchIndex.add(newData)\n    _lastNumLogs = data.length\n    const searchResults = (await _searchIndex.search(\n      searchString\n    )) as ProcessedLog[]\n    setSearchResults(searchResults)\n    // @ts-ignore\n  }, [searchString, data.length]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (searchString && data.length) search()\n  }, [data.length, searchString, search])\n\n  function setView(view: View) {\n    setCurrentView(view)\n    setUserViewPreference(view)\n  }\n\n  const unfiltered = searchString ? searchResults : data\n  const sources = data.reduce((acc, curr) => acc.add(curr.name), new Set())\n\n  let groupedData: GroupedData = {}\n  logger.log(\"unfiltered logs\", unfiltered)\n\n  let resultData = (unfiltered || []).filter((result) =>\n    applyFilters(result, {\n      level: selectedLevels.map(({ value }) => value),\n      name: selectedSources.map(({ value }) => value),\n    })\n  )\n\n  if (currentView === \"group-pod\") {\n    const podNames = arrayLikeToArray(sources).map(\n      (name: string) => name.toLowerCase().split(POD_NAME_SPLIT_CHAR)[0]\n    )\n    groupedData = {}\n    podNames.forEach((podName: string) => {\n      const pod: Partial<Pod> = {}\n      pod.data = (resultData || []).filter(\n        (log) => log.name && log.name.toLowerCase().startsWith(podName)\n      )\n\n      if (!pod.data.length) return\n      pod.levels = _.countBy(pod.data, \"level\") as Levels\n      groupedData[podName] = pod as Pod\n    })\n  } else if (currentView === \"group-level\") {\n    groupedData = {}\n    LEVELS.forEach((level: string) => {\n      const levelItem: Partial<Pod> = {}\n\n      levelItem.data = (resultData || []).filter((log) => log.level === level)\n\n      if (!levelItem.data.length) return\n      groupedData[level] = levelItem as Pod\n    })\n  }\n\n  const firstCol = 300\n  const secondCol = 300\n\n  return (\n    <Card className=\"mb-4\">\n      <Card.Header className=\"p-0\">\n        <Row className=\"p-3\">\n          <Col md=\"8\" data-name=\"logStreamFilters\">\n            <MultiFilterSelect\n              clearAfter\n              options={Object.values(viewOptions)}\n              onFilterChange={(option) => setView(option[0].value as View)}\n              className=\"logstream-select mb-2 mr-0 mb-md-0 mr-md-2\"\n              placeholder={\n                currentView === \"table\" ? (\n                  <span data-name=\"logStreamViewSelectedOption\">\n                    <i className=\"material-icons mr-2\">table_rows</i>Table View\n                  </span>\n                ) : (\n                  <span data-name=\"logStreamViewSelectedOption\">\n                    <i className=\"material-icons mr-2\">view_list</i>\n                    {viewOptions[currentView].label}\n                  </span>\n                )\n              }\n              isSearchable={false}\n            />\n            {currentView === \"table\" && (\n              <MultiFilterSelect\n                isMulti\n                options={toOption(sources)}\n                onFilterChange={setSelectedSources}\n                className=\"logstream-select mb-2 mr-0 mb-md-0 mr-md-2\"\n                placeholder={\n                  <span data-name=\"logStreamSourceSelectedOption\">\n                    <i className=\"material-icons mr-2\">mediation</i>All Sources\n                  </span>\n                }\n              />\n            )}\n            <MultiFilterSelect\n              isMulti\n              options={toOption(LEVELS)}\n              onFilterChange={setSelectedLevels}\n              className=\"logstream-select mb-2 mr-0 mb-md-0 mr-md-2\"\n              placeholder={\n                <span data-name=\"logStreamLevelSelectedOption\">\n                  <i className=\"material-icons mr-2\">bar_chart</i>All Levels\n                </span>\n              }\n            />\n            <MultiFilterSelect\n              clearAfter\n              options={saveOptions}\n              onFilterChange={(option) => {\n                saveLogData(data, option[0].value as Format)\n              }}\n              className=\"logstream-select mb-2 mr-0 mb-md-0 mr-md-2\"\n              placeholder={\n                <span data-name=\"logStreamActionsSelect\">\n                  <i className=\"material-icons mr-2\">download</i>Download Logs\n                </span>\n              }\n              isSearchable={false}\n            />\n          </Col>\n          <Col md=\"4\">\n            <ExpandingSearchbar\n              placeholder=\"search logs...\"\n              value={searchString}\n              onChange={setSearchString}\n            />\n          </Col>\n        </Row>\n      </Card.Header>\n      {currentView === \"table\" ? (\n        <LogsList\n          firstCol={firstCol}\n          secondCol={secondCol}\n          data={resultData}\n          showLogDetails={showLogDetails}\n          small={false}\n        />\n      ) : (\n        <GroupedLogs\n          firstCol={firstCol}\n          secondCol={secondCol}\n          grouping={currentView}\n          groupedData={groupedData}\n          showLogDetails={showLogDetails}\n        />\n      )}\n    </Card>\n  )\n}\n\nexport { LogsTable }\n","import { State } from \"../index\";\n\nexport const selectLogs = (state: State) => state.logStreamState.logs;\nexport const selectLogLevels = (state: State) => state.logStreamState.logLevels;\nexport const selectLogLevelOccurrences = (state: State) =>\n  state.logStreamState.logLevelOccurrences;\n","import React, { useEffect, useState } from \"react\"\nimport { Container, Row, Col } from \"react-bootstrap\"\nimport { LogLevelSummaryChart } from \"../components/LogStream/LogLevelSummaryChart\"\nimport { LogLevelPieChart } from \"../components/LogStream/LogLevelPieChart\"\nimport { PageTitle } from \"../components/Common/PageTitle\"\nimport { LogsTable } from \"../components/LogStream/LogsTable\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { showLogAtIndex } from \"../redux/logStream/logStream.actions\"\nimport {\n  selectLogLevelOccurrences,\n  selectLogLevels,\n  selectLogs,\n} from \"../redux/logStream/logStream.selectors\"\n\nimport { getLogLevelCharts } from \"../helpers/format\"\nimport { showModal } from \"../redux/global/global.actions\"\nimport { RawLog } from \"../redux/logStream/logStream.types\"\n\nexport type TimePreference = \"60second\" | \"15minute\" | \"1hour\"\n\nconst DEFAULT_TIME_SELECTION: TimePreference = \"60second\"\n\nconst MAX_CHART_TICKS = 60\n\nconst TIME_PREFERENCE_NAME = \"logs-time-preference\"\n\nconst timeOptions: {\n  [key: string]: { value: string; label: string; chartLabels: string[] }\n} = {\n  \"60second\": {\n    value: \"60second\",\n    label: \"60 Seconds\",\n    chartLabels: [\"60s ago\", \"30s ago\", \"\"],\n  },\n  \"15minute\": {\n    value: \"15minute\",\n    label: \"15 Minutes\",\n    chartLabels: [\"15m ago\", \"7m 30s ago\", \"\"],\n  },\n  \"1hour\": {\n    value: \"1hour\",\n    label: \"1 Hour\",\n    chartLabels: [\"1h ago\", \"30m ago\", \"\"],\n  },\n}\n\nconst numSeconds: { [key: string]: number } = {\n  \"60second\": 60,\n  \"15minute\": 900,\n  \"1hour\": 3600,\n}\n\nfunction getUserTimePreference() {\n  const preference = localStorage.getItem(TIME_PREFERENCE_NAME)\n  if (preference && timeOptions[preference]) return preference\n  return false\n}\n\nfunction setUserTimePreference(preference: string) {\n  localStorage.setItem(TIME_PREFERENCE_NAME, preference)\n}\n\nfunction getInitialTimeSelection() {\n  return getUserTimePreference() || DEFAULT_TIME_SELECTION\n}\n\nfunction LogsView() {\n  const dispatch = useDispatch()\n\n  const logLevelOccurrences = useSelector(selectLogLevelOccurrences)\n  const logs = useSelector(selectLogs)\n  const logLevels = useSelector(selectLogLevels)\n  const [selectedTime, setSelectedTime] = useState(() =>\n    getInitialTimeSelection()\n  )\n\n  const [logLevelCharts, setLogLevelCharts] = useState(() =>\n    getLogLevelCharts(\n      numSeconds[selectedTime],\n      MAX_CHART_TICKS,\n      logLevelOccurrences,\n      new Date()\n    )\n  )\n\n  function showLogDetails(log: RawLog) {\n    dispatch(showModal(\"logDetails\", { log }))\n  }\n\n  function setTimeSelection(time: TimePreference) {\n    setSelectedTime(time)\n    setUserTimePreference(time)\n  }\n\n  useEffect(() => {\n    const currentDate = new Date()\n    const newCharts = getLogLevelCharts(\n      numSeconds[selectedTime],\n      MAX_CHART_TICKS,\n      logLevelOccurrences,\n      currentDate\n    )\n    setLogLevelCharts({ ...newCharts })\n  }, [selectedTime, logLevelOccurrences])\n\n  function showLog(activePoints: { _index: number }[]) {\n    const { data } = logLevelCharts\n    let index = activePoints[0] && activePoints[0]._index\n    if (index && typeof index !== \"undefined\") {\n      const { lastLog } = data[index]\n      dispatch(showLogAtIndex(lastLog))\n    }\n  }\n\n  const timeSelection = timeOptions[selectedTime]\n\n  return (\n    <Container fluid className=\"main-content-container px-0\">\n      <div className=\"px-4\">\n        <Row noGutters className=\"page-header mb-4\">\n          <PageTitle title=\"Log Stream\" className=\"text-sm-left mb-3\" />\n        </Row>\n        <Row>\n          <Col md=\"10\" className=\"mb-4\">\n            <LogLevelSummaryChart\n              data={logLevelCharts}\n              showLog={showLog}\n              setTimeSelection={setTimeSelection}\n              timeOptions={timeOptions}\n              selectedTime={selectedTime}\n              timeLabels={timeSelection.chartLabels}\n            />\n          </Col>\n          <Col md=\"2\" className=\"mb-4\">\n            <LogLevelPieChart data={logLevels} />\n          </Col>\n        </Row>\n        <LogsTable data={logs} showLogDetails={showLogDetails} />\n      </div>\n    </Container>\n  )\n}\n\nexport { LogsView }\n","import React from \"react\";\nimport { Card } from \"shards-react\";\n\ntype Props = {\n  elapsed: {\n    task_name: string;\n    seconds: string | number;\n  };\n};\n\nexport default function ElapsedCard({ elapsed }: Props) {\n  return (\n    <Card className=\"p-3 h-100\">\n      <h6 className=\"stats-small__label text-uppercase text-center mb-0\">\n        <b>{elapsed.task_name}</b>\n      </h6>\n      <h2 className=\"my-3 mx-auto\">{elapsed.seconds}</h2>\n      <h6 className=\"stats-small__label text-uppercase text-center\">\n        Elapsed Time\n      </h6>\n    </Card>\n  );\n}\n","import React, { useEffect, useState, useRef } from \"react\"\nimport { Card } from \"shards-react\"\n\nimport ChartElement from \"chart.js\"\n\ntype Props = {\n  progress: any //todo remove this when tasks are back\n}\n\nfunction ProgressCard({ progress }: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null)\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n    const newChartInstance = new ChartElement(canvasRef.current, {\n      type: \"doughnut\",\n      data: {\n        datasets: [\n          {\n            hoverBorderColor: \"#fff\",\n            data: [0, 100],\n            backgroundColor: [\"#32c8cd\", \"#E9ECEF\"],\n          },\n        ],\n        labels: [\"Label 1\", \"Label 2\"],\n      },\n      options: {\n        legend: { display: false },\n        responsive: false,\n        cutoutPercentage: 70,\n        animation: { duration: 0 },\n        tooltips: {\n          enabled: false,\n        },\n      },\n    })\n    setChartInstance(newChartInstance)\n  }, [])\n\n  useEffect(() => {\n    if (!chartInstance) return\n    const percent = (progress.num_bars / progress.bar_len || 1) * 100\n    let newData = {\n      datasets: [\n        {\n          hoverBorderColor: \"#fff\",\n          data: [percent, 100 - percent],\n          backgroundColor: [\"#32c8cd\", \"#E9ECEF\"],\n        },\n      ],\n      labels: [\"Label 1\", \"Label 2\"],\n    }\n    chartInstance.data = newData\n    chartInstance.update()\n  }, [JSON.stringify(progress), chartInstance]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Card className=\"p-3 h-100\">\n      <h6 className=\"stats-small__label text-uppercase text-center\">\n        <b>Progress</b>\n      </h6>\n      <div className=\"go-stats__chart mx-auto d-flex flex-row\">\n        <div className=\"mr-4 mt-3\">\n          <h6 className=\"stats-small__label text-uppercase text-center\">\n            Request\n          </h6>\n          <h4 className=\"mb-0\">{progress.currentRequest}</h4>\n        </div>\n\n        <canvas\n          ref={canvasRef}\n          style={{ width: \"100px\", height: \"100px\" }}\n          className=\"my-auto\"\n        />\n      </div>\n    </Card>\n  )\n}\n\nexport default ProgressCard\n","import React, { useRef, useState, useCallback, useEffect } from \"react\"\nimport { Card } from \"shards-react\"\nimport { useTheme } from \"@emotion/react\"\nimport ChartElement, { ChartOptions } from \"chart.js\"\n//todo type this when taskView is back\ntype Props = {\n  speed: {\n    history: any\n    current: any\n    unit: any\n  }\n}\n\nfunction SpeedCard({ speed }: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null)\n  const { history } = speed\n  const { palette } = useTheme()\n\n  let maxValue = Math.max(...history)\n  let minValue = Math.min(...history)\n\n  const getChartOptions = useCallback((): ChartOptions => {\n    const difference = maxValue - minValue\n    return {\n      maintainAspectRatio: true,\n      responsive: true,\n      animation: { duration: 0 },\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        enabled: false,\n      },\n      layout: {\n        padding: {\n          bottom: -10,\n          left: -10,\n        },\n      },\n      elements: {\n        point: {\n          radius: 0,\n        },\n        line: {\n          tension: 0.33,\n        },\n      },\n      scales: {\n        xAxes: [\n          {\n            gridLines: {\n              display: false,\n            },\n            ticks: {\n              display: false,\n            },\n          },\n        ],\n        yAxes: [\n          {\n            gridLines: {\n              display: false,\n            },\n            scaleLabel: {\n              padding: 0,\n              display: false,\n            },\n            ticks: {\n              display: false,\n              // Avoid getting the graph line cut of at the top of the canvas.\n              // Chart.js bug link: https://github.com/chartjs/Chart.js/issues/4790\n              suggestedMax: maxValue + difference * 0.1,\n              suggestedMin: minValue - difference * 0.1,\n            },\n          },\n        ],\n      },\n    }\n  }, [maxValue, minValue])\n\n  const getChartConfig = useCallback(\n    (chartOptions) => {\n      return {\n        type: \"line\",\n        data: {\n          labels: new Array(history.length).fill(null),\n          datasets: [\n            {\n              label: \"Today\",\n              fill: \"start\",\n              borderWidth: 1.5,\n              backgroundColor: \"rgba(0, 153, 153, 0.25)\",\n              borderColor: palette.primary,\n              data: history,\n            },\n          ],\n        },\n        options: chartOptions,\n      }\n    },\n    [history, palette.primary]\n  )\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n    const chartOptions = getChartOptions()\n    const chartConfig = getChartConfig(chartOptions)\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig)\n    setChartInstance(newChartInstance)\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return\n    let newChartData = {\n      ...chartInstance.data,\n      ...{\n        datasets: [\n          {\n            label: \"Today\",\n            fill: \"start\",\n            borderWidth: 1.5,\n            backgroundColor: \"rgba(0, 153, 153, 0.25)\",\n            borderColor: palette.primary,\n            data: history,\n          },\n        ],\n      },\n    }\n    chartInstance.options = getChartOptions()\n    chartInstance.data = newChartData\n    chartInstance.update()\n  }, [history, chartInstance, getChartOptions, getChartConfig, palette.primary])\n\n  return (\n    <Card className=\"pt-0 h-100 stats-small\">\n      <div className=\"stats-small__data mx-auto\">\n        <h6 className=\"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0\">\n          <b>Speed</b>\n        </h6>\n        <h2 className=\"my-3 mx-auto\">{speed.current}</h2>\n        <h6 className=\"stats-small__label under text-uppercase text-center\">\n          {speed.unit}/Second\n        </h6>\n      </div>\n      <canvas height=\"100\" ref={canvasRef} className=\"stats-small-1\" />\n    </Card>\n  )\n}\n\nexport default SpeedCard\n","import React, { useRef, useEffect, useState, useCallback } from \"react\"\nimport ChartElement, {\n  ChartConfiguration,\n  ChartOptions,\n  ChartData,\n} from \"chart.js\"\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Row,\n  Col,\n  ButtonGroup,\n  Button,\n} from \"shards-react\"\nimport { formatBytes } from \"../../helpers\"\nimport { useTheme } from \"@emotion/react\"\n\n//todo type this when tasks are back\ntype Props = {\n  messages: any\n  bytes: any\n}\n\nfunction BarChartCard(props: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null)\n  const [currentTab, setCurrentTab] = useState<keyof Props>(\"messages\")\n  const { palette } = useTheme()\n\n  const chartData = props[currentTab]\n\n  const getChartOptions = useCallback((): ChartOptions => {\n    return {\n      animation: { duration: 0 },\n      tooltips: {\n        callbacks: {\n          title: function (tooltipItem: any) {\n            return `Pod: ${tooltipItem[0].xLabel}`\n          },\n          label: (tooltipItem: any, data: any) => {\n            let label = `${data.datasets[tooltipItem.datasetIndex].label}: ${\n              currentTab === \"bytes\"\n                ? formatBytes(tooltipItem.value)\n                : tooltipItem.value\n            }`\n            return label\n          },\n          afterLabel: (tooltipItem: any) => {\n            let text = \"\\nProcess ID: \" + chartData[tooltipItem.index].process\n            return text\n          },\n        },\n      },\n      scales: {\n        xAxes: [\n          {\n            stacked: true,\n          },\n        ],\n        yAxes: [\n          {\n            stacked: true,\n            ticks: {\n              callback: (label: number) => {\n                if (currentTab === \"bytes\") return formatBytes(label)\n                return label > 999 ? `${(label / 1000).toFixed(0)}k` : label\n              },\n            },\n          },\n        ],\n      },\n      maintainAspectRatio: false,\n    }\n  }, [chartData, currentTab])\n\n  const getChartConfig = useCallback(\n    (chartOptions: ChartOptions): ChartConfiguration => {\n      return {\n        type: \"bar\",\n        options: chartOptions,\n        data: {\n          labels: chartData.map((d: any) => d.node),\n          datasets: [\n            {\n              label: \"msg sent\",\n              fill: \"start\",\n              data: chartData.map((d: any) => d.sent),\n              backgroundColor: palette.primary,\n              borderColor: palette.primary,\n              pointBackgroundColor: palette.background,\n              pointHoverBackgroundColor: palette.primary,\n              borderWidth: 1.5,\n            },\n            {\n              label: \"msg received\",\n              fill: \"start\",\n              data: chartData.map((d: any) => d.received),\n              backgroundColor: palette.success,\n              borderColor: palette.success,\n              pointBackgroundColor: palette.background,\n              pointHoverBackgroundColor: palette.success,\n              borderWidth: 1.5,\n            },\n          ],\n        },\n      }\n    },\n    [chartData, palette.success, palette.primary, palette.background]\n  )\n\n  const getChartData = useCallback(() => {\n    return {\n      labels: chartData.map((d: any) => d.node),\n      datasets: [\n        {\n          label: `${currentTab} sent`,\n          fill: \"start\",\n          data: chartData.map((d: any) => d.sent),\n          backgroundColor: palette.primary,\n          borderColor: palette.primary,\n          pointBackgroundColor: palette.background,\n          pointHoverBackgroundColor: palette.primary,\n          borderWidth: 1.5,\n        },\n        {\n          label: `${currentTab} received`,\n          fill: \"start\",\n          data: chartData.map((d: any) => d.received),\n          backgroundColor: palette.success,\n          borderColor: palette.success,\n          pointBackgroundColor: palette.background,\n          pointHoverBackgroundColor: palette.success,\n          borderWidth: 1.5,\n        },\n      ],\n    }\n  }, [\n    chartData,\n    currentTab,\n    palette.success,\n    palette.primary,\n    palette.background,\n  ])\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n    const chartOptions: ChartOptions = getChartOptions()\n    const chartConfig: ChartConfiguration = getChartConfig(chartOptions)\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig)\n    setChartInstance(newChartInstance)\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return\n    const newData: ChartData = getChartData()\n    const newOptions: ChartOptions = getChartOptions()\n    chartInstance.options = newOptions\n    chartInstance.data = newData\n    chartInstance.update()\n  }, [chartData, chartInstance, currentTab, getChartData, getChartOptions])\n\n  return (\n    <Card small className=\"h-100 mb-4\">\n      <CardHeader className=\"border-bottom\">\n        <h6 className=\"m-0\">Network Load</h6>\n      </CardHeader>\n\n      <CardBody className=\"pt-0\">\n        <Row className=\"border-bottom py-2 bg-light\">\n          <Col sm=\"6\" className=\"col d-flex mb-2 mb-sm-0\">\n            <ButtonGroup>\n              <Button\n                theme=\"white\"\n                active={currentTab === \"messages\"}\n                onClick={() => setCurrentTab(\"messages\")}\n              >\n                Messages\n              </Button>\n              <Button\n                theme=\"white\"\n                active={currentTab === \"bytes\"}\n                onClick={() => setCurrentTab(\"bytes\")}\n              >\n                Bytes\n              </Button>\n            </ButtonGroup>\n          </Col>\n        </Row>\n        <div style={{ position: \"relative\", height: 300 }}>\n          <canvas ref={canvasRef} />\n        </div>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default BarChartCard\n","import React, { useRef, useState, useCallback, useEffect } from \"react\"\nimport { Card } from \"shards-react\"\n\nimport ChartElement, { ChartOptions } from \"chart.js\"\n\ntype Props = {\n  qps: {\n    history: number[]\n    current: number\n  }\n}\n\nfunction QueriesPerSecondCard({ qps }: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null)\n  const { history } = qps\n\n  let maxValue = Math.max(...history)\n  let minValue = Math.min(...history)\n\n  const getChartOptions = useCallback((): ChartOptions => {\n    const difference = maxValue - minValue\n    return {\n      maintainAspectRatio: true,\n      responsive: true,\n      animation: { duration: 0 },\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        enabled: false,\n      },\n      elements: {\n        point: {\n          radius: 0,\n        },\n        line: {\n          tension: 0.33,\n        },\n      },\n      layout: {\n        padding: {\n          bottom: -10,\n          left: -10,\n        },\n      },\n      scales: {\n        xAxes: [\n          {\n            gridLines: {\n              display: false,\n            },\n            ticks: {\n              display: false,\n            },\n          },\n        ],\n        yAxes: [\n          {\n            gridLines: {\n              display: false,\n            },\n            scaleLabel: {\n              display: false,\n            },\n            ticks: {\n              display: false,\n              // Avoid getting the graph line cut of at the top of the canvas.\n              // Chart.js bug link: https://github.com/chartjs/Chart.js/issues/4790\n              suggestedMax: maxValue + difference * 0.1,\n              suggestedMin: minValue - difference * 0.1,\n            },\n          },\n        ],\n      },\n    }\n  }, [maxValue, minValue])\n\n  const getChartConfig = useCallback(\n    (chartOptions) => {\n      return {\n        type: \"line\",\n        data: {\n          labels: new Array(history.length).fill(null),\n          datasets: [\n            {\n              label: \"Today\",\n              fill: \"start\",\n              borderWidth: 1.5,\n              backgroundColor: \"rgba(50, 200, 205, 0.25)\",\n              borderColor: \"#32c8cd\",\n              data: history,\n            },\n          ],\n        },\n        options: chartOptions,\n      }\n    },\n    [history]\n  )\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n    const chartOptions = getChartOptions()\n    const chartConfig = getChartConfig(chartOptions)\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig)\n    setChartInstance(newChartInstance)\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return\n    let newChartData = {\n      ...chartInstance.data,\n      ...{\n        datasets: [\n          {\n            label: \"Today\",\n            fill: \"start\",\n            borderWidth: 1.5,\n            backgroundColor: \"rgba(50, 200, 205, 0.25)\",\n            borderColor: \"#32c8cd\",\n            data: history,\n          },\n        ],\n      },\n    }\n    chartInstance.options = getChartOptions()\n    chartInstance.data = newChartData\n    chartInstance.update()\n  }, [history, chartInstance, getChartOptions, getChartConfig])\n\n  return (\n    <Card className=\"pt-0 h-100 stats-small\">\n      <div className=\"stats-small__data mx-auto\">\n        <h6 className=\"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0\">\n          <b>QPS</b>\n        </h6>\n        <h2 className=\"my-3 mx-auto\">{qps.current}</h2>\n        <h6 className=\"stats-small__label under text-uppercase text-center\">\n          Queries/Second\n        </h6>\n      </div>\n      <canvas height=\"100\" ref={canvasRef} className=\"stats-small-1\" />\n    </Card>\n  )\n}\n\nexport default QueriesPerSecondCard\n","import { State } from \"../index\";\n\nexport const selectTaskData = (state: State) => state.taskState.taskData;\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\nimport ElapsedCard from \"../components/Task/ElapsedCard\";\nimport ProgressCard from \"../components/Task/ProgressCard\";\nimport SpeedCard from \"../components/Task/SpeedCard\";\nimport BarChartCard from \"../components/Task/BarChartCard\";\nimport QueriesPerSecond from \"../components/Task/QueriesPerSecond\";\nimport { useSelector } from \"react-redux\";\nimport { selectTaskData } from \"../redux/task/task.selectors\";\n\nfunction TaskView() {\n  const taskData = useSelector(selectTaskData);\n\n  return (\n    <Container fluid className=\"main-content-container px-0\">\n      <div className=\"px-4\">\n        <Row noGutters className=\"page-header mb-4\">\n          <PageTitle title=\"Task\" className=\"text-sm-left mb-3\" />\n        </Row>\n        <Row>\n          <Col md=\"6\" lg=\"6\" xl=\"3\" className=\"mb-4\">\n            <ElapsedCard elapsed={taskData.elapsed} />\n          </Col>\n          <Col md=\"6\" lg=\"6\" xl=\"3\" className=\"mb-4\">\n            <ProgressCard progress={taskData.progress} />\n          </Col>\n          <Col md=\"6\" lg=\"6\" xl=\"3\" className=\"mb-4\">\n            <QueriesPerSecond qps={taskData.qps} />\n          </Col>\n          <Col md=\"6\" lg=\"6\" xl=\"3\" className=\"mb-4\">\n            <SpeedCard speed={taskData.speed} />\n          </Col>\n        </Row>\n        <BarChartCard\n          messages={taskData.messages}\n          bytes={taskData.bytes}\n          lastUpdate={taskData.lastUpdateChart}\n        />\n      </div>\n    </Container>\n  );\n}\n\nexport default TaskView;\n","import { SettingName } from \"../../redux/settings/settings.types\"\n\ntype LabelName =\n  | \"JinaD Host\"\n  | \"JinaD Port\"\n  | \"Gateway Host\"\n  | \"Gateway Port\"\n  | \"Log\"\n  | \"Profile\"\n  | \"YAML\"\n  | \"Shutdown\"\n  | \"Ready\"\n\ntype Option = {\n  label: LabelName\n  placeholder: string\n  value: SettingName\n}\n\nexport const baseOptions: Option[] = [\n  {\n    label: \"JinaD Host\",\n    placeholder: \"0.0.0.0\",\n    value: \"jinadHost\",\n  },\n  {\n    label: \"JinaD Port\",\n    placeholder: \"5000\",\n    value: \"jinadPort\",\n  },\n  {\n    label: \"Gateway Host\",\n    placeholder: \"0.0.0.0\",\n    value: \"gatewayHost\",\n  },\n  {\n    label: \"Gateway Port\",\n    placeholder: \"5555\",\n    value: \"gatewayPort\",\n  },\n]\n\nexport const advancedOptions: Option[] = [\n  {\n    label: \"Log\",\n    placeholder: \"/stream/log\",\n    value: \"log\",\n  },\n  {\n    label: \"Profile\",\n    placeholder: \"/stream/profile\",\n    value: \"profile\",\n  },\n  {\n    label: \"YAML\",\n    placeholder: \"/data/yaml\",\n    value: \"yaml\",\n  },\n  {\n    label: \"Shutdown\",\n    placeholder: \"/action/shutdown\",\n    value: \"shutdown\",\n  },\n  {\n    label: \"Ready\",\n    placeholder: \"/status/isready\",\n    value: \"ready\",\n  },\n]\n","import React, { ChangeEvent } from \"react\"\nimport { Col, FormInput } from \"shards-react\"\nimport { SettingName } from \"../../redux/settings/settings.types\"\n\ntype Props = {\n  colSpan?: number\n  label: string\n  value: SettingName\n  placeholder: string\n  onChange: (e: ChangeEvent<HTMLInputElement>) => void\n}\n\nexport default function FormItem({\n  colSpan = 6,\n  label,\n  value,\n  placeholder,\n  onChange,\n}: Props) {\n  return (\n    <Col md={colSpan} className=\"form-group\">\n      <label>{label}</label>\n      <FormInput\n        data-name={label.replaceAll(\" \", \"\")}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n      />\n    </Col>\n  )\n}\n","import { State } from \"../index\";\n\nexport const selectSettings = (state: State) => state.settingsState.settings;\n","import React, { useState } from \"react\"\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Form,\n  Row,\n} from \"shards-react\"\nimport { Collapse } from \"react-bootstrap\"\n\nimport { advancedOptions, baseOptions } from \"./options\"\nimport FormItem from \"./FormItem\"\nimport { SettingName, SettingUpdate } from \"../../redux/settings/settings.types\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { updateSettings } from \"../../redux/settings/settings.actions\"\nimport { selectSettings } from \"../../redux/settings/settings.selectors\"\n\nfunction SettingsCard() {\n  const [updates, setUpdates] = useState<SettingUpdate>({})\n  const [expanded, setExpanded] = useState(false)\n\n  const settings = useSelector(selectSettings)\n\n  const dispatch = useDispatch()\n\n  function changeSetting(setting: SettingName, value: string) {\n    const newUpdates: SettingUpdate = { ...updates }\n    newUpdates[setting] = value\n    setUpdates(newUpdates)\n  }\n\n  function saveChanges() {\n    dispatch(updateSettings(updates))\n  }\n\n  function toggleExpand() {\n    setExpanded(!expanded)\n  }\n\n  return (\n    <Card small className=\"mb-4\">\n      <CardHeader className=\"border-bottom\">\n        <h6 className=\"m-0\">Connection Preferences</h6>\n      </CardHeader>\n      <CardBody>\n        <Form>\n          <Row form>\n            {baseOptions.map(({ label, placeholder, value }) => (\n              <FormItem\n                key={value as string}\n                label={label}\n                placeholder={placeholder}\n                value={\n                  (value in updates\n                    ? updates[value]\n                    : settings[value]) as SettingName\n                }\n                onChange={(e) => changeSetting(value, e.target.value)}\n              />\n            ))}\n          </Row>\n          <Row>\n            <Col xs=\"6\">\n              <strong\n                aria-controls=\"collapsed-form\"\n                aria-expanded={expanded}\n                onClick={toggleExpand}\n                className=\"text-primary d-inline-block mb-3 cursor-pointer\"\n              >\n                Advanced{\" \"}\n                <i className=\"material-icons\">\n                  {expanded ? \"arrow_drop_up\" : \"arrow_drop_down\"}\n                </i>\n              </strong>\n            </Col>\n            <Col xs=\"6\" className=\"text-right\">\n              <Button onClick={saveChanges}>Save Changes</Button>\n            </Col>\n          </Row>\n          <Collapse in={expanded}>\n            <div id=\"collapsed-form\">\n              <strong className=\"text-muted d-block mb-3\">Endpoints</strong>\n              <Row form>\n                {advancedOptions.map(({ label, placeholder, value }) => (\n                  <FormItem\n                    key={value}\n                    label={label}\n                    placeholder={placeholder}\n                    value={\n                      (value in updates\n                        ? updates[value]\n                        : settings[value]) as SettingName\n                    }\n                    onChange={(e) =>\n                      changeSetting(value as SettingName, e.target.value)\n                    }\n                  />\n                ))}\n              </Row>\n            </div>\n          </Collapse>\n        </Form>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default SettingsCard\n","import { updateSettingsAction, SettingUpdate } from \"./settings.types\";\nimport { UPDATE_SETTINGS } from \"./settings.constants\";\n\nexport function updateSettings(settings: SettingUpdate): updateSettingsAction {\n  return {\n    type: UPDATE_SETTINGS,\n    payload: settings,\n  };\n}\n","import React from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\nimport SettingsCard from \"../components/Settings/Settings\";\n\nclass SettingsView extends React.Component {\n  render = () => {\n    return (\n      <Container fluid className=\"main-content-container px-4\">\n        <Row noGutters className=\"page-header mb-4\">\n          <PageTitle\n            title=\"Settings\"\n            className=\"text-sm-left mb-3\"\n          />\n        </Row>\n        <SettingsCard />\n      </Container>\n    );\n  };\n}\n\nexport default SettingsView;\n","import axios from \"axios\"\nimport * as queryString from \"query-string\"\nimport { FilterParams } from \"../redux/hub/hub.types\"\n\nconst HUB_API_ENDPOINT = process.env.REACT_APP_HUB_API!\n\nexport const getHubImages = async (filters: FilterParams) => {\n  const response = await axios.get(HUB_API_ENDPOINT + \"/images\", {\n    params: filters,\n    paramsSerializer: (params) => serializeQueryParams(params),\n  })\n\n  return response.data\n}\n\nexport const getDocumentationHTML = async (url: string) => {\n  const rawMarkdownURL = getRawMarkdownURL(url)\n  const rawMarkdownResponse = await axios.get(rawMarkdownURL)\n  const HTMLResponse = await axios.post(\"https://api.github.com/markdown\", {\n    text: rawMarkdownResponse.data,\n  })\n\n  return HTMLResponse.data\n}\n\nexport const serializeQueryParams = (params: {\n  kind: string[]\n  type: string[]\n  somethingUndefined: undefined\n  emptyArray: never[]\n}) => queryString.stringify(params, { arrayFormat: \"comma\", skipNull: true })\n\nexport const getRawMarkdownURL = (url: string): string => {\n  const defaultRawMarkdownURL =\n    \"https://raw.githubusercontent.com/jina-ai/jina-hub/master/README.md\"\n\n  return url.includes(\"/blob/master/\")\n    ? url.replace(\"github\", \"raw.githubusercontent\").replace(\"/blob\", \"\")\n    : defaultRawMarkdownURL\n}\n","import {\n  FETCH_HUB_IMAGES,\n  FETCH_HUB_IMAGES_SUCCESS,\n  FETCH_HUB_IMAGES_FAILURE,\n  PICK_FILTER,\n  CLEAR_FILTERS,\n} from \"./hub.constants\"\nimport {\n  HubActionTypes,\n  HubImage,\n  FetchHubImagesSuccessAction,\n  FetchHubImagesFailureAction,\n  PickFilterAction,\n  ClearFiltersAction,\n} from \"./hub.types\"\nimport { Dispatch } from \"redux\"\nimport { getHubImages } from \"../../services/hubApi\"\nimport { FilterParams } from \"../hub/hub.types\"\nimport { AppThunk } from \"..\"\n\nconst defaultParams = { kind: [], keywords: [] }\n\nexport const fetchHubImages = (\n  filters: FilterParams = defaultParams\n): AppThunk<Promise<void>> => async (dispatch: Dispatch<HubActionTypes>) => {\n  try {\n    dispatch({\n      type: FETCH_HUB_IMAGES,\n    })\n\n    const images = await getHubImages(filters)\n\n    dispatch(fetchHubImagesSuccess(images))\n  } catch (e) {\n    dispatch(fetchHubImagesFailure(e))\n  }\n}\n\nconst fetchHubImagesSuccess = (\n  images: HubImage[]\n): FetchHubImagesSuccessAction => {\n  return {\n    type: FETCH_HUB_IMAGES_SUCCESS,\n    payload: { images },\n  }\n}\n\nconst fetchHubImagesFailure = (error: Error): FetchHubImagesFailureAction => {\n  return {\n    type: FETCH_HUB_IMAGES_FAILURE,\n    payload: { error },\n  }\n}\n\nexport const pickFilter = (filter: string): PickFilterAction => {\n  return {\n    type: PICK_FILTER,\n    payload: { filter },\n  }\n}\n\nexport const clearFilters = (filters: string[]): ClearFiltersAction => {\n  return {\n    type: CLEAR_FILTERS,\n    payload: { filters },\n  }\n}\n","export default __webpack_public_path__ + \"static/media/hub-icon.9262f61f.svg\";","import React from \"react\"\nimport Card from \"@material-ui/core/Card\"\nimport styled from \"@emotion/styled\"\nimport { useHistory } from \"react-router-dom\"\nimport { Button } from \"@material-ui/core\"\nimport hubIconSource from \"../../assets/icons/hub-icon.svg\"\n\nconst HubOverviewActionCard = styled(Card)`\n  max-height: 11rem;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 1.5rem;\n  background: ${(props) =>\n    `linear-gradient(269.3deg, ${props.theme.palette.primary.main} 16.55%, ${props.theme.palette.primary.light} 89.83%)`};\n`\nconst HubOverviewActionCardContent = styled.div`\n  flex-direction: column;\n`\nconst HubOverviewTitle = styled.h6`\n  font-size: 1.25rem;\n  font-weight: 500;\n  color: ${(props) => props.theme.palette.background.default};\n`\nconst HubIcon = styled.img`\n  width: 8rem;\n`\nconst HubOverviewDescription = styled.div`\n  font-weight: 400;\n  color: ${(props) => props.theme.palette.background.default};\n`\nconst HubOverviewButtonsContainer = styled.div`\n  margin-top: 2rem;\n`\nconst PrimaryActionButton = styled(Button)`\n  background-color: ${(props) => props.theme.palette.background.default};\n  color: ${(props) => props.theme.palette.primary.main};\n  margin-right: 1.5rem;\n  &:hover {\n    border-color: ${(props) => props.theme.palette.background.default};\n    background-color: ${(props) => props.theme.palette.primary.main};\n    color: ${(props) => props.theme.palette.background.default};\n  }\n`\nconst SecondaryActionButton = styled(Button)`\n  color: ${(props) => props.theme.palette.background.default};\n  border-color: ${(props) => props.theme.palette.background.default};\n  margin-right: 1.5rem;\n  &:hover {\n    border-color: ${(props) => props.theme.palette.background.default};\n    background-color: ${(props) => props.theme.palette.background.default};\n    color: ${(props) => props.theme.palette.primary.main};\n  }\n`\n\nconst HubOverviewActionsContainer = () => {\n  const history = useHistory()\n\n  return (\n    <HubOverviewActionCard>\n      <HubOverviewActionCardContent>\n        <HubOverviewTitle data-name=\"title\">Jina Hub</HubOverviewTitle>\n        <HubOverviewDescription>\n          Discover images created by the community in a centralized registry or\n          create your own images\n        </HubOverviewDescription>\n        <HubOverviewButtonsContainer>\n          <PrimaryActionButton\n            data-name=\"primaryActionButton\"\n            variant=\"contained\"\n            disableElevation\n            onClick={() => history.push(\"/hub/explore\")}\n          >\n            Browse\n          </PrimaryActionButton>\n          <SecondaryActionButton\n            data-name=\"secondaryActionButton\"\n            variant=\"outlined\"\n            onClick={() => history.push(\"/flow\")}\n          >\n            Create\n          </SecondaryActionButton>\n        </HubOverviewButtonsContainer>\n      </HubOverviewActionCardContent>\n      <HubIcon src={hubIconSource} alt=\"Hub Icon\" />\n    </HubOverviewActionCard>\n  )\n}\n\nexport default HubOverviewActionsContainer\n","import React from \"react\"\nimport Card from \"@material-ui/core/Card\"\nimport styled from \"@emotion/styled\"\nimport { Link } from \"react-router-dom\"\nimport { capitalizeFirstLetter } from \"../../helpers/format\"\n\ntype HubImagePreview = {\n  name: string\n  author: string\n  description: string\n  kind: string\n  keywords: string[]\n}\n\ntype Props = {\n  image: HubImagePreview\n  index: number\n}\n\nconst ImageCardContainer = styled(Card)`\n  height: 100%;\n  padding: 1rem;\n  box-shadow: none;\n  border: 1px solid ${(props) => props.theme.palette.grey[300]};\n  background-color: ${(props) => props.theme.palette.background.default};\n`\ntype TagProps = {\n  filterColorIndex: number\n}\nexport const Tag = styled.div<TagProps>`\n  ${({ filterColorIndex, theme }) => {\n    const filterPalette = theme.palette.filters\n\n    return `background: ${\n      filterPalette[filterColorIndex % filterPalette.length].main\n    };\n            color: ${\n              filterPalette[filterColorIndex % filterPalette.length]\n                .contrastText\n            };`\n  }}\n  border-radius: 0.25rem;\n  display: inline-block;\n  padding: 0.35rem 0.75rem;\n  margin-right: 1rem;\n  margin-bottom: 1rem;\n  white-space: nowrap;\n`\nconst ImageTitle = styled.div`\n  font-size: 1rem;\n  font-weight: 500;\n  line-height: 1.5rem;\n  font-family: \"Roboto\";\n  margin-bottom: 0.75rem;\n`\nconst ImageLink = styled(Link)`\n  color: unset;\n  margin-top: 1rem;\n  &:hover {\n    text-decoration: none;\n  }\n`\nconst ImageDescription = styled.p`\n  font-family: \"Roboto\";\n  font-size: 0.875rem;\n  font-weight: 400;\n  color: ${(props) => props.theme.palette.grey[700]};\n  word-break: break-word;\n`\n\nexport default function ImageCard({ image, index }: Props) {\n  let { name, keywords, kind, description } = image\n\n  return (\n    <ImageLink to={`/package/${kind}/${index}`}>\n      <ImageCardContainer data-name=\"hubImage\">\n        <ImageTitle>{name}</ImageTitle>\n        {keywords.map((keyword, index) => (\n          <Tag data-name=\"hubImageTags\" key={index} filterColorIndex={index}>\n            {capitalizeFirstLetter(keyword)}\n          </Tag>\n        ))}\n        <ImageDescription>{description}</ImageDescription>\n      </ImageCardContainer>\n    </ImageLink>\n  )\n}\n","import { State } from \"../index\"\nimport { FilterCategory } from \"./hub.types\"\n\n// Todo: Ideally, we shouldn't remove keywords. This should be fixed with providing correct data\nconst tagsToHide = [\n  \"Some keywords to describe the executor\",\n  \"separated by commas\",\n]\n\nconst filters = {\n  \"Executor type\": [\n    \"Classifier\",\n    \"Evaluator\",\n    \"Crafter\",\n    \"Segementer\",\n    \"Ranker\",\n    \"Indexer\",\n    \"Encoder\",\n  ],\n  \"Domain space\": [\n    \"Text\",\n    \"Audio\",\n    \"Video\",\n    \"Image\",\n    \"Cross modal\",\n    \"Multi modal\",\n    \"PDF\",\n  ],\n  Libraries: [\n    \"Tensorflow\",\n    \"Keras\",\n    \"Numpy\",\n    \"Pytorch\",\n    \"Onnx\",\n    \"Transformers\",\n    \"sklearn\",\n    \"PaddlePaddle\",\n    \"librosa\",\n    \"nltk\",\n  ],\n  Language: [\"English\", \"Chinese\", \"Multilingual\"],\n}\n\ntype FilterKeyType = keyof typeof filters\n\nexport const selectHubFilters = (state: State): FilterCategory[] => {\n  const currentFilters = Object.keys(filters).map((filterKey) => {\n    const applicableFilters = [\n      ...state.hubState.images.map((image) => image.kind),\n      ...state.hubState.images.reduce(\n        (acc, image) => [...acc, ...image.keywords],\n        [] as string[]\n      ),\n    ]\n    return {\n      filterLabel: filterKey,\n      values: filters[filterKey as FilterKeyType].map((filterValue) => ({\n        name: filterValue,\n        selected: state.hubState.selectedFilters.includes(filterValue),\n        count: getImagesCountForFilter(filterValue, applicableFilters),\n      })),\n    }\n  })\n  return currentFilters\n}\n\nexport const getImagesCountForFilter = (\n  filter: string,\n  applicableFilters: string[]\n): number => {\n  return applicableFilters.filter(\n    (f) => f.toLowerCase() === filter.toLowerCase()\n  ).length\n}\n\nexport const selectHubImages = (state: State) =>\n  state.hubState.images.map((image) => {\n    const keywords = image.keywords\n    return {\n      ...image,\n      keywords: keywords.filter((keyword) => !tagsToHide.includes(keyword)),\n    }\n  })\n\nexport const selectIsHubImagesLoading = (state: State) => state.hubState.loading\n\nexport const selectHubImagesFetchError = (state: State) => state.hubState.error\n","import React from \"react\"\nimport ImageCard from \"./ImageCard\"\nimport styled from \"@emotion/styled\"\nimport Card from \"@material-ui/core/Card\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { useSelector } from \"react-redux\"\nimport {\n  selectHubImages,\n  selectIsHubImagesLoading,\n} from \"../../redux/hub/hub.selectors\"\nimport SpinningLoader from \"../Common/SpinningLoader\"\n\nexport const SubTitle = styled.div`\n  font-family: \"Roboto\";\n  font-weight: 500;\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n  padding-bottom: 1.25rem;\n  color: ${(props) => props.theme.palette.text.primary};\n`\nconst ImageListPreviewContainer = styled(Card)`\n  margin-top: 2rem;\n  padding: 1.5rem;\n  background-color: ${(props) => props.theme.palette.background.default};\n`\nconst HubImagesListPreview = () => {\n  const hubImages = useSelector(selectHubImages).slice(0, 6)\n  const isHubImagesLoading = useSelector(selectIsHubImagesLoading)\n\n  return (\n    <ImageListPreviewContainer>\n      {isHubImagesLoading ? (\n        <SpinningLoader />\n      ) : (\n        <>\n          <SubTitle data-name=\"hubImagesPreviewSubtitle\">Latest</SubTitle>\n          <Grid container spacing={2}>\n            {hubImages.map((image, index) => (\n              <Grid\n                item\n                xs={4}\n                key={`${image.name}.${image.version}.${image[\"jina-version\"]}`}\n              >\n                <ImageCard image={image} index={index} />\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      )}\n    </ImageListPreviewContainer>\n  )\n}\n\nexport default HubImagesListPreview\n","import React, { useState } from \"react\"\nimport styled from \"@emotion/styled\"\nimport { Button } from \"@material-ui/core\"\nimport { FilterCategory } from \"../../redux/hub/hub.types\"\nimport { Theme, useTheme } from \"@emotion/react\"\n\ntype CheckboxLabelProps = {\n  selected: boolean\n  highlightColor?: string\n  filterCategoryIndex: number\n  theme: Theme\n}\n\nconst ToggleButton = styled(Button)`\n  background-color: ${(props: CheckboxLabelProps) =>\n    props.selected\n      ? \"#21A6A6\"\n      : props.theme.palette.filters[props.filterCategoryIndex].main};\n  color: ${(props: CheckboxLabelProps) =>\n    props.selected\n      ? \"white\"\n      : props.theme.palette.filters[props.filterCategoryIndex].contrastText};\n  box-shadow: none;\n  display: flex;\n  margin: 0.5rem 1rem 0.5rem 0;\n  text-transform: none;\n  font-weight: normal;\n\n  &:hover {\n    background-color: #21a6a6;\n    color: white;\n  }\n`\n\ntype FilterButtonProps = {\n  filter: FilterCategory\n  value: boolean\n  label: string\n  filterCategoryIndex: number\n  index: number\n  count: number\n  handleFilterChange: (\n    filterCategoryIndex: number,\n    index: number,\n    value: boolean\n  ) => void\n}\nconst FilterButton = ({\n  value,\n  label,\n  index,\n  count,\n  filterCategoryIndex,\n  handleFilterChange,\n}: FilterButtonProps) => {\n  const [selected, setSelected] = useState(value)\n  const handleFilterSelect = () => {\n    setSelected(!selected)\n    handleFilterChange(filterCategoryIndex, index, !selected)\n  }\n  const theme = useTheme()\n\n  return (\n    <ToggleButton\n      theme={theme}\n      filterCategoryIndex={filterCategoryIndex}\n      variant=\"contained\"\n      selected={value}\n      disabled={count === 0}\n      onClick={() => handleFilterSelect()}\n    >\n      {label} ({count})\n    </ToggleButton>\n  )\n}\n\nexport default FilterButton\n","import React from \"react\"\nimport styled from \"@emotion/styled\"\nimport Button from \"@material-ui/core/Button\"\nimport { useDispatch } from \"react-redux\"\nimport FilterButton from \"./FilterButton\"\nimport { FilterCategory, FilterParams } from \"../../redux/hub/hub.types\"\nimport { pickFilter, clearFilters } from \"../../redux/hub/hub.actions\"\n\ntype HubFilterProps = {\n  filters: FilterCategory[]\n  setFilters: (filters: FilterCategory[]) => void\n  getHubImages: (filters: FilterParams) => void\n}\n\nexport const getSelectedFilters = (filters: FilterCategory[]): FilterParams => {\n  return {\n    kind: getCheckedFilterValues(filters[0]),\n    keywords: [\n      ...getCheckedFilterValues(filters[1]),\n      ...getCheckedFilterValues(filters[2]),\n      ...getCheckedFilterValues(filters[3]),\n    ],\n  }\n}\n\nexport const getCheckedFilterValues = (filter: FilterCategory) => {\n  return filter.values.reduce((acc, { name, selected }) => {\n    return selected ? [...acc, name] : acc\n  }, [] as string[])\n}\n\nconst FiltersTitle = styled.div`\n  font-weight: 500;\n  font-size: 1.25rem;\n  color: ${(props) => props.theme.palette.text.primary};\n`\nconst FilterTitleContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\nconst ClearButton = styled(Button)`\n  color: ${(props) => props.theme.palette.grey[600]};\n`\nconst FiltersContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`\nconst HubFilters = ({ filters, setFilters, getHubImages }: HubFilterProps) => {\n  const dispatch = useDispatch()\n  const handleFilterChange = (\n    filterCategoryIndex: number,\n    index: number,\n    value: boolean\n  ) => {\n    filters[filterCategoryIndex].values[index].selected = value\n    dispatch(pickFilter(filters[filterCategoryIndex].values[index].name))\n    setFilters(filters)\n    getHubImages(getSelectedFilters(filters))\n  }\n  const handleClearFilters = (filterCategoryIndex: number) => {\n    filters[filterCategoryIndex] = {\n      ...filters[filterCategoryIndex],\n      values: filters[filterCategoryIndex].values.map((v) => ({\n        ...v,\n        selected: false,\n      })),\n    }\n    dispatch(\n      clearFilters(\n        filters[filterCategoryIndex].values.map((filter) => filter.name)\n      )\n    )\n    setFilters(filters)\n    getHubImages(getSelectedFilters(filters))\n  }\n  return (\n    <div data-name=\"hubImagesFilter\">\n      {filters &&\n        filters.map((filter: FilterCategory, filterCategoryIndex: number) => (\n          <div key={filterCategoryIndex}>\n            <FilterTitleContainer>\n              <FiltersTitle>{filter.filterLabel}</FiltersTitle>\n              <ClearButton\n                onClick={() => handleClearFilters(filterCategoryIndex)}\n              >\n                Clear All\n              </ClearButton>\n            </FilterTitleContainer>\n            <FiltersContainer>\n              {filter.values.map(({ name, selected, count }, index) => (\n                <FilterButton\n                  filterCategoryIndex={filterCategoryIndex}\n                  filter={filter}\n                  value={selected}\n                  index={index}\n                  key={index}\n                  label={name}\n                  count={count}\n                  handleFilterChange={handleFilterChange}\n                />\n              ))}\n            </FiltersContainer>\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default HubFilters\n","import React from \"react\"\nimport {\n  FormControl,\n  InputBase,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\"\nimport styled from \"@emotion/styled/macro\"\n\ntype Props = {\n  selectedSortOption: string\n  sortOptions: string[]\n  handleSortOption: (event: React.ChangeEvent<{ value: string }>) => void\n}\n\nconst SortSelect = styled(Select)`\n  border-radius: 4px;\n  border: 1px solid #9e9e9e;\n  padding: 0.25rem;\n  padding-left: 1rem;\n  background-color: white;\n`\n\nconst SortLabel = styled(InputLabel)`\n  margin-top: -0.125rem;\n  background-color: ${(props) => props.theme.palette.background.default};\n  padding: 0.25rem;\n`\n\nconst HubSortDropdown = ({\n  selectedSortOption,\n  sortOptions,\n  handleSortOption,\n}: Props) => {\n  return (\n    <FormControl>\n      <SortLabel shrink>Sort</SortLabel>\n      <SortSelect\n        value={selectedSortOption}\n        onChange={handleSortOption}\n        input={<InputBase />}\n        data-name={`selectedHubSortDropdown-${selectedSortOption.replaceAll(\n          \" \",\n          \"_\"\n        )}`}\n      >\n        {sortOptions.map((sortOption) => (\n          <MenuItem\n            data-name={`sortOptionHubSortDropdown-${sortOption.replaceAll(\n              \" \",\n              \"_\"\n            )}`}\n            value={sortOption}\n          >\n            {sortOption}\n          </MenuItem>\n        ))}\n      </SortSelect>\n    </FormControl>\n  )\n}\n\nexport default HubSortDropdown\n","import React, { useEffect, useState, useCallback } from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { fetchHubImages } from \"../../redux/hub/hub.actions\"\nimport {\n  selectHubFilters,\n  selectHubImages,\n  selectHubImagesFetchError,\n  selectIsHubImagesLoading,\n} from \"../../redux/hub/hub.selectors\"\nimport ImageCard from \"./ImageCard\"\nimport HubFilters, { getSelectedFilters } from \"./HubFilters\"\nimport SpinningLoader from \"../Common/SpinningLoader\"\nimport { ExpandingSearchbar } from \"../Common/ExpandingSearchbar\"\nimport {\n  FilterCategory,\n  FilterParams,\n  HubImage,\n} from \"../../redux/hub/hub.types\"\nimport styled from \"@emotion/styled\"\nimport { Grid } from \"@material-ui/core\"\nimport HubSortDropdown from \"./HubSortDropdown\"\nimport { sortOptions } from \"../../redux/hub/hub.constants\"\nimport {\n  sortHubImagesAuthorsDecreasing,\n  sortHubImagesAuthorsIncreasing,\n  sortHubImagesNamesDecreasing,\n  sortHubImagesNamesIncreasing,\n} from \"../../helpers/hubHelpers\"\n\nconst sortHubImages = (images: HubImage[], selectedSortOption: string) => {\n  switch (selectedSortOption) {\n    case \"name increasing\":\n      return sortHubImagesNamesIncreasing(images)\n    case \"name decreasing\":\n      return sortHubImagesNamesDecreasing(images)\n    case \"author increasing\":\n      return sortHubImagesAuthorsIncreasing(images)\n    case \"author decreasing\":\n      return sortHubImagesAuthorsDecreasing(images)\n  }\n}\n\nconst HubLibraryGrid = styled(Grid)`\n  background-color: ${(props) => props.theme.palette.background.default};\n  border: 1px solid ${(props) => props.theme.palette.grey[300]};\n`\n\nconst HubLibraryHeaderGrid = styled(Grid)`\n  padding: 1rem;\n  border-bottom: 1px solid ${(props) => props.theme.palette.grey[300]};\n`\n\nconst FilterContainerGrid = styled(Grid)`\n  padding: 24px 16px;\n  border-right: 1px solid ${(props) => props.theme.palette.grey[300]};\n`\n\nconst ImagesContainerGrid = styled(Grid)`\n  padding: 24px 16px;\n`\n\nconst ImagesBarGrid = styled(Grid)`\n  margin-bottom: 24px;\n`\n\nconst EmptyResultMessage = styled.h3`\n  margin-top: 25px;\n  text-align: center;\n`\n\nconst HubImagesList = () => {\n  const dispatch = useDispatch()\n  const imageFilters = useSelector(selectHubFilters)\n  const isHubImagesLoading = useSelector(selectIsHubImagesLoading)\n  const hubImagesFetchError = useSelector(selectHubImagesFetchError)\n  const [filters, setFilters] = useState([] as FilterCategory[])\n  const [searchString, setSearchString] = useState(\"\")\n  const [selectedSortOption, setSelectedSortOption] = useState(sortOptions[0])\n  const hubImagesUnsorted = useSelector(selectHubImages)\n  const hubImages = sortHubImages(hubImagesUnsorted, selectedSortOption)\n\n  if (hubImages?.length === 0 && !isHubImagesLoading && !hubImagesFetchError) {\n    dispatch(fetchHubImages())\n  }\n\n  useEffect(() => {\n    hubImages && setFilters(imageFilters)\n  }, [hubImages]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getHubImages = useCallback(\n    (filters: FilterParams, searchQuery = searchString) => {\n      dispatch(fetchHubImages({ ...filters, name: searchQuery }))\n    },\n    [dispatch, searchString]\n  )\n\n  const onSearch = (searchQuery: string | number) => {\n    getHubImages(getSelectedFilters(filters), searchQuery)\n  }\n\n  const handleSortOption = (event: React.ChangeEvent<{ value: string }>) => {\n    setSelectedSortOption(event.target.value)\n  }\n\n  return (\n    <>\n      {isHubImagesLoading ? (\n        <SpinningLoader />\n      ) : (\n        <HubLibraryGrid container>\n          <HubLibraryHeaderGrid item xs={12}>\n            <h3 style={{ margin: 0 }}>\n              Hub / <span style={{ fontWeight: 700 }}>Library</span>\n            </h3>\n          </HubLibraryHeaderGrid>\n          <FilterContainerGrid container item xs={3}>\n            <HubFilters\n              filters={filters}\n              setFilters={setFilters}\n              getHubImages={getHubImages}\n            />\n          </FilterContainerGrid>\n          <ImagesContainerGrid container item xs={9}>\n            <ImagesBarGrid container item xs={12}>\n              <Grid item xs={9}>\n                <HubSortDropdown\n                  selectedSortOption={selectedSortOption}\n                  sortOptions={sortOptions}\n                  handleSortOption={handleSortOption}\n                />\n              </Grid>\n              <Grid item xs={3}>\n                <ExpandingSearchbar\n                  value={searchString}\n                  onChange={setSearchString}\n                  onSearch={onSearch}\n                />\n              </Grid>\n            </ImagesBarGrid>\n\n            {hubImages?.length ? (\n              <Grid spacing={2} item container data-name=\"hubImagesList\">\n                {hubImages.map((image, index) => (\n                  <Grid\n                    item\n                    key={`${image.name}.${image.version}.${image[\"jina-version\"]}`}\n                    xs={6}\n                  >\n                    <ImageCard image={image} index={index} />\n                  </Grid>\n                ))}\n              </Grid>\n            ) : (\n              <EmptyResultMessage>\n                No images matching your search were found\n              </EmptyResultMessage>\n            )}\n          </ImagesContainerGrid>\n        </HubLibraryGrid>\n      )}\n    </>\n  )\n}\n\nexport default HubImagesList\n","import { HubImage } from \"../redux/hub/hub.types\"\n\nexport const sortHubImagesNamesIncreasing = (images: HubImage[]) =>\n  images.sort((imageA, imageB) =>\n    imageA.name < imageB.name ? -1 : imageA.name > imageB.name ? 1 : 0\n  )\n\nexport const sortHubImagesNamesDecreasing = (images: HubImage[]) =>\n  images.sort((imageA, imageB) =>\n    imageA.name > imageB.name ? -1 : imageA.name < imageB.name ? 1 : 0\n  )\n\nexport const sortHubImagesAuthorsIncreasing = (images: HubImage[]) =>\n  images.sort((imageA, imageB) =>\n    imageA.author < imageB.author ? -1 : imageA.author > imageB.author ? 1 : 0\n  )\n\nexport const sortHubImagesAuthorsDecreasing = (images: HubImage[]) =>\n  images.sort((imageA, imageB) =>\n    imageA.author > imageB.author ? -1 : imageA.author < imageB.author ? 1 : 0\n  )\n","import React from \"react\"\nimport styled from \"@emotion/styled\"\nimport {\n  TextFields as TextIcon,\n  Image as ImageIcon,\n  Videocam as VideoIcon,\n  Audiotrack as AudioIcon,\n} from \"@material-ui/icons\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { SubTitle } from \"./HubImagesListPreview\"\n\nconst recommendedCategories = [\n  { label: \"Text\", icon: TextIcon },\n  { label: \"Image\", icon: ImageIcon },\n  { label: \"Video\", icon: VideoIcon },\n  { label: \"Audio\", icon: AudioIcon },\n]\n\nconst CardWithOutline = styled.div`\n  border-radius: 0.25rem;\n  border: 1px solid ${(props) => props.theme.palette.grey[300]};\n  background: ${(props) => props.theme.palette.background.default};\n  margin-top: 2rem;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n`\nconst RecommendedCategoryItem = styled.div`\n  border-radius: 0.25rem;\n  border: 1px solid ${(props) => props.theme.palette.grey[300]};\n  margin: 0.5rem;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  svg {\n    width: 3rem;\n    height: 3rem;\n  }\n`\nconst CategoryLabel = styled.span`\n  font-weight: 400;\n  font-size: 1.5rem;\n  color: ${(props) => props.theme.palette.action.disabled};\n`\n\nconst HubRecommendedCategories = () => (\n  <CardWithOutline>\n    <SubTitle>Recommended Categories</SubTitle>\n    <Grid container>\n      {recommendedCategories.map((category, index) => (\n        <Grid item xs={3} key={index}>\n          <RecommendedCategoryItem>\n            <category.icon color=\"primary\" />\n            <CategoryLabel>{category.label}</CategoryLabel>\n          </RecommendedCategoryItem>\n        </Grid>\n      ))}\n    </Grid>\n  </CardWithOutline>\n)\n\nexport default HubRecommendedCategories\n","import React, { useEffect } from \"react\"\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\"\nimport { useDispatch } from \"react-redux\"\nimport { fetchHubImages } from \"../redux/hub/hub.actions\"\nimport HubOverviewActionsContainer from \"../components/Hub/HubOverviewActionsContainer\"\nimport HubImagesListPreview from \"../components/Hub/HubImagesListPreview\"\nimport HubImagesList from \"../components/Hub/HubImagesList\"\nimport HubRecommendedCategories from \"../components/Hub/HubRecommendedCategories\"\n\nconst HubView = () => {\n  const { path } = useRouteMatch()\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(fetchHubImages())\n  }, [dispatch])\n\n  return (\n    <div className=\"px-4\">\n      <Switch>\n        <Route exact path={path}>\n          <HubOverviewActionsContainer />\n          <HubRecommendedCategories />\n          <HubImagesListPreview />\n        </Route>\n        <Route path={`${path}/explore`}>\n          <HubImagesList />\n        </Route>\n      </Switch>\n    </div>\n  )\n}\n\nexport default HubView\n","export default __webpack_public_path__ + \"static/media/Copy.48b28957.svg\";","import React, { useState } from \"react\"\nimport Snackbar from \"@material-ui/core/Snackbar\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport Copy from \"../../assets/icons/Copy.svg\"\nimport styled from \"@emotion/styled\"\nimport { copyToClipboard } from \"../../helpers/utils\"\n\ntype Props = {\n  codeSnippet: string\n}\n\nconst CodeContainer = styled.div`\n  display: flex;\n  background: ${(props) => props.theme.palette.grey[200]};\n  padding: 0.5rem 1rem;\n  border-radius: 0.125rem;\n`\n\nconst CodeSnippetContainer = styled.div`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`\n\nconst CopyIcon = styled.img`\n  margin-left: 0.5rem;\n  cursor: pointer;\n`\n\nexport default function CodeSnippetWithCopy({ codeSnippet }: Props) {\n  const [openFeedback, setOpenFeedback] = useState(false)\n  const handleCopyClick = () => {\n    copyToClipboard(codeSnippet)\n    if (!openFeedback) setOpenFeedback(true)\n  }\n  const handleClose = () => {\n    setOpenFeedback(false)\n  }\n  const action = (\n    <>\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n        <CloseIcon fontSize=\"small\" />\n      </IconButton>\n    </>\n  )\n  return (\n    <div>\n      <CodeContainer onClick={() => handleCopyClick()}>\n        <CodeSnippetContainer>{codeSnippet}</CodeSnippetContainer>\n        <CopyIcon src={Copy} />\n\n        <Snackbar\n          anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n          open={openFeedback}\n          autoHideDuration={1}\n          action={action}\n          message=\"Command copied\"\n        />\n      </CodeContainer>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Card from \"@material-ui/core/Card\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport { HubImage } from \"../../redux/hub/hub.types\"\nimport styled from \"@emotion/styled\"\nimport { useTheme } from \"@emotion/react\"\nimport { Tag } from \"./ImageCard\"\nimport CodeSnippetWithCopy from \"./CodeSnippetWithCopy\"\n\ntype Props = {\n  image: HubImage\n}\n\nexport const DetailCard = styled(Card)`\n  margin-bottom: 0.75rem;\n  border: 1px solid ${(props) => props.theme.palette.grey[300]};\n  font-family: \"Roboto\";\n  font-size: 0.9rem;\n  box-shadow: unset;\n  background-color: ${(props) => props.theme.palette.background.default};\n`\nconst SectionHeading = styled.div`\n  font-size: 1rem;\n  font-weight: 700;\n  color: ${(props) => props.theme.palette.action.disabled};\n  margin: 0.5rem 0;\n`\nconst DetailsSection = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst getUsageInFlow = (dockerName: string, version: string) =>\n  `\nfrom jina.flow import Flow\nf = Flow().add(uses='${dockerName}:${version}')\n`\nconst getPythonUsage = (dockerName: string, version: string) =>\n  `\n!Flow\npods:\n  my_pod1:\n    image: \"${dockerName}:${version}\"\n`\n\nexport default function ImageDetails({ image }: Props) {\n  const theme = useTheme()\n  let { keywords, platform, author, version } = image\n  let dockerCommand = image[\"docker-command\"]\n  let dockerName = image[\"docker-name\"]\n  return (\n    <>\n      <DetailCard>\n        <CardContent>\n          <DetailsSection>\n            <SectionHeading>Docker Command</SectionHeading>\n            <CodeSnippetWithCopy codeSnippet={dockerCommand} />\n            <SectionHeading>Python Usage</SectionHeading>\n            <CodeSnippetWithCopy\n              codeSnippet={getPythonUsage(dockerName, version)}\n            />\n            <SectionHeading>In a Flow</SectionHeading>\n            <CodeSnippetWithCopy\n              codeSnippet={getUsageInFlow(dockerName, version)}\n            />\n          </DetailsSection>\n        </CardContent>\n      </DetailCard>\n      <DetailCard>\n        <CardContent>\n          <DetailsSection>\n            <SectionHeading>Tags</SectionHeading>\n            <div>\n              {keywords.map((keyword, index) => (\n                <Tag\n                  data-name=\"hubImageTags\"\n                  key={index}\n                  filterColorIndex={index}\n                  theme={theme}\n                >\n                  {keyword}\n                </Tag>\n              ))}\n            </div>\n          </DetailsSection>\n          <DetailsSection>\n            <SectionHeading>Platform</SectionHeading>\n            <div>\n              {platform.map((p, index) => (\n                <Tag\n                  data-name=\"hubImageTags\"\n                  key={index}\n                  filterColorIndex={3}\n                  theme={theme}\n                >\n                  {p}\n                </Tag>\n              ))}\n            </div>\n            <DetailsSection>\n              <SectionHeading>Owner</SectionHeading>\n              <div>{author}</div>\n            </DetailsSection>\n          </DetailsSection>\n        </CardContent>\n      </DetailCard>\n    </>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport styled from \"@emotion/styled\"\nimport { getDocumentationHTML } from \"../../services/hubApi\"\nimport SpinningLoader from \"../Common/SpinningLoader\"\n\ntype Props = {\n  documentation: string\n}\n\nconst ReadmeContainer = styled.div`\n  h1 {\n    font-size: 1rem;\n    font-family: \"Roboto\";\n    font-weight: 500;\n    line-height: 1.5rem;\n    letter-spacing: 0.01rem;\n    color: ${(props) => props.theme.palette.text.primary};\n  }\n  h2 {\n    font-size: 0.85rem;\n    font-weight: 500;\n    letter-spacing: 0.01rem;\n    color: ${(props) => props.theme.palette.primary.main};\n  }\n  p {\n    font-size: 0.85rem;\n    line-height: 1.5rem;\n    color: ${(props) => props.theme.palette.text.secondary};\n    font-family: Roboto;\n  }\n  a {\n    text-decoration: underline;\n  }\n  .code,\n  pre {\n    font-family: \"Monaco\";\n    background: ${(props) => props.theme.palette.grey[200]};\n    padding: 0.5rem;\n  }\n`\n\nexport default function ReadMe({ documentation }: Props) {\n  let [readme, setReadme] = useState(\"\")\n  useEffect(() => {\n    ;(async () => {\n      const readmeHTML = await getDocumentationHTML(documentation)\n      setReadme(readmeHTML)\n    })()\n  }, [documentation])\n  return (\n    <ReadmeContainer>\n      {readme ? (\n        <div className=\"markup\" dangerouslySetInnerHTML={{ __html: readme }} />\n      ) : (\n        <SpinningLoader />\n      )}\n    </ReadmeContainer>\n  )\n}\n","import React from \"react\"\nimport { useParams, useHistory } from \"react-router-dom\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport styled from \"@emotion/styled\"\nimport {\n  selectHubImages,\n  selectIsHubImagesLoading,\n} from \"../redux/hub/hub.selectors\"\nimport { fetchHubImages } from \"../redux/hub/hub.actions\"\nimport ImageDetails, { DetailCard } from \"../components/Hub/ImageDetails\"\nimport Button from \"@material-ui/core/Button\"\nimport Grid from \"@material-ui/core/Grid\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport Readme from \"../components/Hub/Readme\"\nimport SpinningLoader from \"../components/Common/SpinningLoader\"\n\nconst ImageContainer = styled.div`\n  font-family: \"Roboto\";\n  padding: 0 1.75rem;\n`\nconst NavigationButton = styled(Button)`\n  text-transform: none;\n  color: ${(props) => props.theme.palette.text.primary};\n  font-weight: normal;\n  padding: 1.25rem 0;\n`\nconst PackageView = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  let { packageId } = useParams<{ packageId: string }>()\n  const hubImages = useSelector(selectHubImages)\n  const isHubImagesLoading = useSelector(selectIsHubImagesLoading)\n  const image = hubImages[parseInt(packageId, 10)]\n  if (hubImages.length === 0 && !isHubImagesLoading) {\n    dispatch(fetchHubImages())\n  }\n  return (\n    <>\n      {\" \"}\n      {hubImages.length === 0 ? (\n        <SpinningLoader />\n      ) : (\n        <ImageContainer>\n          <NavigationButton onClick={() => history.goBack()}>\n            {\" \"}\n            &lt; Back\n          </NavigationButton>\n          <Grid container spacing={2}>\n            <Grid item xs={8}>\n              <DetailCard>\n                <CardContent>\n                  <Readme documentation={image.documentation} />\n                </CardContent>\n              </DetailCard>\n            </Grid>\n            <Grid item xs={4}>\n              <ImageDetails image={image} />\n            </Grid>\n          </Grid>\n        </ImageContainer>\n      )}\n    </>\n  )\n}\n\nexport default PackageView\n","import axios from \"axios\"\nimport store from \"../redux\"\nimport { setUser, showError } from \"../redux/global/global.actions\"\nimport logger from \"../logger\"\nimport { User } from \"../redux/global/global.types\"\n\nexport async function loginGithub(code: string) {\n  await _getAccessToken(code)\n}\n\nasync function _getAccessToken(code: string) {\n  const lambdaUrl = process.env.REACT_APP_GITHUB_LAMBDA\n  if (lambdaUrl === \"undefined\") {\n    store.dispatch(showError(\"No lambda found\"))\n  } else {\n    try {\n      const response = await axios.get(`${lambdaUrl}?ghcode=${code}`)\n      await _getUserInfo(response.data.access_token)\n    } catch (e) {\n      logger.log(e)\n    }\n  }\n}\n\nasync function _getUserInfo(accessToken: string) {\n  const config = {\n    headers: { Authorization: \"bearer \" + accessToken },\n  }\n  const gitHubApi = process.env.REACT_APP_GITHUB_API\n\n  if (gitHubApi) {\n    try {\n      const response = await axios.get(gitHubApi, config)\n\n      const _json = response.data\n      const user: User = {\n        username: _json.login,\n        displayName: _json.name,\n        emails: [_json.email],\n        id: _json.id,\n        _json,\n      }\n      store.dispatch(setUser(user))\n      window.location.href = \"/\"\n    } catch (e) {\n      logger.log(e)\n    }\n  } else store.dispatch(showError(\"No GithubApi Token found\"))\n}\n","/* eslint jsx-a11y/anchor-is-valid: 0 */\n\nimport React, { useEffect } from \"react\"\nimport { Container, Row, Col, Card, CardBody } from \"shards-react\"\nimport queryString from \"querystring\"\nimport { GithubCode } from \"../redux/global/global.types\"\nimport { loginGithub } from \"../services/github\"\n\nfunction Login() {\n  const client_id = process.env.REACT_APP_CLIENT_ID\n\n  useEffect(() => {\n    const queryParams = queryString.parse(window.location.search)\n    const code = queryParams[\"?code\"] as GithubCode\n    if (code) loginGithub(code)\n  })\n\n  return (\n    <Container fluid className=\"main-content-container px-0\">\n      <Row noGutters className=\"h-100\">\n        <Col lg=\"3\" md=\"5\" className=\"auth-form mx-auto\">\n          <Card>\n            <CardBody>\n              <img\n                className=\"auth-form__logo d-table mx-auto mb-3\"\n                src=\"/jina-light.svg\"\n                style={{ maxWidth: \"100px\" }}\n                alt=\"Jina\"\n              />\n              <h5 className=\"auth-form__title text-center mb-4\">Log in</h5>\n              <a\n                id=\"github-button\"\n                className=\"btn btn-block btn-social btn-github\"\n                href={`https://github.com/login/oauth/authorize?scope=user&client_id=${client_id}`}\n              >\n                <i className=\"fab fa-github\"></i> Sign in with GitHub\n              </a>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nexport default Login\n","import React, { ReactNode } from \"react\";\nimport { Card, Row, Col } from \"react-bootstrap\";\n\ntype Props = {\n  title: ReactNode;\n  content: string;\n  icon: string;\n  theme: string;\n  link: string;\n  dataName: string;\n};\n\nfunction HelpCard({ title, content, icon, theme, link, dataName }: Props) {\n  return (\n    <a\n      className=\"unstyled-link\"\n      href={link}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      data-name={dataName}\n    >\n      <Card className=\"h-100\">\n        <Card.Body className=\"pt-3\">\n          <Row className=\"align-items-center\">\n            <Col xs=\"8\">\n              <h4>{title}</h4>\n            </Col>\n            <Col xs=\"4\">\n              <h1 className=\"float-right\">\n                <span className={`${icon} log-${theme}`} />\n              </h1>\n            </Col>\n          </Row>\n          <Row>\n            <Col>{content}</Col>\n          </Row>\n        </Card.Body>\n      </Card>\n    </a>\n  );\n}\n\nexport { HelpCard };\n","import React from \"react\";\nimport { Container, Row, Col } from \"shards-react\";\nimport { HelpCard } from \"../components/Common/HelpCard\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\n\nconst NotFound = () => (\n  <Container fluid className=\"main-content-container px-4\" data-name=\"helpPage\">\n    <Row noGutters className=\"page-header mb-4\">\n      <PageTitle title=\"Resources\" className=\"text-sm-left mb-3\" />\n    </Row>\n    <Row>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title=\"Jina 101\"\n          content=\"Understanding all key concepts of Jina in 3 minutes!\"\n          link=\"https://101.jina.ai\"\n          icon=\"fas fa-egg\"\n          theme=\"warning\"\n          dataName=\"jina-101-card\"\n        />\n      </Col>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title=\"Jina Docs\"\n          content=\"The best way to learn Jina in depth.\"\n          link=\"https://docs.jina.ai\"\n          icon=\"fas fa-book\"\n          theme=\"primary\"\n          dataName=\"jina-docs-card\"\n        />\n      </Col>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title='Jina \"Hello World\"'\n          content=\"A simple demo of image neural search for Fashion-MNIST.\"\n          link=\"https://github.com/jina-ai/jina#jina-hello-world-\"\n          icon=\"fas fa-globe-europe\"\n          theme=\"error\"\n          dataName=\"jina-hello-world-card\"\n        />\n      </Col>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title={\n            <span>\n              Visit us on <span className=\"text-nowrap\">Github!</span>\n            </span>\n          }\n          content=\"Explore more exciting open-source projects from us.\"\n          link=\"https://opensource.jina.ai\"\n          icon=\"fab fa-github\"\n          theme=\"info\"\n          dataName=\"jina-github-card\"\n        />\n      </Col>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title=\"We are hiring!\"\n          content=\"Join us and build the next neural search eco system!\"\n          link=\"https://www.linkedin.com/company/jinaai/jobs/\"\n          icon=\"fab fa-linkedin\"\n          theme=\"linkedin\"\n          dataName=\"jina-linkedin-card\"\n        />\n      </Col>\n    </Row>\n  </Container>\n);\n\nexport default NotFound;\n","import React from \"react\"\nimport GridLayout from \"react-grid-layout\"\nimport styled from \"@emotion/styled\"\nimport { Card } from \"react-bootstrap\"\nimport { HelpCard } from \"../components/Common/HelpCard\"\nimport HubImagesList from \"../components/Hub/HubImagesList\"\nimport SettingsCard from \"../components/Settings/Settings\"\nimport { LogsView } from \"./LogsView\"\nimport \"react-grid-layout/css/styles.css\"\nimport \"react-resizable/css/styles.css\"\n\nconst GridItem = styled(Card)`\n  overflow-y: hidden;\n  overflow-x: hidden;\n`\n\nconst HomeView = () => {\n  console.log(process.env)\n  const layout = [\n    { i: \"a\", x: 0, y: 0, w: 4, h: 4 },\n    { i: \"b\", x: 1, y: 0, w: 8, h: 10 },\n    { i: \"c\", x: 4, y: 0, w: 3, h: 4 },\n    { i: \"d\", x: 0, y: 1, w: 8, h: 6 },\n  ]\n  return (\n    <GridLayout\n      className=\"layout\"\n      layout={layout}\n      cols={12}\n      rowHeight={30}\n      width={1200}\n    >\n      <GridItem key=\"a\">\n        <SettingsCard />\n      </GridItem>\n      <GridItem key=\"b\">\n        <HubImagesList />\n      </GridItem>\n      <GridItem key=\"c\">\n        <HelpCard\n          title=\"Jina Docs\"\n          content=\"The best way to learn Jina in depth.\"\n          link=\"https://docs.jina.ai\"\n          icon=\"fas fa-book\"\n          theme=\"primary\"\n          dataName=\"jina-docs-card\"\n        />\n      </GridItem>\n      <GridItem key=\"d\">\n        <LogsView />\n      </GridItem>\n    </GridLayout>\n  )\n}\n\nexport default HomeView\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport styled from \"@emotion/styled\"\n\ntype NavigateButtonProps = {\n  label: string\n  path: string\n}\n\nconst NavigationLink = styled(Link)`\n  color: ${(props) => props.theme.palette.grey[600]};\n  font-size: 1.25rem;\n  width: 20%;\n  padding: 1rem;\n  &:hover {\n    text-decoration: none;\n  }\n`\n\nconst NavigateButton = ({ label, path }: NavigateButtonProps) => {\n  return (\n    <>\n      <NavigationLink to={path}> {label} </NavigationLink>\n    </>\n  )\n}\n\nexport default NavigateButton\n","export const configDataList = [\n  \"__init__.py\",\n  \"crafter-image.yml\",\n  \"encode-image.yml\",\n  \"encode-text.yml\",\n  \"filter.yml\",\n  \"index-comp.yml\",\n  \"index-doc.yml\",\n  \"ranker.yml\",\n  \"segment.yml\",\n  \"segmenter.py\",\n  \"weighted_ranker.py\",\n]\nexport const configUrl = \"https://jina-hello-multimodal.s3.amazonaws.com/config\"\n\nexport const indexFlow =\n  \"jtype: Flow\\n\" +\n  \"version: '1'\\n\" +\n  \"with:\\n\" +\n  \"  restful: true\\n\" +\n  \"  port_expose: 45678\\n\" +\n  \"pods:\\n\" +\n  \"  - name: segment\\n\" +\n  \"    uses: segment.yml\\n\" +\n  \"  # first pathway\\n\" +\n  \"  - name: filter_text\\n\" +\n  \"    uses: filter.yml\\n\" +\n  \"    env:\\n\" +\n  \"      filter_mime: text/plain\\n\" +\n  \"  - name: textEncoder\\n\" +\n  \"    uses: encode-text.yml\\n\" +\n  \"  - name: textModIndexer\\n\" +\n  \"    uses: index-comp.yml\\n\" +\n  \"    env:\\n\" +\n  \"      indexer_name: text\\n\" +\n  \"  # second pathway, in parallel\\n\" +\n  \"  - name: filter_image\\n\" +\n  \"    uses: filter.yml\\n\" +\n  \"    env:\\n\" +\n  \"      filter_mime: image/jpeg\\n\" +\n  \"    needs: segment\\n\" +\n  \"  - name: imageCrafter\\n\" +\n  \"    uses: crafter-image.yml\\n\" +\n  \"  - name: imageEncoder\\n\" +\n  \"    uses: encode-image.yml\\n\" +\n  \"  - name: imageModIndexer\\n\" +\n  \"    uses: index-comp.yml\\n\" +\n  \"    env:\\n\" +\n  \"      indexer_name: image\\n\" +\n  \"  # third pathway, in parallel\\n\" +\n  \"  - name: docIndexer\\n\" +\n  \"    uses: index-doc.yml\\n\" +\n  \"    needs: segment\\n\" +\n  \"  # join all parallel works\\n\" +\n  \"  - needs: [docIndexer, imageModIndexer, textModIndexer]\\n\" +\n  \"    name: joiner\"\n\nexport const queryFlow =\n  \"jtype: Flow\\n\" +\n  \"version: '1'\\n\" +\n  \"read_only: true\\n\" +\n  \"with:\\n\" +\n  \"  restful: true\\n\" +\n  \"  port_expose: 45678\\n\" +\n  \"pods:\\n\" +\n  \"  # first pathway\\n\" +\n  \"  - name: filter_text\\n\" +\n  \"    uses: filter.yml\\n\" +\n  \"    env:\\n\" +\n  \"      filter_mime: text/plain\\n\" +\n  \"  - name: textEncoder\\n\" +\n  \"    uses: encode-text.yml\\n\" +\n  \"  - name: textModIndexer\\n\" +\n  \"    uses: index-comp.yml\\n\" +\n  \"    env:\\n\" +\n  \"      indexer_name: text\\n\" +\n  \"  # second pathway, in parallel\\n\" +\n  \"  - name: filter_image\\n\" +\n  \"    uses: filter.yml\\n\" +\n  \"    env:\\n\" +\n  \"      filter_mime: image/jpeg\\n\" +\n  \"    needs: gateway\\n\" +\n  \"  - name: imageCrafter\\n\" +\n  \"    uses: crafter-image.yml\\n\" +\n  \"  - name: imageEncoder\\n\" +\n  \"    uses: encode-image.yml\\n\" +\n  \"  - name: imageModIndexer\\n\" +\n  \"    uses: index-comp.yml\\n\" +\n  \"    env:\\n\" +\n  \"      indexer_name: image\\n\" +\n  \"  # join\\n\" +\n  \"  - needs: [imageModIndexer, textModIndexer]\\n\" +\n  \"    name: joiner\\n\" +\n  \"    uses: _merge_chunks\\n\" +\n  \"  - uses: ranker.yml\\n\" +\n  \"    name: ranker\\n\" +\n  \"  - name: docIndexer\\n\" +\n  \"    uses: index-doc.yml\\n\"\n\nexport const indexData = [\n  {\n    \"1\": 4,\n    \"image_1.jpg\": \"image_4.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"One hand pointing, finger out, thumb up\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 6,\n    \"image_1.jpg\": \"image_6.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A beautiful young girl posing with a gray background.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 3,\n    \"image_1.jpg\": \"image_3.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Medical stitches - puncture wound closed up\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 15,\n    \"image_1.jpg\": \"image_15.jpg\",\n    \"A beautiful young girl posing on a white background.\": \"A happy couple\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 11,\n    \"image_1.jpg\": \"image_11.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Young girl dancing on stage in tutu\\n2,image_2.jpg, A man thinking with a white mask\\n14,image_14.jpg,Businessman with lightbulb head - Thinking process and ideas in a business context\\n10,image_10.jpg,Mother and baby in swimming pool\\n5,image_5.jpg,my hand compared to ancient handprints of anasazi tribes\\n18,image_18.jpg,Young boy dreams of being a superhero - Child imagination and creativity concept\\n8,image_8.jpg,Sulky and angry young kid on the couch\\n12,image_12.jpg,My Baby after bath\\n16,image_16.jpg,Woman sketching a social network on virtual screen\\n17,image_17.jpg,Nice dress (wedding)\\n19,image_19.jpg,Girls with flowers and sharee\\n24,image_24.jpg,Young woman holding purse smiles\\n25,image_25.jpg,A beautiful young girl posing with a white background.\\n20,image_20.jpg,\",\n    FIELD4: ' watching the ducks.\"',\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 28,\n    \"image_1.jpg\": \"image_28.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Silhouette of woman flexing biceps\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 23,\n    \"image_1.jpg\": \"image_23.jpg\",\n    \"A beautiful young girl posing on a white background.\": \"happy swimmer\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 29,\n    \"image_1.jpg\": \"image_29.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Cute young toddler in a sweatshirt and a knit cap\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 26,\n    \"image_1.jpg\": \"image_26.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Attractive caucasian woman looking at camera.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 27,\n    \"image_1.jpg\": \"image_27.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \" Cute little girls with wild hair and a look of mischief.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 30,\n    \"image_1.jpg\": \"image_30.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Young boy in meditation position - tropical beach background\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 32,\n    \"image_1.jpg\": \"image_32.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Hand silhouette in heart shape with sunset in the middle and ocean background\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 33,\n    \"image_1.jpg\": \"image_33.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      'Tattoo says \\\\\"Woman\\\\\" in Chinese',\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 34,\n    \"image_1.jpg\": \"image_34.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Stylish little girl eating a shaved ice snow cone.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 31,\n    \"image_1.jpg\": \"image_31.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Helpful phone operator fields calls.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 40,\n    \"image_1.jpg\": \"image_40.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Small child playing on the beach in the bright sun.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 38,\n    \"image_1.jpg\": \"image_38.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Portrait of woman wearing sunglasses on the beach\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 36,\n    \"image_1.jpg\": \"image_36.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Little girl writing on blackboard - Learning and knowledge concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 37,\n    \"image_1.jpg\": \"image_37.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"beautiful female torso on summer sea backgroung\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 41,\n    \"image_1.jpg\": \"image_41.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Child makes choices on computer touch screen.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 47,\n    \"image_1.jpg\": \"image_47.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Profile of woman against white light box\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 42,\n    \"image_1.jpg\": \"image_42.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Little girl sticks out her tongue in play defiance.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 45,\n    \"image_1.jpg\": \"image_45.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A romantic couple enjoying the sunset in a tropical island\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 43,\n    \"image_1.jpg\": \"image_43.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Hands typing on laptop keyboard - fuzzy looks\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 48,\n    \"image_1.jpg\": \"image_48.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Person connecting and sharing using social media networks - With speech bubbles featuring Facebook, Google Plus, Instagram, Pinterest, Linkedin, Skype, Tumblr, Twitter and Youtube\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 50,\n    \"image_1.jpg\": \"image_50.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"young boy jumping of joy on beach background\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 49,\n    \"image_1.jpg\": \"image_49.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Businessman leader rising in a hot air balloon - Leadership concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 52,\n    \"image_1.jpg\": \"image_52.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \" Man in train station wearing black over ear headphones\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 51,\n    \"image_1.jpg\": \"image_51.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Red haired young woman with lip piercing looks at camera\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 54,\n    \"image_1.jpg\": \"image_54.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Child painting a watercolor\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 53,\n    \"image_1.jpg\": \"image_53.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Neck and back of a head of a sitting man with head turned\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 57,\n    \"image_1.jpg\": \"image_57.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Medical Doctor Studying the Human Body - Concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 59,\n    \"image_1.jpg\": \"image_59.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"An call center professional wearing a white corporate attire\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 58,\n    \"image_1.jpg\": \"image_58.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A statue overlooking the Chicago skyline.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 56,\n    \"image_1.jpg\": \"image_56.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Healthy young woman practicing yoga at sunset on the beach\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 60,\n    \"image_1.jpg\": \"image_60.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Back to school - Study concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 55,\n    \"image_1.jpg\": \"image_55.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Businessman Holding Light Bulb on Chalkboard\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 61,\n    \"image_1.jpg\": \"image_61.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Exitced young pretty woman headshot.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 62,\n    \"image_1.jpg\": \"image_62.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A smiling young healthcare worker in his white clean uniform\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 65,\n    \"image_1.jpg\": \"image_65.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Sunset at the Honey Island Beach\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 63,\n    \"image_1.jpg\": \"image_63.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Sending a newsletter mail to your contacts - Online marketing concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 64,\n    \"image_1.jpg\": \"image_64.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Brown Haired Young Woman In Camel Jacket Looking At Camera\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 69,\n    \"image_1.jpg\": \"image_69.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Dark Roasted Cofee beans\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 68,\n    \"image_1.jpg\": \"image_68.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A girl making a big bubble\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 71,\n    \"image_1.jpg\": \"image_71.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Hand and lightbulb - Creativity and ideas concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 67,\n    \"image_1.jpg\": \"image_67.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Child playfully making circles around his eyes as he faces the camera with the sun in front of him.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 66,\n    \"image_1.jpg\": \"image_66.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Young Woman Jogging at Sunset - Fitness and Health\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 70,\n    \"image_1.jpg\": \"image_70.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Street scene with pedestrians walking through bubbles\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 72,\n    \"image_1.jpg\": \"image_72.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Happy woman in red dress, vintage look.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 73,\n    \"image_1.jpg\": \"image_73.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Businessman having an idea - Problem-solving in a business context\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 74,\n    \"image_1.jpg\": \"image_74.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Hand placing coins on a coin stack with upward arrow - Income and asset growth concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 76,\n    \"image_1.jpg\": \"image_76.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A boy in the desert sunset\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 80,\n    \"image_1.jpg\": \"image_80.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Young woman puts shopping bags over her shoulder.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 75,\n    \"image_1.jpg\": \"image_75.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Medical Human Body Scan - Man and Technology\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 78,\n    \"image_1.jpg\": \"image_78.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Two kids in an old city street\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 83,\n    \"image_1.jpg\": \"image_83.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A young man wearing a brown casual shirt carying a black laptop\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 81,\n    \"image_1.jpg\": \"image_81.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Enjoying a glass of wine is always a pleasure.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 84,\n    \"image_1.jpg\": \"image_84.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A woman with fours bags smelling a flowe\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 77,\n    \"image_1.jpg\": \"image_77.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Binary computer code on human face - Online privacy concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 79,\n    \"image_1.jpg\": \"image_79.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A young man kisses a young woman on the cheek.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 82,\n    \"image_1.jpg\": \"image_82.jpg\",\n    \"A beautiful young girl posing on a white background.\": \"Cute Baby Boy\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 86,\n    \"image_1.jpg\": \"image_86.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Newborn Baby Feet in Mothers Hands\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 87,\n    \"image_1.jpg\": \"image_87.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A foot with part of a knit sock on the needles.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 91,\n    \"image_1.jpg\": \"image_91.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Man with clock head - Slave to time concept\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 85,\n    \"image_1.jpg\": \"image_85.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Female Medical Doctor Analyzing DNA strands\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 88,\n    \"image_1.jpg\": \"image_88.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Sleeping beauty - A naked princess of the woods - Double exposure effect\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 90,\n    \"image_1.jpg\": \"image_90.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Woman in red dress looks over her shoulder.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 93,\n    \"image_1.jpg\": \"image_93.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"A beautiful young girl texting on a cell phone.\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 94,\n    \"image_1.jpg\": \"image_94.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Young woman thinking while facing camera\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 92,\n    \"image_1.jpg\": \"image_92.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Man sitting alone on bench looking at phone\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 96,\n    \"image_1.jpg\": \"image_96.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Only Love is Real - A Couple Embraces Under Light - Drawing with Copyspace\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 95,\n    \"image_1.jpg\": \"image_95.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Woman Working On Laptop - Close-Up of Hands\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n  {\n    \"1\": 98,\n    \"image_1.jpg\": \"image_98.jpg\",\n    \"A beautiful young girl posing on a white background.\":\n      \"Businessman holding a ball with information technology icons\",\n    FIELD4: \"\",\n    FIELD5: \"\",\n    FIELD6: \"\",\n  },\n]\n","import jinadClient from \"./jinad\"\nimport {\n  configDataList,\n  configUrl,\n  indexData,\n  indexFlow,\n  queryFlow,\n} from \"../data/multiModalExample\"\nimport gatewayClient from \"./gatewayClient\"\nimport store from \"../redux\"\nimport { timeout } from \"../helpers/utils\"\nimport axios from \"axios\"\nimport { showBanner } from \"../redux/global/global.actions\"\n\nexport async function multiModalScript() {\n  const configFiles: Blob[] = []\n\n  for (const fileName of configDataList) {\n    const response = await axios.get(configUrl + \"/\" + fileName, {\n      responseType: \"blob\",\n    })\n    const file = new File([response.data], fileName, { type: \"text/plain\" })\n    configFiles.push(file)\n  }\n\n  store.dispatch(showBanner(\"Creating Workspace\", \"success\"))\n  const workspaceResult = await jinadClient.createWorkspace(configFiles)\n\n  store.dispatch(showBanner(\"Starting Index Flow\", \"success\"))\n  const { flow_id } = await jinadClient.startFlow(\n    indexFlow,\n    workspaceResult.workspace\n  )\n  const settings = store.getState().settingsState.settings\n  store.dispatch(showBanner(\"Connecting to gateway\", \"success\"))\n  await gatewayClient.connect(settings, (result) =>\n    store.dispatch(showBanner(\"Connceted to gateway\", \"success\"))\n  )\n\n  store.dispatch(showBanner(\"Start indexing\", \"success\"))\n  for (const dataEntry of indexData) {\n    const data = {\n      id: dataEntry[\"1\"].toString(),\n      image: dataEntry[\"image_1.jpg\"],\n      caption:\n        dataEntry[\"A beautiful young girl posing on a white background.\"],\n    }\n    await gatewayClient.index(JSON.stringify(data))\n    store.dispatch(\n      showBanner(\n        \"Indexed: \" +\n          dataEntry[\"A beautiful young girl posing on a white background.\"],\n        \"success\"\n      )\n    )\n  }\n\n  store.dispatch(showBanner(\"Terminating Flow\", \"success\"))\n  jinadClient.terminateFlow(flow_id)\n  await timeout(1)\n  await jinadClient.terminateFlow(flow_id)\n\n  store.dispatch(showBanner(\"Starting Query Flow\", \"success\"))\n  await jinadClient.startFlow(queryFlow, workspaceResult.workspace)\n  window.open(\n    `https://static.jina.ai/multimodal?port=${\n      store.getState().settingsState.settings.gatewayPort\n    }`,\n    \"_blank\"\n  )\n}\n","import React from \"react\"\nimport styled from \"@emotion/styled\"\nimport { useTheme } from \"@emotion/react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectSelectedWorkspaceId,\n  selectWorkspaces,\n} from \"../../redux/flows/flows.selectors\"\nimport { selectConnectionStatus } from \"../../redux/global/global.selectors\"\nimport {\n  createNewWorkspace,\n  deleteWorkspace,\n  loadWorkspace,\n} from \"../../redux/flows/flows.actions\"\nimport { isFeatureEnabled } from \"../../helpers/featureSwitch\"\nimport { multiModalScript } from \"../../services/multiModalScript\"\n\nconst FALLBACK_WORKSPACE_NAME = \"Untitled workspace\"\n\ntype ConnectionIndicatorProps = {\n  connected: boolean\n  show: boolean\n}\n\nfunction ConnectionIndicator({ connected, show }: ConnectionIndicatorProps) {\n  if (!show) return null\n  return connected ? (\n    <i className=\"material-icons ml-2 text-success\">wifi</i>\n  ) : (\n    <i className=\"material-icons ml-2 text-warning\">wifi_off</i>\n  )\n}\n\nfunction TitleConnectionIndicator({\n  connected,\n  show,\n}: ConnectionIndicatorProps) {\n  if (!show) return null\n  return connected ? (\n    <i className=\"material-icons text-white ml-1 mr-2\">wifi</i>\n  ) : (\n    <i className=\"material-icons text-warning ml-1 mr-2\">wifi_off</i>\n  )\n}\n\ntype DeleteWorkspaceProps = {\n  onClick: () => void\n  idx: number\n}\n\nfunction DeleteButton({ onClick, idx }: DeleteWorkspaceProps) {\n  const Delete = styled.div`\n    cursor: pointer;\n    font-size: 1.15rem;\n    position: absolute;\n    top: 0;\n    right: 0;\n  `\n  return (\n    <Delete>\n      <i\n        data-name={`deleteWorkspaceButton-${idx}`}\n        onClick={onClick}\n        className=\"material-icons\"\n      >\n        delete\n      </i>\n    </Delete>\n  )\n}\n\nexport default function WorkspaceSelection() {\n  const workspaces = useSelector(selectWorkspaces)\n  const selectedWorkspaceId = useSelector(selectSelectedWorkspaceId)\n  const connected = useSelector(selectConnectionStatus)\n  const { palette } = useTheme()\n\n  const dispatch = useDispatch()\n\n  const WorkspaceSelectionMenu = styled.div`\n    font-family: \"Montserrat\", serif;\n    width: 12rem;\n    margin-right: 1.5rem;\n  `\n\n  const SelectedWorkspaceHeader = styled.div`\n    position: relative;\n    font-weight: 600;\n    font-size: 1.25em;\n    color: ${palette.headerTextColor};\n    margin-bottom: 1rem;\n    white-space: nowrap;\n    overflow: hidden;\n  `\n\n  type WorkspaceTabProps = {\n    selected: boolean\n  }\n\n  const WorkspaceTab = styled.div`\n    cursor: pointer;\n    font-weight: ${(props: WorkspaceTabProps) =>\n      props.selected ? \"bold\" : 500};\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-left: 1rem;\n    margin-bottom: 1rem;\n    white-space: nowrap;\n    overflow: hidden;\n    position: relative;\n    padding-top: 0.15rem;\n    padding-bottom: 0.15rem;\n  `\n\n  const WorkspaceTabOverflowHider = styled.div`\n    position: absolute;\n    height: 1.75rem;\n    width: 2rem;\n    top: 0;\n    right: 0;\n    background: linear-gradient(\n      to right,\n      transparent 0%,\n      ${palette.bodyBackground} 40%\n    );\n  `\n\n  const WorkspaceHeader = styled.div`\n    font-weight: 600;\n    font-size: 14px;\n    margin-bottom: 1rem;\n    color: ${palette.headerTextColor};\n  `\n\n  const SubHeader = styled.div`\n    font-weight: 600;\n    font-size: 14px;\n    margin-bottom: 0.5rem;\n    color: ${palette.headerTextColor};\n  `\n\n  const AddButton = styled.span`\n    float: right;\n    cursor: pointer;\n  `\n\n  const FilesList = styled.div`\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    margin-bottom: 1rem;\n    height: 10rem;\n    overflow-y: auto;\n    overflow-x: hidden;\n  `\n\n  const FileItem = styled.div`\n    font-weight: 400;\n    font-size: 0.85rem;\n    padding-top: 0.15rem;\n    padding-bottom: 0.15rem;\n    margin-top: 0.15rem;\n    margin-bottom: 0.15rem;\n    position: relative;\n  `\n\n  const FileIcon = styled.span`\n    opacity: 0.5;\n    margin-right: 0.25em;\n  `\n\n  const userWorkspaces = Object.entries(workspaces).filter(\n    ([id, workspace]) => workspace.type !== \"example\"\n  )\n\n  const exampleWorkspaces = Object.entries(workspaces).filter(\n    ([id, workspace]) => workspace.type === \"example\"\n  )\n\n  const currentWorkspace = workspaces[selectedWorkspaceId]\n\n  const FilesListComponent = () => (\n    <FilesList>\n      {/* TODO: map over actual files, delete actual files */}\n      <FileItem>\n        <FileIcon>\n          <i className=\"material-icons\">file_present</i>\n        </FileIcon>\n        <span>py_modules.py</span>\n        <WorkspaceTabOverflowHider />\n      </FileItem>\n\n      <FileItem>\n        <FileIcon>\n          <i className=\"material-icons\">file_present</i>\n        </FileIcon>\n        <span>py_modules.py</span>\n        <WorkspaceTabOverflowHider />\n      </FileItem>\n\n      <FileItem>\n        <FileIcon>\n          <i className=\"material-icons\">file_present</i>\n        </FileIcon>\n        <span>py_modules.py</span>\n        <WorkspaceTabOverflowHider />\n      </FileItem>\n    </FilesList>\n  )\n\n  return (\n    <WorkspaceSelectionMenu>\n      <SelectedWorkspaceHeader>\n        {currentWorkspace.name || <i>{FALLBACK_WORKSPACE_NAME}</i>}\n        <TitleConnectionIndicator\n          show={currentWorkspace.type === \"remote\"}\n          connected={connected}\n        />\n      </SelectedWorkspaceHeader>\n\n      <SubHeader>\n        Files{\" \"}\n        <AddButton onClick={() => {}}>\n          <i className=\"material-icons\">add</i>\n        </AddButton>\n      </SubHeader>\n      {isFeatureEnabled(\"FILES\") && <FilesListComponent />}\n      <WorkspaceHeader>\n        My Workspaces\n        <AddButton\n          data-name={\"newWorkspaceButton\"}\n          onClick={() => dispatch(createNewWorkspace())}\n        >\n          <i className=\"material-icons\">add</i>\n        </AddButton>\n      </WorkspaceHeader>\n\n      {userWorkspaces.map(([workspaceId, workspace], idx) => (\n        <WorkspaceTab selected={selectedWorkspaceId === workspaceId} key={idx}>\n          <span\n            data-name={`${workspace.name.replaceAll(\" \", \"\")}`}\n            onClick={() => dispatch(loadWorkspace(workspaceId))}\n          >\n            {workspace.name || FALLBACK_WORKSPACE_NAME}\n          </span>\n          <ConnectionIndicator\n            show={workspace.type === \"remote\"}\n            connected={connected}\n          />\n          <WorkspaceTabOverflowHider />\n          <DeleteButton\n            idx={idx}\n            onClick={() => dispatch(deleteWorkspace(workspaceId))}\n          />\n        </WorkspaceTab>\n      ))}\n      <WorkspaceHeader>Example Workspaces</WorkspaceHeader>\n      {exampleWorkspaces.map(([workspaceId, workspace], idx) => (\n        <WorkspaceTab\n          data-name={`exampleWorkspaceButton-${idx}`}\n          selected={selectedWorkspaceId === workspaceId}\n          onClick={() => dispatch(loadWorkspace(workspaceId))}\n          key={idx}\n        >\n          {workspace.name}\n        </WorkspaceTab>\n      ))}\n\n      <WorkspaceTab selected={false} onClick={multiModalScript}>\n        Multi-Modal-Example\n      </WorkspaceTab>\n    </WorkspaceSelectionMenu>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/Play.bef61d4b.svg\";","export default __webpack_public_path__ + \"static/media/Save.fb5eb30a.svg\";","export default __webpack_public_path__ + \"static/media/Stop.484e40df.svg\";","export default __webpack_public_path__ + \"static/media/Upload.3efa525a.svg\";","export default __webpack_public_path__ + \"static/media/Yaml.010ee2a0.svg\";","import React from \"react\"\nimport styled from \"@emotion/styled\"\nimport Play from \"../../assets/icons/Play.svg\"\nimport Save from \"../../assets/icons/Save.svg\"\nimport Stop from \"../../assets/icons/Stop.svg\"\nimport Upload from \"../../assets/icons/Upload.svg\"\nimport Yaml from \"../../assets/icons/Yaml.svg\"\nimport { useDispatch } from \"react-redux\"\nimport { showModal } from \"../../redux/global/global.actions\"\nimport { isFeatureEnabled } from \"../../helpers/featureSwitch\"\n\ntype Props = {\n  importChart: () => void\n  copyChart: () => void\n  exportImage: (format: string) => void\n  startFlow: () => void\n  stopFlow: () => void\n}\n\nconst ButtonGroup = styled.div`\n  height: 3.125rem;\n  background: ${(props) => props.theme.palette.primary.main};\n  border-radius: 8px;\n  display: flex;\n`\n\nconst Button = styled.button`\n  background: ${(props) => props.theme.palette.primary.main};\n  border: 0;\n  margin-right: 1rem;\n  cursor: pointer;\n\n  :focus {\n    outline: 0px;\n  }\n`\n\nconst PlayButton = styled(Button)`\n  margin: 0 2rem;\n`\n\nexport default function CommandBar({\n  startFlow,\n  stopFlow,\n  importChart,\n  copyChart,\n  exportImage,\n}: Props) {\n  const dispatch = useDispatch()\n\n  function handleQuerySearch() {\n    dispatch(showModal(\"QuerySearch\"))\n  }\n\n  function handleExportImage() {\n    exportImage(\"png\")\n  }\n\n  const saveButtonFunction = isFeatureEnabled(\"QUERY_SEARCH\")\n    ? handleQuerySearch\n    : handleExportImage\n  return (\n    <div className=\"command-bar-container\">\n      <div className=\"command-bar\">\n        <ButtonGroup>\n          <PlayButton data-name={\"playButton\"} onClick={startFlow}>\n            <img alt=\"Play\" src={Play} />\n          </PlayButton>\n          <Button data-name={\"stopButton\"} onClick={stopFlow}>\n            <img alt=\"Stop\" src={Stop} />\n          </Button>\n          <Button data-name={\"saveButton\"} onClick={saveButtonFunction}>\n            <img alt=\"Save\" src={Save} />\n          </Button>\n          <Button onClick={importChart}>\n            <img alt=\"Upload\" src={Upload} />\n          </Button>\n          <Button onClick={copyChart}>\n            <img\n              style={{\n                width: \"3rem\",\n                height: \"auto\",\n                marginLeft: \"-0.5rem\",\n                marginTop: \"0.15rem\",\n              }}\n              alt=\"Upload\"\n              src={Yaml}\n            />\n          </Button>\n        </ButtonGroup>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Handle, Position } from \"react-flow-renderer\"\nimport { showModal } from \"../../redux/global/global.actions\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { selectSelectedFlow } from \"../../redux/flows/flows.selectors\"\nimport styled from \"@emotion/styled\"\nimport { useTheme } from \"@emotion/react\"\nimport { FlowNode } from \"../../redux/flows/flows.types\"\n\ntype NodePortProps = {\n  type: \"source\" | \"target\"\n  portDataLabel: string\n}\n\nfunction NodePort({ type, portDataLabel }: NodePortProps) {\n  const theme = useTheme()\n  const NodePortTop = styled(Handle)`\n    margin-top: -0.2rem;\n    background-color: white;\n    width: 1rem;\n    height: 1rem;\n    border-radius: 0.5rem;\n    border: 1px solid ${theme.palette.primary.main};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:after {\n      display: block;\n\n      content: \"\";\n      background-color: #099;\n      color: white;\n      border-radius: 0.25rem;\n      width: 0.5rem;\n      height: 0.5rem;\n    }\n  `\n\n  const NodePortBottom = styled(NodePortTop)`\n    bottom: -0.45rem;\n  `\n  switch (type) {\n    case \"source\":\n      return (\n        <NodePortBottom\n          data-name={`NodePortBottom-${portDataLabel}`}\n          type={type}\n          position={Position.Bottom}\n        />\n      )\n    case \"target\":\n      return (\n        <NodePortTop\n          data-name={`NodePortTop-${portDataLabel}`}\n          type={type}\n          position={Position.Top}\n        />\n      )\n  }\n}\n\ntype SidebarProps = {\n  label: string | undefined\n}\ntype ChartNodeProps = FlowNode | SidebarProps\n\nexport default function ChartNode(props: ChartNodeProps) {\n  const flowType = useSelector(selectSelectedFlow).type\n  const dispatch = useDispatch()\n  const theme = useTheme()\n\n  const ChartNodeElement = styled.div`\n    min-width: 16rem;\n    cursor: move;\n    text-align: center;\n    font-size: 14px;\n    font-weight: 500;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    border-radius: 0.25em;\n    transition: 0.2s;\n    border: 1px solid ${theme.palette.primary.main};\n  `\n\n  function _isFlowNode(prop: ChartNodeProps): prop is FlowNode {\n    return (prop as FlowNode).id !== undefined\n  }\n\n  if (_isFlowNode(props)) {\n    const node = props\n    return (\n      <ChartNodeElement\n        data-name={`chart-node-${node?.data?.label}`}\n        onDoubleClick={() => {\n          flowType === \"user-generated\" &&\n            dispatch(showModal(\"podEdit\", { nodeId: node?.id }))\n        }}\n      >\n        {node.id !== \"gateway\" && (\n          <NodePort\n            portDataLabel={node?.data?.label || node.id}\n            type=\"target\"\n          />\n        )}\n        <div id={`chart-node-${node?.data?.label}`}>\n          <div className=\"node-header\">\n            <div className={`p-1`}>\n              <p className=\"m-1\">\n                <span className=\"text-bold\">\n                  {node?.data?.label || (\n                    <span className=\"text-warning\">Empty Pod</span>\n                  )}\n                </span>\n              </p>\n            </div>\n          </div>\n        </div>{\" \"}\n        <NodePort type=\"source\" portDataLabel={node?.data?.label || node.id} />\n      </ChartNodeElement>\n    )\n  } else\n    return (\n      <ChartNodeElement id={`chart-node-${props.label}`}>\n        <div className=\"node-header\">\n          <div className={`p-1`}>\n            <p className=\"m-1\">\n              <span className=\"text-bold\">\n                {props.label || <span className=\"text-warning\">Empty Pod</span>}\n              </span>\n            </p>\n          </div>\n        </div>\n      </ChartNodeElement>\n    )\n}\n","import * as React from \"react\"\nimport ChartNode from \"./ChartNode\"\nimport { nanoid } from \"nanoid\"\n\ntype Props = {\n  label: string\n  idx: number\n}\n\nexport default function SidebarItem({ label, idx }: Props) {\n  const onDragStart = (event: React.DragEvent<HTMLDivElement>) => {\n    const id = nanoid()\n    const dataString = JSON.stringify({ id, label })\n    event.dataTransfer.setData(\"application/reactflow\", dataString)\n    event.dataTransfer.effectAllowed = \"move\"\n  }\n\n  const ref: React.RefObject<HTMLInputElement> = React.createRef()\n  return (\n    <div\n      data-name={`SideBarItem-${idx}`}\n      ref={ref}\n      className=\"mb-3 draggable-container\"\n      draggable={true}\n      onDragStart={onDragStart}\n    >\n      <ChartNode label={label} />\n    </div>\n  )\n}\n","const dedaultPods = [\n  {},\n  {\n    name: \"reader\",\n    yaml_path: \"pods/extract.yml\",\n  },\n  {\n    name: \"loader\",\n    yaml_path: \"yaml/craft-load.yml\",\n    parallel: 3,\n    read_only: \"true\",\n  },\n  {\n    name: \"splittor\",\n    yaml_path: \"pods/craft-split.yml\",\n    parallel: 3,\n    read_only: \"true\",\n  },\n  {\n    name: \"encoder\",\n    yaml_path: \"pods/encode.yml\",\n    parallel: 3,\n    timeout_ready: 1200000,\n    read_only: \"true\",\n  },\n  {\n    name: \"chunk_indexer\",\n    yaml_path: \"pods/index-chunk.yml\",\n    parallel: 3,\n    separated_workspace: \"true\",\n  },\n  {\n    name: \"doc_indexer\",\n    yaml_path: \"pods/index-doc.yml\",\n  },\n  {\n    name: \"join_all\",\n    yaml_path: \"_merge\",\n    read_only: \"true\",\n  },\n  {\n    name: \"ranker\",\n    yaml_path: \"MinRanker\",\n  },\n  {\n    name: \"flipper\",\n    yaml_path: \"yaml/craft-flip.yml\",\n    parallel: 3,\n    read_only: \"true\",\n  },\n  {\n    name: \"normalizer\",\n    yaml_path: \"yaml/craft-normalize.yml\",\n    parallel: 3,\n    read_only: \"true\",\n  },\n  {\n    name: \"crafter\",\n    yaml_path: \"pods/craft.yml\",\n    read_only: \"true\",\n  },\n  {\n    name: \"chunk_seg\",\n    yaml_path: \"pods/craft.yml\",\n    parallel: 3,\n  },\n];\n\nexport default dedaultPods;\n","import React from \"react\"\nimport SidebarItem from \"./SidebarItem\"\nimport defaultPods from \"../../data/defaultPods\"\nimport { Button, Card } from \"react-bootstrap\"\nimport { FlowArgument } from \"../../redux/flows/flows.types\"\nimport { Elements } from \"react-flow-renderer\"\n\nfunction ReadOnly({ duplicateFlow }: { duplicateFlow: () => void }) {\n  return (\n    <div className=\"readonly-overlay py-4 px-4 text-center\">\n      <h4 className=\"my-4\">\n        <b>\n          This flow is <span className=\"text-muted\">readonly</span>\n        </b>\n      </h4>\n      <p className=\"my-4\">To edit this flow, please duplicate it.</p>\n      <Button onClick={duplicateFlow}>Duplicate Flow</Button>\n    </div>\n  )\n}\n\nfunction PodMenu() {\n  return (\n    <div className=\"d-flex flex-column h-100\">\n      <h5 className=\"px-3 py-2 mb-0 border-bottom\">\n        <b>Add Pods</b>\n      </h5>\n      <div className=\"p-3 scrollable flex-fill\">\n        {defaultPods.map((pod, idx) => {\n          return (\n            <SidebarItem\n              key={`SideBarItem-${idx}`}\n              label={pod.name || \"Empty Pod\"}\n              idx={idx}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\ntype FlowChartSidebarProps = {\n  readonly: boolean\n  elements: Elements\n  duplicateFlow: () => void\n  deleteSelection: () => void\n  arguments: FlowArgument[]\n}\n\nfunction FlowChartSidebar({ readonly, duplicateFlow }: FlowChartSidebarProps) {\n  return (\n    <Card className=\"flowchart-sidebar mb-4\">\n      {readonly ? <ReadOnly duplicateFlow={duplicateFlow} /> : <PodMenu />}\n    </Card>\n  )\n}\n\nexport default FlowChartSidebar\n","import ReactFlow, {\n  Background,\n  OnLoadParams,\n  ReactFlowProps,\n} from \"react-flow-renderer\"\nimport React, { MouseEvent, useRef, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  addLink,\n  addNode,\n  deleteLink,\n  deleteNode,\n  updateNode,\n} from \"../../redux/flows/flows.actions\"\nimport ChartNode from \"./ChartNode\"\nimport { selectSelectedFlow } from \"../../redux/flows/flows.selectors\"\nimport {\n  FlowElement,\n  FlowNode,\n  FlowEdge,\n  NodeConnection,\n} from \"../../redux/flows/flows.types\"\nimport { isFlowNode, isFlowEdge } from \"../../helpers/flow-chart\"\ntype Props = {\n  elements: FlowElement[]\n}\n\nconst nodeTypes = {\n  default: ChartNode,\n}\n\nexport default function FlowChart(props: Props) {\n  const dispatch = useDispatch()\n  const flow = useSelector(selectSelectedFlow)\n  const [\n    reactFlowInstance,\n    setReactFlowInstance,\n  ] = useState<OnLoadParams | null>(null)\n\n  const reactFlowWrapper = useRef<HTMLElement>(null)\n\n  const onConnect = (params: FlowEdge | NodeConnection) => {\n    if (params.source && params.target)\n      dispatch(addLink(params.source, params.target))\n  }\n\n  const onElementsRemove = (elements: FlowElement[]) => {\n    elements.forEach((element) => {\n      if (isFlowEdge(element)) dispatch(deleteLink(element.id))\n      if (isFlowNode(element)) dispatch(deleteNode(element.id))\n    })\n  }\n\n  const onLoad = (_reactFlowInstance: OnLoadParams) =>\n    setReactFlowInstance(_reactFlowInstance)\n\n  const onDragOver = (event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault()\n    event.dataTransfer.dropEffect = \"move\"\n  }\n  const onDrop = (event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault()\n    const reactFlowBounds =\n      reactFlowWrapper?.current?.getBoundingClientRect() || new DOMRect()\n    const data = JSON.parse(event.dataTransfer.getData(\"application/reactflow\"))\n    const position = reactFlowInstance?.project({\n      x: event.clientX - reactFlowBounds.left,\n      y: event.clientY - reactFlowBounds.top,\n    }) || { x: 0, y: 0 }\n    dispatch(addNode(data.id, position, data))\n  }\n\n  const onNodeDragStop = (event: MouseEvent, node: FlowNode) => {\n    dispatch(updateNode(node.id, { position: node.position }))\n  }\n\n  return (\n    <div\n      className=\"reactflow-wrapper\"\n      ref={reactFlowWrapper as React.RefObject<HTMLDivElement>}\n      style={{ height: \"100%\", width: \"100%\" }}\n    >\n      <ReactFlow\n        defaultPosition={[0, 50]}\n        defaultZoom={0.5}\n        elements={props.elements}\n        onConnect={onConnect as ReactFlowProps[\"onConnect\"]}\n        onElementsRemove={onElementsRemove}\n        onLoad={onLoad}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n        onNodeDragStop={onNodeDragStop}\n        nodeTypes={nodeTypes}\n        nodesDraggable={flow.type !== \"example\"}\n      >\n        <Background variant=\"lines\" gap={35} size={1} />\n      </ReactFlow>\n    </div>\n  )\n}\n","import React from \"react\"\nimport styled from \"@emotion/styled\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectFlowsOfSelectedWorkspace,\n  selectSelectedFlowId,\n} from \"../../redux/flows/flows.selectors\"\nimport {\n  createNewFlow,\n  deleteFlow,\n  loadFlow,\n} from \"../../redux/flows/flows.actions\"\n\nexport default function FlowSelection() {\n  const flows = useSelector(selectFlowsOfSelectedWorkspace)\n  const selectedFlowId = useSelector(selectSelectedFlowId)\n\n  const dispatch = useDispatch()\n\n  const TabsContainer = styled.div`\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    line-height: 24px;\n    position: absolute;\n    width: 100%;\n    background: #90a4ae;\n    padding-top: 0.5em;\n    padding-left: 0.25em;\n    padding-right: 0.25em;\n    z-index: 5;\n    border-bottom: 1px solid #cfd8dc;\n\n    &:before {\n      z-index: 5;\n    }\n\n    &:after {\n      position: absolute;\n      content: \"\";\n      width: 100%;\n      bottom: 0;\n      left: 0;\n      border-bottom: 5px solid #eceff1;\n      z-index: 5;\n    }\n  `\n\n  const Tab = styled.div`\n    margin: 0 0.25em;\n    padding: 5px 10px 10px 10px;\n    display: inline-block;\n    border-radius: 0.25em 0.25em 0em 0em;\n    position: relative;\n    cursor: pointer;\n    transition: 0.2s;\n    max-width: 15em;\n    background: ${(props) =>\n      props.className?.includes(\"selected\") ? \"#eceff1\" : \"#b0bec5\"};\n    z-index: ${(props) => (props.className?.includes(\"selected\") ? \"6\" : \"5\")};\n  `\n\n  const AddButton = styled.div`\n    color: white;\n    position: relative;\n    cursor: pointer;\n    display: inline-block;\n    padding: 5px 5px;\n  `\n\n  return (\n    <TabsContainer>\n      {Object.entries(flows).map(([id, flow]) => (\n        <Tab\n          data-name={`flowTab-${id}`}\n          className={selectedFlowId === id ? \"selected\" : \"\"}\n          key={id}\n        >\n          <div className=\"d-flex flex-row\">\n            <span\n              className=\"d-inline-block flex-fill pr-4\"\n              onClick={() => dispatch(loadFlow(id))}\n            >\n              {flow.name}\n            </span>\n            <span\n              data-name={`delete-${id}`}\n              className=\"d-inline-block\"\n              onClick={() => dispatch(deleteFlow(id))}\n            >\n              <i className=\"material-icons\">close</i>\n            </span>\n          </div>\n        </Tab>\n      ))}\n      <AddButton\n        data-name={\"createNewFlowButton\"}\n        onClick={() => dispatch(createNewFlow())}\n      >\n        <i className=\"material-icons\">add</i>\n      </AddButton>\n    </TabsContainer>\n  )\n}\n","import React, { useCallback, useState } from \"react\"\nimport { Card, Container, Row } from \"shards-react\"\nimport { PageTitle } from \"../components/Common/PageTitle\"\nimport WorkspaceSelection from \"../components/FlowChart/WorkspaceSelection\"\nimport {\n  duplicateFlow,\n  startFlow,\n  stopFlow,\n} from \"../redux/flows/flows.actions\"\nimport CommandBar from \"../components/FlowChart/CommandBar\"\n\nimport Sidebar from \"../components/FlowChart/Sidebar\"\nimport styled from \"@emotion/styled\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectFlowArguments,\n  selectSelectedFlow,\n  selectSelectedFlowId,\n} from \"../redux/flows/flows.selectors\"\nimport { showModal } from \"../redux/global/global.actions\"\nimport logger from \"../logger\"\nimport { copyToClipboard, formatAsYAML } from \"../helpers\"\nimport html2canvas from \"html2canvas\"\nimport FlowChart from \"../components/FlowChart/FlowChart\"\nimport FlowSelection from \"../components/FlowChart/FlowSelection\"\n\nconst FlowViewContainer = styled.div`\n  display: flex;\n  min-height: 58rem;\n`\n\nexport default function FlowView() {\n  const dispatch = useDispatch()\n  const selectedFlowId = useSelector(selectSelectedFlowId)\n  const flowArguments = useSelector(selectFlowArguments)\n  const flow = useSelector(selectSelectedFlow)\n  let flowChart = flow?.flowChart\n  let flowType = flow?.type\n\n  const copyChartAsYAML = useCallback(() => {\n    logger.log(\"copyChartAsYAML | chart:\", flowChart)\n    copyToClipboard(formatAsYAML(flowChart, flowArguments))\n    alert(\"Chart copied to clipboard as YAML\")\n  }, [flowChart, flowArguments])\n\n  const [showOverlay, setShowOverlay] = useState<boolean>(false)\n  //todo fix overlay\n  logger.log(\"showOverlay\", showOverlay)\n  const showCaptureOverlay = (showOverlay = true) => {\n    setShowOverlay(showOverlay)\n  }\n\n  const exportImage = (extension = \"png\") => {\n    const chartContainer = document.querySelector(\".reactflow-wrapper\")\n    const captureOverlay = document.querySelector(\".capture-overlay\")\n    if (!chartContainer) return\n    if (captureOverlay) captureOverlay.classList.add(\"fade-out\")\n\n    showCaptureOverlay()\n    setTimeout(() => showCaptureOverlay(false), 500)\n\n    let canvasParams = {\n      foreignObjectRendering: true,\n      logging: true,\n      x: 0,\n      y: 0,\n      scrollX: 0,\n      scrollY: 0,\n      scale: 5,\n    }\n\n    html2canvas(chartContainer as HTMLElement, canvasParams).then((canvas) => {\n      var image = canvas.toDataURL(`image/${extension}`)\n      var link = document.getElementById(\"download-link\")\n      if (!link) return\n      link.setAttribute(\"download\", `jina-flow-visual.${extension}`)\n      link.setAttribute(\"href\", image)\n      link.click()\n    })\n  }\n\n  const handleDuplicateFlow = () => {\n    const flowYAML = formatAsYAML(flowChart, flowArguments)\n    dispatch(duplicateFlow(flowYAML))\n  }\n\n  if (!flowChart) return <>No Flow</>\n\n  return (\n    <Container fluid className=\"main-content-container px-0\">\n      <div className=\"px-4\">\n        <a href=\"/#\" id=\"download-link\" style={{ display: \"none\" }}>\n          download\n        </a>\n        <Row noGutters className=\"page-header mb-4\">\n          <PageTitle title=\"Flow Design\" className=\"text-sm-left mb-3\" />\n        </Row>\n\n        <FlowViewContainer>\n          <WorkspaceSelection />\n          <Card className=\"chart-section-container mr-md-4 mb-4\">\n            <FlowSelection />\n            <CommandBar\n              startFlow={() => dispatch(startFlow(selectedFlowId))}\n              stopFlow={() => dispatch(stopFlow(selectedFlowId))}\n              copyChart={copyChartAsYAML}\n              importChart={() => dispatch(showModal(\"import\"))}\n              exportImage={exportImage}\n            />\n            <FlowChart elements={flowChart.elements} />\n          </Card>\n\n          <Sidebar\n            arguments={flowArguments.pod}\n            duplicateFlow={handleDuplicateFlow}\n            readonly={flowType !== \"user-generated\"}\n            elements={flowChart.elements}\n            deleteSelection={() => {}}\n          />\n        </FlowViewContainer>\n      </div>\n    </Container>\n  )\n}\n","import React from \"react\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Card,\n  CardHeader,\n  CardContent,\n} from \"@material-ui/core\"\n\ntype Route = {\n  pod: string\n  pod_id: string\n  start_time: string\n  end_time?: string\n}\n\ntype RoutesTableProps = {\n  routes: Route[] | undefined\n}\n\nconst getElapsedTime = (\n  startTime: string,\n  endTime: string | undefined\n): string => {\n  if (!startTime || !endTime) return \"Process is still ongoing\"\n\n  const startDate = new Date(startTime)\n  const endDate = new Date(endTime)\n\n  return `${Math.floor(endDate.getTime() - startDate.getTime())} ms`\n}\n\nconst RoutesTable = ({ routes }: RoutesTableProps) => {\n  return (\n    <Card>\n      <CardHeader\n        title=\"Routes (List of Pods)\"\n        titleTypographyProps={{ variant: \"subtitle1\" }}\n      />\n      {routes && routes?.length && (\n        <CardContent>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>Pod</TableCell>\n                <TableCell>Pod Id</TableCell>\n                <TableCell>Start time</TableCell>\n                <TableCell>End time</TableCell>\n                <TableCell>Elapsed Time</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {routes.map((route) => {\n                const { pod_id, pod, start_time, end_time } = route\n                return (\n                  <TableRow key={pod_id}>\n                    <TableCell> {pod} </TableCell>\n                    <TableCell>{pod_id}</TableCell>\n                    <TableCell>{start_time}</TableCell>\n                    <TableCell>{end_time}</TableCell>\n                    <TableCell>\n                      {getElapsedTime(start_time, end_time)}\n                    </TableCell>\n                  </TableRow>\n                )\n              })}\n            </TableBody>\n          </Table>\n        </CardContent>\n      )}\n    </Card>\n  )\n}\n\nexport default RoutesTable\n","import React, { useState } from \"react\"\nimport { Handle, Position } from \"react-flow-renderer\"\nimport Card from \"@material-ui/core/Card\"\nimport styled from \"@emotion/styled\"\nimport { useTheme } from \"@emotion/react\"\nimport { Chunk, Doc, Match, Score } from \"../../views/DebuggingTool\"\nimport { mimeTypeFromDataURI } from \"../../helpers/format\"\nimport {\n  Collapse,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  Typography,\n  Box,\n  Grid,\n  Button,\n  CardHeader,\n} from \"@material-ui/core\"\nimport { ExpandLess, ExpandMore } from \"@material-ui/icons\"\n\nconst NodeImagePreview = styled.img`\n  display: block;\n  max-height: 20rem;\n  max-width: 100%;\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n`\n\nconst VideoContainer = styled.video`\n  display: block;\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n  max-height: 20rem;\n  max-width: 100%;\n`\n\nconst NodeBigText = styled.p`\n  font-size: 1.5rem;\n  margin-bottom: 0.5rem;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n`\n\nconst ListMarker = styled.span`\n  display: inline-block;\n  height: 0.5rem;\n  width: 0.75rem;\n  border-top: 1px solid ${(props) => props.color};\n  margin-right: 0.5rem;\n`\n\nconst WrappedText = styled.div`\n  word-break: break-word;\n  padding-left: 1rem;\n  width: 100%;\n`\n\nconst LightText = styled.i`\n  color: ${(props) => props.color};\n`\n\nconst NodeVideoPreview = ({ src }: { src: string }) => {\n  return <VideoContainer src={src} controls />\n}\n\nconst NodeAudioPreview = ({ src }: { src: string }) => {\n  return <audio src={src} controls />\n}\n\nexport const NodeMediaPreview = ({ uri }: { uri: string }) => {\n  const mime_type = mimeTypeFromDataURI(uri)\n  if (mime_type.startsWith(\"image\")) return <NodeImagePreview src={uri} />\n  if (mime_type.startsWith(\"audio\")) return <NodeAudioPreview src={uri} />\n  if (mime_type.startsWith(\"\")) return <NodeVideoPreview src={uri} />\n  return <>Cannot Preview</>\n}\n\ntype ChartNodeProps = {\n  id: string\n  data: {\n    name: string\n    item: Chunk | Match | Doc\n    onScoreClick: (score: Score) => void\n    hasTop: boolean\n    hasBottom: boolean\n  }\n  isDragging: boolean\n  selected: boolean\n  type: \"chunk\" | \"match\" | \"doc\"\n}\n\nexport const ChartNode = ({\n  data,\n  selected,\n  isDragging,\n  type,\n}: ChartNodeProps) => {\n  const { palette } = useTheme()\n  const { item, onScoreClick, hasTop = true, hasBottom = true, name } = data\n  const parentId = \"parent_id\" in item ? item.parent_id : undefined\n  const score = \"score\" in item ? item.score : undefined\n  const { id: itemId, uri, mime_type, text } = item\n  const elevation = isDragging ? 20 : selected ? 10 : 2\n\n  let style = {}\n\n  if (type === \"match\")\n    style = {\n      backgroundColor: palette.filters[0].main,\n    }\n  else if (type === \"chunk\")\n    style = {\n      backgroundColor: palette.filters[3].main,\n    }\n\n  return (\n    <div>\n      {hasTop && <Handle type=\"source\" position={Position.Top}></Handle>}\n      <Card elevation={elevation} color=\"red\" style={style}>\n        <CardHeader\n          title={name}\n          subheader={`Id: ${itemId}`}\n          style={{ paddingBottom: \".5em\" }}\n          action={\n            score && (\n              <Button size=\"large\" onClick={() => onScoreClick(score as Score)}>\n                score: {score.value || \"0.0\"}\n              </Button>\n            )\n          }\n        />\n        <Box maxWidth=\"30rem\" padding=\"1em\" paddingTop=\"0em\">\n          {text && <NodeBigText>\"{text}\"</NodeBigText>}\n          {uri && <NodeMediaPreview uri={uri} />}\n          <Grid container>\n            <Grid item xs={6}>\n              {mime_type && (\n                <Typography color=\"textSecondary\" gutterBottom>\n                  {mime_type}\n                </Typography>\n              )}\n            </Grid>\n\n            <Grid item xs={6}>\n              <Box textAlign=\"right\"></Box>\n            </Grid>\n          </Grid>\n          <div style={{ backgroundColor: \"#ffffff80\" }}>\n            <PropertyList data={item} key=\"main table\" />\n          </div>\n\n          {parentId && (\n            <Box marginTop=\"0.5rem\">\n              <Typography color=\"textSecondary\">\n                ParentId: {parentId}\n              </Typography>\n            </Box>\n          )}\n        </Box>\n      </Card>\n      {hasBottom && <Handle type=\"target\" position={Position.Bottom}></Handle>}\n    </div>\n  )\n}\n\nexport const PropertyList = ({ data, nested }: any) => {\n  return (\n    <List disablePadding dense>\n      {Object.entries(data).map(([key, value]: any) => (\n        <PropertyListItem\n          key={key}\n          itemKey={key}\n          itemValue={value}\n          nested={nested}\n        />\n      ))}\n    </List>\n  )\n}\n\nexport const PropertyListItem = ({\n  itemKey,\n  itemValue,\n  nested,\n}: {\n  itemKey: string\n  itemValue: any\n  nested?: boolean\n}) => {\n  const [show, setShow] = useState(false)\n  const { palette } = useTheme()\n\n  const toggleShow = () => {\n    setShow((prev) => !prev)\n  }\n\n  let isObject = false\n  if (typeof itemValue === \"object\" && itemValue !== null) {\n    isObject = true\n  }\n\n  return (\n    <div\n      style={{\n        marginLeft: nested ? \"2em\" : \"0px\",\n        borderLeft: `1px solid ${palette.grey[500]}`,\n        backgroundColor: show\n          ? isObject\n            ? `${palette.grey[100]}80`\n            : palette.grey[200]\n          : \"inherit\",\n      }}\n    >\n      <ListItem button onClick={toggleShow} style={{ paddingLeft: \"0px\" }}>\n        <Grid container>\n          <Grid item xs={6}>\n            <Typography noWrap>\n              <ListMarker color={palette.grey[500]} />\n              {itemKey}\n            </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Typography noWrap>\n              {isObject ? (\n                <LightText color={palette.grey[500]}>Object</LightText>\n              ) : (\n                String(itemValue)\n              )}\n            </Typography>\n          </Grid>\n        </Grid>\n        <ListItemSecondaryAction>\n          {isObject && <>({Object.keys(itemValue).length})</>}\n          {show ? <ExpandLess /> : <ExpandMore />}\n        </ListItemSecondaryAction>\n      </ListItem>\n      <Collapse in={show}>\n        {isObject ? (\n          Object.keys(itemValue).length ? (\n            show && <PropertyList data={itemValue} nested />\n          ) : (\n            <ListItem>\n              <WrappedText>This Object is empty</WrappedText>\n            </ListItem>\n          )\n        ) : (\n          <ListItem>\n            <WrappedText>\n              <div>\n                <b>key: </b>\n                {itemKey}\n              </div>\n              <div>\n                <b>value: </b>\n                {itemValue}\n              </div>\n            </WrappedText>\n          </ListItem>\n        )}\n      </Collapse>\n    </div>\n  )\n}\n","import React from \"react\"\nimport ReactFlow, {\n  Background,\n  BackgroundVariant,\n  Controls,\n} from \"react-flow-renderer\"\nimport { useTheme, Theme } from \"@emotion/react\"\nimport styled from \"@emotion/styled\"\nimport { ChartNode } from \"./FlowChartNodes\"\nimport { Doc, Chunk, Match, Score } from \"../../views/DebuggingTool\"\n\nconst nodeTypes = {\n  doc: ChartNode,\n  chunk: ChartNode,\n  match: ChartNode,\n}\n\nconst VERTICAL_SPACE = 100\n\ntype MatchesProps = {\n  doc: Doc\n  onScoreClick: (score: Score) => void\n}\n\nconst FlowContainer = styled.div`\n  height: 800px;\n  background: white;\n`\n\nconst calculateItemHeight = (data: any) => {\n  let height = 50\n  if (data.uri) height += 5 * 60\n  if (data.text) height += 2 * 40\n  return (height += Object.keys(data).length * 50)\n}\n\nconst calculateMaxItemHeight = (data: any) => {\n  const heights = Object.values(data || {}).map((v) => calculateItemHeight(v))\n  return Math.max(...heights)\n}\n\nexport const getEdge = (\n  source: string,\n  target: string,\n  animated: boolean,\n  label: string,\n  palette: Theme[\"palette\"]\n) => {\n  return {\n    id: `edge-${source}-${target}`,\n    source,\n    target,\n    animated,\n    label,\n    labelBgPadding: [8, 4] as [number, number],\n    labelBgBorderRadius: 4,\n    labelBgStyle: {\n      fill: palette.info.light,\n      color: palette.text.primary,\n      fillOpacity: 0.7,\n    },\n    style: { stroke: palette.primary.main },\n  }\n}\n\nexport const getMatchNodes = (\n  matches: Match[],\n  parentId: string,\n  palette: Theme[\"palette\"],\n  startingHeight: number,\n  onScoreClick: (score: Score) => void,\n  name = \"Match\"\n) => {\n  return matches.reduce((acc, match, index) => {\n    return [\n      ...acc,\n      {\n        id: match.id,\n        type: \"match\",\n        data: {\n          name,\n          item: match,\n          onScoreClick,\n          hasBottom: false,\n        },\n        position: { x: 600 * index, y: startingHeight + VERTICAL_SPACE },\n      },\n      getEdge(match.id, parentId, true, \"match\", palette),\n    ]\n  }, [] as any)\n}\n\nexport const getChunkNodes = (\n  chunks: Chunk[],\n  palette: Theme[\"palette\"],\n  startingHeight: number,\n  onScoreClick: (score: Score) => void,\n  name = \"Chunk\"\n) => {\n  const tallestChunk = calculateMaxItemHeight(chunks)\n  const initialOffset = startingHeight + VERTICAL_SPACE\n\n  const offsets = [tallestChunk]\n  chunks.forEach((chunk, index) =>\n    offsets.push(\n      offsets[index] ||\n        tallestChunk + VERTICAL_SPACE + calculateMaxItemHeight(chunk.matches)\n    )\n  )\n\n  return chunks.reduce((acc, chunk, index) => {\n    return [\n      ...acc,\n      {\n        id: chunk.id,\n        type: \"chunk\",\n        data: {\n          name,\n          item: chunk,\n          onScoreClick,\n        },\n        position: { x: 600 * index + 50, y: initialOffset },\n      },\n      getEdge(chunk.id, \"1\", false, \"chunk\", palette),\n      ...(chunk.matches\n        ? getMatchNodes(\n            chunk.matches,\n            chunk.id,\n            palette,\n            initialOffset + offsets[index],\n            onScoreClick,\n            \"Chunk Match\"\n          )\n        : []),\n    ]\n  }, [] as any)\n}\n\nconst Matches = ({ doc, onScoreClick }: MatchesProps) => {\n  const { palette } = useTheme()\n\n  const docHeight = calculateItemHeight(doc)\n  const chunkOffset = doc?.chunks?.length\n    ? calculateMaxItemHeight(doc?.chunks || []) + VERTICAL_SPACE\n    : 0\n  let matchesOffset = docHeight + chunkOffset\n\n  doc?.chunks?.forEach((chunk) => {\n    if (chunk?.matches)\n      matchesOffset += calculateMaxItemHeight(chunk.matches) + VERTICAL_SPACE\n  })\n\n  const elements = [\n    {\n      id: \"1\",\n      type: \"doc\",\n      hasTop: false,\n      data: {\n        name: \"Document\",\n        item: doc,\n        onScoreClick,\n      },\n      position: { x: 100, y: 25 },\n    },\n    ...(doc.chunks\n      ? getChunkNodes(doc.chunks, palette, docHeight, onScoreClick)\n      : []),\n    ...(doc.matches\n      ? getMatchNodes(\n          doc.matches,\n          \"1\",\n          palette,\n          matchesOffset,\n          onScoreClick,\n          \"Document Match\"\n        )\n      : []),\n  ]\n\n  return (\n    <FlowContainer>\n      <ReactFlow elements={elements} nodeTypes={nodeTypes}>\n        <Background variant={BackgroundVariant.Dots} gap={20} size={0.8} />\n        {/* <MiniMap /> */}\n        <Controls />\n      </ReactFlow>\n    </FlowContainer>\n  )\n}\n\nexport default Matches\n","import React, { useState } from \"react\"\nimport {\n  Card,\n  CardHeader,\n  IconButton,\n  CardContent,\n  Collapse,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  useTheme,\n  Grid,\n  Typography,\n  Box,\n} from \"@material-ui/core\"\nimport styled from \"@emotion/styled\"\nimport { Score } from \"../../views/DebuggingTool\"\nimport { Close, ExpandLess, ExpandMore } from \"@material-ui/icons\"\n\ntype SidebarProps = {\n  score: Score\n  close: () => void\n}\n\ntype ScoreProps = {\n  score: Score\n  nested?: boolean\n}\n\nconst ScoresCard = styled(Card)`\n  position: absolute;\n  top: 1em;\n  right: 1em;\n  height: calc(800px - 2em);\n  width: 300px;\n  background: white;\n  z-index: 10;\n`\n\nconst ScoresCardContent = styled(CardContent)`\n  height: 100%;\n  overflow-y: auto;\n`\n\nconst Scores = ({ score, nested }: ScoreProps) => {\n  const [show, setShow] = useState(false)\n  const { palette } = useTheme()\n\n  let { op_name, operands, value, ref_id, description } = score\n  if (!op_name && !operands && !value) {\n    return <></>\n  }\n\n  const toggleShow = () => {\n    setShow((prev) => !prev)\n  }\n\n  const canToggle = operands && operands.length > 0\n\n  return (\n    <div style={{ paddingLeft: nested ? \"10px\" : \"0px\" }}>\n      <ListItem button={canToggle} onClick={toggleShow}>\n        <Grid container>\n          <Grid item xs={4}>\n            <Box paddingTop=\"0.75rem\">\n              <Typography noWrap fontSize=\"1.25rem\">\n                {score.value || \"0.12341234\"}\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item xs={7}>\n            <Box>\n              <Typography noWrap>{op_name}</Typography>\n              <Typography noWrap color={palette.grey[500]}>\n                {description}\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n        {canToggle && (\n          <ListItemSecondaryAction>\n            ({operands?.length}){show ? <ExpandLess /> : <ExpandMore />}\n          </ListItemSecondaryAction>\n        )}\n      </ListItem>\n      {operands && (\n        <div>\n          <Collapse in={show}>\n            <List>\n              {operands.map((operand, index) => (\n                <Scores score={operand} key={`${index}-${ref_id}`} nested />\n              ))}\n            </List>\n          </Collapse>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst ScoresSidebar = ({ score, close }: SidebarProps) => {\n  return (\n    <ScoresCard elevation={5}>\n      <CardHeader\n        action={\n          <IconButton aria-label=\"close\" onClick={close}>\n            <Close />\n          </IconButton>\n        }\n        title=\"Score\"\n      />\n      <ScoresCardContent>\n        <List>\n          <Scores score={score} />\n        </List>\n      </ScoresCardContent>\n    </ScoresCard>\n  )\n}\nexport default ScoresSidebar\n","import React, { useEffect, useState } from \"react\"\nimport Matches from \"./Matches\"\nimport Scores from \"./Scores\"\nimport { DebugResponse, Score } from \"../../views/DebuggingTool\"\nimport { Card, CardHeader, CardContent, Box } from \"@material-ui/core\"\n\ntype ResponseProps = {\n  response: DebugResponse | null\n}\n\nconst Response = ({ response }: ResponseProps) => {\n  const [score, setScore] = useState<Score | null>(null)\n  const [showScore, setShowScore] = useState(false)\n  const onScoreClick = (score: any) => {\n    console.log(\"on score click: \", score)\n    setShowScore(true)\n    setScore(score)\n  }\n  useEffect(() => {\n    setScore(null)\n  }, [response])\n  const hasResponse = response !== null && response?.data?.docs?.length > 0\n  return (\n    <Card>\n      <CardHeader\n        title=\"Documents and matches\"\n        titleTypographyProps={{ variant: \"subtitle1\" }}\n      />\n      <CardContent>\n        <Box position=\"relative\">\n          {hasResponse && (\n            <Matches doc={response.data.docs[0]} onScoreClick={onScoreClick} />\n          )}\n          {hasResponse && score && showScore && (\n            <Scores score={score} close={() => setShowScore(false)} />\n          )}\n        </Box>\n      </CardContent>\n    </Card>\n  )\n}\nexport default Response\n","import styled from \"@emotion/styled\"\nimport React, { useState } from \"react\"\nimport { PropertyList } from \"./FlowChartNodes\"\n\nconst Headers = ({ headers }: any) => {\n  return (\n    <div>\n      <h5>Response headers</h5>\n      <pre className=\"microlight\">{headers}</pre>\n    </div>\n  )\n}\n\nconst Duration = ({ duration }: { duration: string | number }) => {\n  return (\n    <div>\n      <h5>Request duration</h5>\n      <pre className=\"microlight\">{duration} ms</pre>\n    </div>\n  )\n}\n\ntype Props = {\n  response: any\n  path: string\n  method: string\n  displayRequestDuration: boolean\n  specSelectors: { [key: string]: any }\n  getComponent: any\n  getConfigs: any\n}\n\nconst ListContainer = styled.div`\n  background: white;\n  padding: 1em;\n  border-radius: 0.25em;\n`\n\nconst LiveResponse = (props: Props) => {\n  const {\n    response,\n    getComponent,\n    getConfigs,\n    displayRequestDuration,\n    specSelectors,\n    path,\n    method,\n  } = props\n  const { showMutatedRequest, requestSnippetsEnabled } = getConfigs()\n  const [currentTab, setCurrentTab] = useState(\"raw\")\n\n  const curlRequest = showMutatedRequest\n    ? specSelectors.mutatedRequestFor(path, method)\n    : specSelectors.requestFor(path, method)\n  const status = response.get(\"status\")\n  const url = curlRequest.get(\"url\")\n  const headers = response.get(\"headers\").toJS()\n  const notDocumented = response.get(\"notDocumented\")\n  const isError = response.get(\"error\")\n  const body = response.get(\"text\")\n  const duration = response.get(\"duration\")\n  const headersKeys = Object.keys(headers)\n  const contentType = headers[\"content-type\"] || headers[\"Content-Type\"]\n\n  const RawResponse = getComponent(\"responseBody\")\n  const CustomResponse = getComponent(\"debugResponse\")\n  const returnObject = headersKeys.map((key) => {\n    var joinedHeaders = Array.isArray(headers[key])\n      ? headers[key].join()\n      : headers[key]\n    return (\n      <span className=\"headerline\" key={key}>\n        {\" \"}\n        {key}: {joinedHeaders}{\" \"}\n      </span>\n    )\n  })\n  const hasHeaders = returnObject.length !== 0\n  const Markdown = getComponent(\"Markdown\", true)\n  const RequestSnippets = getComponent(\"RequestSnippets\", true)\n  const Curl = getComponent(\"curl\")\n\n  return (\n    <div>\n      {curlRequest &&\n        (requestSnippetsEnabled === true ||\n        requestSnippetsEnabled === \"true\" ? (\n          <RequestSnippets request={curlRequest} />\n        ) : (\n          <Curl request={curlRequest} getConfigs={getConfigs} />\n        ))}\n      {url && (\n        <div>\n          <h4>Request URL</h4>\n          <div className=\"request-url\">\n            <pre className=\"microlight\">{url}</pre>\n          </div>\n        </div>\n      )}\n      <h4>Server response</h4>\n      <table className=\"responses-table live-responses-table\">\n        <thead>\n          <tr className=\"responses-header\">\n            <td className=\"col_header response-col_status\">Code</td>\n            <td className=\"col_header response-col_description\">Details</td>\n          </tr>\n        </thead>\n        <tbody>\n          <tr className=\"response\">\n            <td className=\"response-col_status\">\n              {status}\n              {notDocumented ? (\n                <div className=\"response-undocumented\">\n                  <i> Undocumented </i>\n                </div>\n              ) : null}\n            </td>\n\n            <td className=\"response-col_description\">\n              <div className=\"tab-header\">\n                <div\n                  onClick={() => setCurrentTab(\"raw\")}\n                  className={`tab-item ${currentTab === \"raw\" && \"active\"}`}\n                >\n                  <h4 className=\"opblock-title\">\n                    <span>Raw</span>\n                  </h4>\n                </div>\n\n                <div\n                  onClick={() => setCurrentTab(\"list\")}\n                  className={`tab-item ${currentTab === \"list\" && \"active\"}`}\n                >\n                  <h4 className=\"opblock-title\">\n                    <span>List</span>\n                  </h4>\n                </div>\n\n                <div\n                  onClick={() => setCurrentTab(\"visual\")}\n                  className={`tab-item ${currentTab === \"visual\" && \"active\"}`}\n                >\n                  <h4 className=\"opblock-title\">\n                    <span>Visual</span>\n                  </h4>\n                </div>\n              </div>\n              {isError ? (\n                <Markdown\n                  source={`${\n                    response.get(\"name\") !== \"\"\n                      ? `${response.get(\"name\")}: `\n                      : \"\"\n                  }${response.get(\"message\")}`}\n                />\n              ) : null}\n\n              {body ? (\n                <>\n                  {currentTab === \"raw\" && (\n                    <RawResponse\n                      content={body}\n                      contentType={contentType}\n                      url={url}\n                      headers={headers}\n                      getConfigs={getConfigs}\n                      getComponent={getComponent}\n                    />\n                  )}\n                  {currentTab === \"visual\" && (\n                    <CustomResponse response={JSON.parse(body)} />\n                  )}\n                  {currentTab === \"list\" && (\n                    <>\n                      <h5>Response body</h5>\n                      <ListContainer>\n                        <PropertyList data={JSON.parse(body)} />\n                      </ListContainer>\n                    </>\n                  )}\n                </>\n              ) : null}\n\n              {hasHeaders ? <Headers headers={returnObject} /> : null}\n              {displayRequestDuration && duration ? (\n                <Duration duration={duration} />\n              ) : null}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default LiveResponse\n","import React, { useState } from \"react\"\nimport {\n  Box,\n  Button,\n  Collapse,\n  Container,\n  Grid,\n  TextField,\n} from \"@material-ui/core\"\nimport RoutesTable from \"../components/DebuggingTool/RouteTable\"\nimport Response from \"../components/DebuggingTool/Response\"\nimport SwaggerUIReact from \"swagger-ui-react\"\nimport { ExpandLess, ExpandMore } from \"@material-ui/icons\"\nimport LiveResponse from \"../components/DebuggingTool/CustomLiveResponse\"\nimport styled from \"@emotion/styled\"\n\nconst DEFAULT_ENDPOINT = \"openapi.json\"\n\nconst TextInput = styled(TextField)`\n  width: 100%;\n`\nconst FullSizeButton = styled(Button)`\n  width: 100%;\n  height: 100%;\n`\n\nconst WrappedComponents = function () {\n  return {\n    wrapComponents: {\n      liveResponse: (Original: any, system: any) => (props: any) => {\n        return <LiveResponse {...props} />\n      },\n    },\n    components: {\n      debugResponse: ({ response }: any) => (\n        <>\n          <h5>Response body</h5>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <RoutesTable routes={response?.routes} />\n            </Grid>\n            <Grid item xs={12}>\n              <Response response={response} />\n            </Grid>\n          </Grid>\n        </>\n      ),\n    },\n  }\n}\n\nfunction getHostAndPortFromLocation() {\n  const { location } = window\n  const host = location.protocol + \"//\" + location.hostname\n  const port = location.port\n  return { host, port }\n}\n\nfunction getInitialHostAndPort() {\n  const { location } = window\n  const searchParams = new URLSearchParams(location.search)\n  const host = searchParams.get(\"host\")\n  const port = searchParams.get(\"port\")\n  if (host) return { host, port }\n  else return getHostAndPortFromLocation()\n}\n\nfunction formatURL(\n  host: string,\n  port: string | null | undefined,\n  endpoint: string\n) {\n  if (port) return `${host}:${port}/${endpoint}`\n  else return `${host}/${endpoint}`\n}\n\nconst SwaggerView = () => {\n  const [show, setShow] = useState(false)\n  const [host, setHost] = useState(getInitialHostAndPort().host)\n  const [port, setPort] = useState(getInitialHostAndPort().port)\n  const [endpoint, setEndpoint] = useState(DEFAULT_ENDPOINT)\n  const [url, setURL] = useState(formatURL(host, port, endpoint))\n\n  const updateURL = () => {\n    setURL(formatURL(host, port, endpoint))\n  }\n\n  const toggleShow = () => {\n    setShow((prev) => !prev)\n  }\n\n  return (\n    <Container data-name=\"debuggingTool\">\n      <Box textAlign=\"right\">\n        <Button onClick={toggleShow}>\n          endpoint settings {show ? <ExpandLess /> : <ExpandMore />}\n        </Button>\n      </Box>\n      <Collapse in={show}>\n        <Box paddingTop=\"2.5em\">\n          <Grid container spacing={2}>\n            <Grid item xs={4}>\n              <TextInput\n                label=\"Host\"\n                variant=\"outlined\"\n                value={host}\n                onChange={(e) => setHost(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <TextInput\n                label=\"Port\"\n                variant=\"outlined\"\n                value={port}\n                onChange={(e) => setPort(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={4}>\n              <TextInput\n                label=\"OpenAPI Schema\"\n                variant=\"outlined\"\n                value={endpoint}\n                onChange={(e) => setEndpoint(e.target.value)}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <FullSizeButton onClick={updateURL} variant=\"contained\">\n                Set\n              </FullSizeButton>\n            </Grid>\n          </Grid>\n        </Box>\n      </Collapse>\n      <SwaggerUIReact url={url} presets={[WrappedComponents]} />\n    </Container>\n  )\n}\nexport default SwaggerView\n","import React from \"react\"\nimport { Redirect } from \"react-router-dom\"\n\n// Layout Types\nimport { IconSidebar } from \"../layouts\"\n\n// Route Views\nimport { LogsView } from \"../views/LogsView\"\nimport TaskView from \"../views/TaskView\"\nimport Settings from \"../views/Settings\"\nimport HubView from \"../views/HubView\"\nimport PackageView from \"../views/PackageView\"\nimport LogIn from \"../views/LogIn\"\n\nimport NotFound from \"../views/NotFound\"\nimport HomeView from \"../views/HomeView\"\nimport NavigateButton from \"../components/Common/NavigateButton\"\nimport FlowView from \"../views/FlowView\"\nimport { isFeatureEnabled } from \"../helpers/featureSwitch\"\nimport SwaggerView from \"../views/SwaggerView\"\n\nexport const dashboardRoutes = [\n  {\n    path: \"/\",\n    exact: true,\n    layout: IconSidebar,\n    component: () => <Redirect to=\"/logs\" />,\n  },\n\n  {\n    path: \"/logs\",\n    layout: IconSidebar,\n    component: LogsView,\n    props: {\n      usesConnection: true,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/flow\",\n    layout: IconSidebar,\n    component: FlowView,\n    props: {\n      usesConnection: true,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/task\",\n    layout: IconSidebar,\n    component: TaskView,\n    props: {\n      usesConnection: true,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/settings\",\n    layout: IconSidebar,\n    component: Settings,\n    props: {\n      usesConnection: true,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/help\",\n    layout: IconSidebar,\n    component: NotFound,\n    props: {\n      usesConnection: false,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/home\",\n    layout: IconSidebar,\n    // Todo: remove feature flag and corresponding conditions after releasing HomeView in all instances\n    component: isFeatureEnabled(\"HOMEPAGE\") ? HomeView : NotFound,\n    props: {\n      usesConnection: false,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/hub\",\n    layout: IconSidebar,\n    component: HubView,\n    props: {\n      usesConnection: false,\n      usesAuth: true,\n    },\n  },\n  {\n    path: \"/package/:kind/:packageId\",\n    layout: IconSidebar,\n    component: PackageView,\n    props: {\n      navigateButton: () => (\n        <NavigateButton label={\"❮  Back\"} path={\"/hub/explore\"} />\n      ),\n    },\n  },\n  {\n    path: \"/login\",\n    layout: IconSidebar,\n    component: LogIn,\n    props: {\n      usesConnection: false,\n      usesAuth: true,\n    },\n  },\n  {\n    path: \"/debug\",\n    layout: IconSidebar,\n    component: SwaggerView,\n    props: {\n      usesConnection: true,\n      usesAuth: true,\n    },\n  },\n]\n","import React from \"react\"\nimport { Redirect } from \"react-router-dom\"\n\n// Layout Types\nimport { HubLayout } from \"../layouts\"\n\n// Route Views\nimport PackageView from \"../views/PackageView\"\nimport LogIn from \"../views/LogIn\"\nimport NotFound from \"../views/NotFound\"\nimport NavigateButton from \"../components/Common/NavigateButton\"\nimport HubImagesList from \"../components/Hub/HubImagesList\"\nimport { HubLayoutProps } from \"../layouts/HubLayout\"\n\ntype Route<LayOutProps> = {\n  path: string\n  exact?: boolean\n  layout: (props: LayOutProps) => JSX.Element\n  component: () => JSX.Element\n  props?: {\n    usesConnection?: boolean\n    usesAuth?: boolean\n    navigateButton?: () => JSX.Element\n  }\n}\nexport type HubRoute = Route<HubLayoutProps>\n\nexport const hubRoutes: HubRoute[] = [\n  {\n    path: \"/\",\n    exact: true,\n    layout: HubLayout,\n    component: () => <Redirect to=\"/home\" />,\n  },\n  {\n    path: \"/help\",\n    layout: HubLayout,\n    component: NotFound,\n    props: {\n      usesConnection: false,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/home\",\n    layout: HubLayout,\n    component: HubImagesList,\n    props: {\n      usesConnection: false,\n      usesAuth: true,\n    },\n  },\n  {\n    path: \"/package/:packageId\",\n    layout: HubLayout,\n    component: PackageView,\n    props: {\n      navigateButton: () => <NavigateButton label={\"❮  Back\"} path={\"/home\"} />,\n    },\n  },\n  {\n    path: \"/login\",\n    layout: HubLayout,\n    component: () => <LogIn />,\n    props: {\n      usesConnection: false,\n      usesAuth: true,\n    },\n  },\n]\n","// Layout Types\nimport { SwaggerLayout } from \"../layouts\"\n\n// Route Views\nimport SwaggerView from \"../views/SwaggerView\"\n\nexport type SwaggerRoute = {\n  path: string\n  exact?: boolean\n  layout: ({ children }: { children: any }) => JSX.Element\n  component: () => JSX.Element\n  props?: {\n    usesConnection?: boolean\n    usesAuth?: boolean\n    navigateButton?: () => JSX.Element\n  }\n}\n\nexport const swaggerRoutes: SwaggerRoute[] = [\n  {\n    path: \"/\",\n    exact: true,\n    layout: SwaggerLayout,\n    component: SwaggerView,\n  },\n]\n","import { createTheme } from \"@material-ui/core\"\n\nconst SCOOTER_GREEN = \"#32C8CD\"\nconst PERSIAN_GREEN = \"#009999\"\nconst SKY_DIVING_IN_THE_BLUE = \"#007AFF\"\n\nconst HONEYBEE = \"#FFFAE2\"\nconst GOLDEN_TANOI = \"#FFCC66\"\n\nconst BITTER_SWEET = \"#ff6666\"\nconst SUDOBANGBANG = \"#ff4540\"\n\nconst BLACK = \"#000000\"\nconst BLACK_WITH_TRANSPARENCY = \"#00000099\"\n\nconst WHITE = \"#FFFFFF\"\n\nconst IVORY_EGG = \"#F9F9F9\"\nconst CODE_BACKGROUND = \"#E8E8E855\"\nconst NOT_SNOW_WHITE_GRAY = \"#E5E5E5\"\nconst DADGREY = \"#DAD7FE\"\nconst QUICK_SILVER = \"#A6A6A6\"\nconst DEBUG_GREY = \"#7E7278\"\n\nconst PAPER_BACKGROUND = \"#f5f6f8\"\n\nconst DISABLED_GREY_BACKGROUND = \"#F5F5F5\"\nconst DISABLED_GREY_TEXT = \"#BFBFBF\"\n\nconst CANCRO = \"#E6F5F5\"\nconst ARIEL_SCALE = \"#1EA5A5\"\nconst SKY_CLOUD = \"#EFF2FE\"\nconst SEAWATER_POPSICLE = \"#8A8AE9\"\nconst BANANA_YOGURT_SWIRL = \"#FFFAE2\"\nconst HOODIE_MASCOT = \"#EE9518\"\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: PERSIAN_GREEN,\n      light: \"#4db6ac\",\n    },\n    secondary: {\n      light: HONEYBEE,\n      main: GOLDEN_TANOI,\n    },\n    background: {\n      default: WHITE,\n      paper: PAPER_BACKGROUND,\n    },\n    action: {\n      disabledBackground: DISABLED_GREY_BACKGROUND,\n      disabled: DISABLED_GREY_TEXT,\n    },\n    text: {\n      primary: BLACK,\n      secondary: BLACK_WITH_TRANSPARENCY,\n    },\n    error: {\n      main: BITTER_SWEET,\n    },\n    warning: {\n      main: GOLDEN_TANOI,\n      dark: SUDOBANGBANG,\n    },\n    success: {\n      main: SCOOTER_GREEN,\n    },\n    info: {\n      main: PERSIAN_GREEN,\n      dark: SKY_DIVING_IN_THE_BLUE,\n    },\n    grey: {\n      100: IVORY_EGG,\n      200: CODE_BACKGROUND,\n      300: NOT_SNOW_WHITE_GRAY,\n      400: DADGREY,\n      600: QUICK_SILVER,\n      700: DEBUG_GREY,\n    },\n    filters: [\n      {\n        main: CANCRO,\n        contrastText: ARIEL_SCALE,\n      },\n      {\n        main: SKY_CLOUD,\n        contrastText: SEAWATER_POPSICLE,\n      },\n      {\n        main: CANCRO,\n        contrastText: ARIEL_SCALE,\n      },\n      {\n        main: BANANA_YOGURT_SWIRL,\n        contrastText: HOODIE_MASCOT,\n      },\n    ],\n  },\n})\nexport { theme }\n","import { SettingsState } from \"./settings.types\"\n\nexport const defaultJinaDPort = \"5000\"\nexport const defaultJinaDHost = \"http://localhost\"\nexport const defaultGatewayPort = \"5555\"\nexport const defaultGatewayHost = \"http://localhost\"\n\nexport const UPDATE_SETTINGS = \"UPDATE_SETTINGS\"\n\nexport const intialSettings: SettingsState = {\n  settings: {\n    jinadHost:\n      localStorage.getItem(\"preferences-jinadhost\") || defaultJinaDHost,\n    jinadPort:\n      localStorage.getItem(\"preferences-jinadPort\") || defaultJinaDPort,\n    gatewayHost:\n      localStorage.getItem(\"preferences-gatewayHost\") || defaultGatewayHost,\n    gatewayPort:\n      localStorage.getItem(\"preferences-gatewayPort\") || defaultGatewayPort,\n    log: localStorage.getItem(\"preferences-log\") || \"/stream/log\",\n    profile: localStorage.getItem(\"preferences-profile\") || \"/stream/profile\",\n    yaml: localStorage.getItem(\"preferences-yaml\") || \"/data/yaml\",\n    shutdown:\n      localStorage.getItem(\"preferences-shutdown\") || \"/action/shutdown\",\n    ready: localStorage.getItem(\"preferences-ready\") || \"/status/ready\",\n  },\n}\n","import { HANDLE_NEW_LOG, SHOW_LOG_INDEX } from \"./logStream.constants\"\nimport {\n  handleNewLogAction,\n  showLogAtIndexAction,\n  RawLog,\n} from \"./logStream.types\"\nimport { ThunkAction } from \"redux-thunk\"\nimport { Action } from \"redux\"\n\nimport store from \"..\"\nimport { showBanner } from \"../global/global.actions\"\nimport logger from \"../../logger\"\nimport jinadClient from \"../../services/jinad\"\n\nexport function showLogAtIndex(logIndex: number): showLogAtIndexAction {\n  return {\n    type: SHOW_LOG_INDEX,\n    payload: logIndex,\n  }\n}\n\nexport function handleNewLog(log: RawLog): handleNewLogAction {\n  return {\n    type: HANDLE_NEW_LOG,\n    payload: log,\n  }\n}\n\nexport function initLogStream(\n  workspace_id: string,\n  flow_id: string\n): ThunkAction<void, any, unknown, Action<string>> {\n  return async function (dispatch) {\n    function handleConnection({\n      connected,\n      message,\n    }: {\n      connected: boolean\n      message: string\n    }) {\n      if (!connected) return dispatch(showBanner(message, \"error\") as any)\n    }\n\n    let flowResult = await jinadClient.waitForFlow(workspace_id, flow_id)\n\n    if (flowResult.status === \"error\")\n      return dispatch(showBanner(flowResult.message, \"error\") as any)\n\n    let logsResult = await jinadClient.getLogs(workspace_id, flow_id)\n\n    if (logsResult.status === \"error\") {\n      if (logsResult.message)\n        dispatch(showBanner(logsResult.message, \"error\") as any)\n      return\n    }\n\n    function handleLog(log: RawLog) {\n      dispatch(handleNewLog(log))\n    }\n\n    const { logs } = logsResult\n\n    logger.log(\"got logs:\", logs)\n\n    logs.forEach(handleLog)\n\n    const settings = store.getState().settingsState.settings\n    jinadClient.listenForLogs(\n      workspace_id,\n      flow_id,\n      settings,\n      handleConnection,\n      handleLog\n    )\n  }\n}\n","import { saveAs } from \"file-saver\"\n\ndeclare global {\n  interface Window {\n    logs: string[][]\n    logsEnabled: boolean\n    logsFormat: string\n  }\n}\n\nfunction handleErrorMessage(msg: string, url: string, line: string) {\n  logger.log(\"window.onerror - ERROR\", msg, url, `line: ${line}`)\n}\n\nfunction pushLog(data: any[]) {\n  window.logs.push(data)\n}\n\nfunction clearLogs() {\n  window.logs = []\n}\n\nconst logger = {\n  log: function (...arg: any) {\n    if (!window.logsEnabled) return\n    let args = [...((arguments as unknown) as Array<any>)]\n    console.log(...args)\n    pushLog(args)\n  },\n  isEnabled: function () {\n    return window.logsEnabled\n  },\n  enable: function () {\n    const _navigator: any = {}\n    for (let i in window.navigator)\n      _navigator[i] = window.navigator[i as keyof Navigator]\n    clearLogs()\n    pushLog(_navigator)\n    window.addEventListener(\n      \"error\",\n      (handleErrorMessage as unknown) as EventListenerOrEventListenerObject\n    )\n    window.logsEnabled = true\n  },\n  disable: function () {\n    window.removeEventListener(\n      \"error\",\n      (handleErrorMessage as unknown) as EventListenerOrEventListenerObject\n    )\n    window.logsEnabled = false\n  },\n  setFormat: function (format = \"json\") {\n    window.logsFormat = format\n  },\n  exportLogs: function () {\n    const format = window.logsFormat || \"json\"\n    const logs = window.logs\n    let content = \"[\\n\"\n    for (let i = 0; i < logs.length; ++i) {\n      let args = logs[i]\n      content += JSON.stringify(args) + `${i < logs.length - 1 ? \",\" : \"\"}\\n`\n    }\n    content += \"]\"\n\n    let filename = `jina-dashboard-debug-output-${new Date()}.${format}`\n    let blob = new Blob([content], { type: \"text,plain;charset=utf-8\" })\n    saveAs(blob, filename)\n  },\n}\n\nexport default logger\n","import React from \"react\";\nimport { Navbar, NavbarBrand } from \"shards-react\";\n\ntype Props = {\n  toggleSidebar: () => void;\n};\n\nconst SidebarMainNavbar = ({ toggleSidebar }: Props) => {\n  return (\n    <div className=\"main-navbar\">\n      <Navbar\n        className=\"align-items-stretch bg-white flex-md-nowrap p-0\"\n        type=\"light\"\n      >\n        <NavbarBrand\n          className=\"w-100 mr-0\"\n          href=\"#\"\n          style={{ lineHeight: \"25px\" }}\n        >\n          <div className=\"d-table m-auto\">\n            <img\n              id=\"main-logo\"\n              className=\"d-inline-block align-top\"\n              style={{ maxWidth: \"50px\" }}\n              src=\"/jina-light.svg\"\n              alt=\"Jina Dashboard\"\n            />\n          </div>\n        </NavbarBrand>\n        <span\n          className=\"toggle-sidebar d-sm-inline d-md-none d-lg-none\"\n          onClick={toggleSidebar}\n        >\n          <i className=\"material-icons\">&#xE5C4;</i>\n        </span>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default SidebarMainNavbar;\n","import React from \"react\";\nimport { NavLink as RouteNavLink, useLocation } from \"react-router-dom\";\nimport { NavItem, NavLink } from \"shards-react\";\nimport { TNavItem } from \"../../../redux/global/global.types\";\n\ntype Props = {\n  item: TNavItem;\n  toggleSidebar: () => void;\n};\n\nconst SidebarNavItem = ({ item, toggleSidebar }: Props) => {\n  const path = useLocation()?.pathname?.substring(1);\n  let active = false;\n  item.matches.forEach((match) => {\n    if (path === match) active = true;\n  });\n\n  return (\n    <NavItem style={{ position: \"relative\" }}>\n      <NavLink\n        tag={RouteNavLink}\n        to={item.to}\n        active={active}\n        onClick={toggleSidebar}\n      >\n        {item.iconName && (\n          <div className=\"d-inline-block item-icon-wrapper\">\n            <i className=\"material-icons\">{item.iconName}</i>\n          </div>\n        )}\n        {item.title && <span>{item.title}</span>}\n      </NavLink>\n    </NavItem>\n  );\n};\n\nexport default SidebarNavItem;\n","import React from \"react\";\nimport { Nav } from \"shards-react\";\n\nimport SidebarNavItem from \"./SidebarNavItem\";\nimport { TNavItem } from \"../../../redux/global/global.types\";\n\ntype Props = {\n  navItems: TNavItem[];\n  toggleSidebar: () => void;\n};\n\nconst SidebarNavItems = ({ navItems: items, toggleSidebar }: Props) => {\n  return (\n    <div className=\"nav-wrapper\">\n      {typeof items !== \"undefined\" && items.length && (\n        <Nav className=\"nav--no-borders flex-column\">\n          {items.map((item, idx) => (\n            <SidebarNavItem\n              key={idx}\n              item={item}\n              toggleSidebar={toggleSidebar}\n            />\n          ))}\n        </Nav>\n      )}\n    </div>\n  );\n};\n\nexport default SidebarNavItems;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { Col } from \"shards-react\";\n\nimport SidebarMainNavbar from \"./SidebarMainNavbar\";\nimport SidebarNavItems from \"./SidebarNavItems\";\nimport { TNavItem } from \"../../../redux/global/global.types\";\n\ntype Props = {\n  menuVisible: boolean;\n  sidebarNavItems: TNavItem[];\n  toggleSidebar: () => void;\n};\n\nfunction MainSidebar({ menuVisible, sidebarNavItems, toggleSidebar }: Props) {\n  const classes = classNames(\n    \"main-sidebar\",\n    \"px-0\",\n    \"col-12\",\n    menuVisible && \"open\"\n  );\n\n  return (\n    <Col tag=\"aside\" className={classes} lg={{ size: 2 }} md={{ size: 3 }}>\n      <SidebarMainNavbar toggleSidebar={toggleSidebar} />\n      <SidebarNavItems\n        navItems={sidebarNavItems}\n        toggleSidebar={toggleSidebar}\n      />\n    </Col>\n  );\n}\n\nexport default MainSidebar;\n","import axios from \"axios\";\nimport {\n  FlowArgument,\n  FlowArguments,\n  FlowArgumentType,\n} from \"../redux/flows/flows.types\";\nimport { JinaApiMethodOption, JinaApiResponse } from \"./services.types\";\n\nconst JINA_API_ENDPOINT = process.env.REACT_APP_JINA_API!;\n\nexport const getJinaFlowArguments = async (): Promise<FlowArguments> => {\n  let response = await axios.get(JINA_API_ENDPOINT + \"/latest.json\");\n  let data: JinaApiResponse = response.data;\n  let flowArguments: FlowArguments = {\n    flow: parseFlowMethodOption(\n      data.methods.find((m) => m.name === \"flow\")?.options\n    ),\n    pea: parseFlowMethodOption(\n      data.methods.find((m) => m.name === \"pea\")?.options\n    ),\n    pod: parseFlowMethodOption(\n      data.methods.find((m) => m.name === \"pod\")?.options\n    ),\n    version: data.version,\n  };\n  return flowArguments;\n};\n\nconst typeMap: { [key: string]: FlowArgumentType } = {\n  str: \"string\",\n  bool: \"boolean\",\n  int: \"integer\",\n  \"typing.List[str]\": \"string\",\n};\n\nexport const parseFlowMethodOption = (\n  options?: JinaApiMethodOption[]\n): FlowArgument[] => {\n  if (!options) return [];\n  return options.map(\n    ({ name, help: description, default: defaultValue, type: itemType }) => {\n      const type = typeMap[itemType];\n      if (typeof defaultValue === \"undefined\" || defaultValue === null)\n        return { name, description, type };\n      return { name, description, defaultValue, type };\n    }\n  );\n};\n","import {\n  CLOSE_MODAL,\n  FETCH_ARGUMENTS_FROM_API,\n  FETCH_ARGUMENTS_FROM_DAEMON,\n  HANDLE_CONNECTION_STATUS,\n  HIDE_BANNER,\n  HIDE_BANNER_TIMEOUT,\n  LOGOUT,\n  SHOW_BANNER,\n  SHOW_ERROR,\n  SHOW_MODAL,\n  TOGGLE_SIDE_BAR,\n  SETUSER,\n} from \"./global.constants\"\nimport {\n  CloseModalAction,\n  HandleConnectionStatusAction,\n  HideBannerAction,\n  Modal,\n  ShowBannerAction,\n  ShowErrorAction,\n  ShowModalAction,\n  ToggleSidebarAction,\n  User,\n  LogoutAction,\n  SetUserAction,\n} from \"./global.types\"\nimport { AppThunk } from \"../index\"\nimport store from \"..\"\nimport jinadClient from \"../../services/jinad\"\nimport { getJinaFlowArguments } from \"../../services/jinaApi\"\nimport { setFlowArguments } from \"../flows/flows.actions\"\nimport logger from \"../../logger\"\n\nexport function handleJinadConnectionStatus(\n  connected: boolean,\n  message: string\n): AppThunk {\n  return function (dispatch) {\n    dispatch(_handleConnectionStatus(connected, message))\n    if (connected) {\n      dispatch(showBanner(message, \"success\"))\n      dispatch(fetchArgumentsFromDaemon())\n    } else {\n      dispatch(fetchArgumentsFromApi())\n    }\n  }\n}\n\nexport function handleGatewayConnectionStatus(\n  connected: boolean,\n  message: string\n): AppThunk {\n  return function (dispatch) {\n    dispatch(_handleConnectionStatus(connected, message))\n    if (connected) {\n      dispatch(showBanner(message, \"success\"))\n    }\n  }\n}\n\nexport function _handleConnectionStatus(\n  connected: boolean,\n  message: string\n): HandleConnectionStatusAction {\n  return {\n    type: HANDLE_CONNECTION_STATUS,\n    payload: {\n      connected,\n      message,\n    },\n  }\n}\n\nexport function fetchArgumentsFromApi(): AppThunk {\n  return async function (dispatch) {\n    dispatch({ type: FETCH_ARGUMENTS_FROM_API })\n    let flowArguments = await getJinaFlowArguments()\n    logger.log(\"loadFlowArgumentsFromApi | flowArguments:\", flowArguments)\n    return dispatch(setFlowArguments(flowArguments))\n  }\n}\n\nexport function fetchArgumentsFromDaemon(): AppThunk {\n  return async function (dispatch) {\n    dispatch({ type: FETCH_ARGUMENTS_FROM_DAEMON })\n    let flowArguments = await jinadClient.getJinaFlowArguments()\n    logger.log(\"loadFlowArgumentsFromDaemon | flowArguments:\", flowArguments)\n    return dispatch(setFlowArguments(flowArguments))\n  }\n}\n\nexport function toggleSidebar(): ToggleSidebarAction {\n  return {\n    type: TOGGLE_SIDE_BAR,\n  }\n}\n\nexport function _showBanner(message: string, theme: string): ShowBannerAction {\n  return {\n    type: SHOW_BANNER,\n    payload: {\n      message,\n      theme,\n    },\n  }\n}\n\nexport function _hideBanner(): HideBannerAction {\n  return {\n    type: HIDE_BANNER,\n  }\n}\n\nexport function showBanner(message: string, theme: string): AppThunk {\n  return function (dispatch) {\n    dispatch(_showBanner(message, theme))\n    setTimeout(() => {\n      dispatch(_hideBanner())\n    }, HIDE_BANNER_TIMEOUT)\n  }\n}\n\nexport function showError(message: string): ShowErrorAction {\n  return {\n    type: SHOW_ERROR,\n    payload: {\n      message,\n    },\n  }\n}\n\nexport function showModal(modal: Modal, modalParams?: any): ShowModalAction {\n  return {\n    type: SHOW_MODAL,\n    payload: {\n      modal,\n      modalParams: modalParams || null,\n    },\n  }\n}\n\nexport function closeModal(): CloseModalAction {\n  return {\n    type: CLOSE_MODAL,\n  }\n}\n\nexport function connectJinaD(): AppThunk {\n  return function (dispatch) {\n    const settings = store.getState().settingsState.settings\n\n    function onConnectionStatus({\n      connected,\n      message,\n    }: {\n      connected: boolean\n      message: string\n    }) {\n      dispatch(handleJinadConnectionStatus(connected, message))\n    }\n\n    jinadClient.connect(settings, onConnectionStatus)\n  }\n}\n\nexport function logout(): LogoutAction {\n  return {\n    type: LOGOUT,\n  }\n}\n\nexport function setUser(user: User): SetUserAction {\n  localStorage.setItem(\"user\", JSON.stringify(user))\n  return {\n    type: SETUSER,\n    payload: { user },\n  }\n}\n","import { FlowChart, Flows, Workspaces } from \"./flows.types\"\n\nexport const LOAD_FLOW = \"LOAD_FLOW\"\nexport const CREATE_NEW_FLOW = \"CREATE_NEW_FLOW\"\nexport const UPDATE_SELECTED_FLOW = \"UPDATE_SELECTED_FLOW\"\nexport const DUPLICATE_FLOW = \"DUPLICATE_FLOW\"\nexport const ADD_NODE = \"ADD_NODE\"\nexport const DELETE_FLOW = \"DELETE_FLOW\"\nexport const UPDATE_NODE = \"UPDATE_NODE\"\nexport const UPDATE_NODE_DATA = \"UPDATE_NODE_DATA\"\nexport const DELETE_NODE = \"DELETE_NODE\"\nexport const ADD_LINK = \"ADD_LINK\"\nexport const DELETE_LINK = \"DELETE_LINK\"\nexport const START_FLOW = \"START_FLOW\"\nexport const STOP_FLOW = \"STOP_FLOW\"\nexport const IMPORT_FLOW = \"IMPORT_FLOW\"\nexport const SET_FLOW_ARGUMENTS = \"SET_FLOW_ARGUMENTS\"\nexport const LOAD_WORKSPACE = \"LOAD_WORKSPACE\"\nexport const CREATE_NEW_WORKSPACE = \"CREATE_NEW_WORKSPACE\"\nexport const UPDATE_SELECTED_WORKSPACE = \"UPDATE_SELECTED_WORKSPACE\"\nexport const ADD_FILES_TO_WORKSPACE = \"ADD_FILES_TO_WORKSPACE\"\nexport const DELETE_WORKSPACE = \"DELETE_WORKSPACE\"\n\nexport const initialFlowChart: FlowChart = {\n  elements: [\n    {\n      id: \"gateway\",\n      type: \"gateway\",\n      data: {\n        name: \"gateway\",\n        label: \"gateway\",\n      },\n      position: { x: 629, y: 72 },\n    },\n  ],\n}\n\nexport const defaultSelectedWorkspaceId = \"_userWorkspace\"\n\nexport const defaultSelectedFlowId = \"_userFlow\"\n\nexport const defaultJinaVersion = \"1\"\n\nexport const defaultFlowArguments = {\n  version: \"0.0\",\n  flow: [],\n  pea: [],\n  pod: [],\n}\n\nexport const defaultFlow: Flows = {\n  _userFlow: {\n    name: \"Custom Flow 1\",\n    workspaceId: defaultSelectedWorkspaceId,\n    type: \"user-generated\",\n    flowChart: initialFlowChart,\n    isConnected: false,\n    daemon_id: null,\n  },\n}\n\nexport const initialWorkspace: Workspaces = {\n  _userWorkspace: {\n    name: \"\",\n    jina_version: \"latest\",\n    type: \"user-generated\",\n    daemon_endpoint: \"\",\n    isConnected: false,\n    daemon_id: \"\",\n    files: [],\n    selectedFlowId: defaultSelectedFlowId,\n    flowArguments: defaultFlowArguments,\n  },\n}\n\nexport const defaultFlows: Flows = {\n  _userFlow: {\n    name: \"Custom Flow 1\",\n    workspaceId: defaultSelectedWorkspaceId,\n    type: \"user-generated\",\n    flowChart: initialFlowChart,\n    isConnected: false,\n    daemon_id: null,\n  },\n}\n\nexport const defaultWorkspaces: Workspaces = {\n  _userWorkspace: {\n    name: \"Workspace 1\",\n    jina_version: \"latest\",\n    type: \"user-generated\",\n    daemon_endpoint: \"\",\n    isConnected: false,\n    daemon_id: \"\",\n    files: [],\n    selectedFlowId: defaultSelectedFlowId,\n    flowArguments: defaultFlowArguments,\n  },\n}\n","import {\n  ADD_LINK,\n  ADD_NODE,\n  CREATE_NEW_FLOW,\n  DELETE_FLOW,\n  DELETE_WORKSPACE,\n  DELETE_LINK,\n  DELETE_NODE,\n  DUPLICATE_FLOW,\n  SET_FLOW_ARGUMENTS,\n  UPDATE_NODE,\n  UPDATE_NODE_DATA,\n  UPDATE_SELECTED_WORKSPACE,\n  LOAD_FLOW,\n  UPDATE_SELECTED_FLOW,\n  CREATE_NEW_WORKSPACE,\n  IMPORT_FLOW,\n  LOAD_WORKSPACE,\n} from \"./flows.constants\"\nimport {\n  AddLinkAction,\n  AddNodeAction,\n  CreateNewFlowAction,\n  CreateNewWorkspaceAction,\n  DeleteFlowAction,\n  DeleteLinkAction,\n  DeleteLinkProps,\n  DeleteNodeAction,\n  DuplicateFlowAction,\n  Flow,\n  FlowState,\n  FlowUpdate,\n  LoadFlowAction,\n  NodeData,\n  NodeDataUpdate,\n  NodeId,\n  NodeUpdate,\n  ImportFlowAction,\n  FlowArguments,\n  SetFlowArgumentsAction,\n  UpdateNodeAction,\n  UpdateNodeDataAction,\n  UpdateSelectedFlowAction,\n  DeleteWorkspaceAction,\n  WorkspaceUpdate,\n  UpdateSelectedWorkspaceAction,\n  LoadWorkspaceAction,\n} from \"./flows.types\"\n\nimport { ThunkAction } from \"redux-thunk\"\nimport { Action } from \"redux\"\nimport { showBanner } from \"../global/global.actions\"\nimport { initLogStream } from \"../logStream/logStream.actions\"\nimport store from \"..\"\nimport { formatAsYAML } from \"../../helpers\"\nimport logger from \"../../logger\"\nimport jinadClient from \"../../services/jinad\"\nimport { XYPosition } from \"react-flow-renderer/dist/types\"\n\nexport function deleteWorkspace(workspaceId: string): DeleteWorkspaceAction {\n  return {\n    type: DELETE_WORKSPACE,\n    payload: workspaceId,\n  }\n}\n\nexport function loadFlow(flowId: string): LoadFlowAction {\n  return {\n    type: LOAD_FLOW,\n    payload: flowId,\n  }\n}\n\nexport function createNewFlow(): CreateNewFlowAction {\n  return {\n    type: CREATE_NEW_FLOW,\n  }\n}\n\nexport function setFlowArguments(\n  flowArguments: FlowArguments\n): SetFlowArgumentsAction {\n  return {\n    type: SET_FLOW_ARGUMENTS,\n    payload: flowArguments,\n  }\n}\n\nexport function updateSelectedFlow(\n  flowUpdate: FlowUpdate\n): UpdateSelectedFlowAction {\n  return {\n    type: UPDATE_SELECTED_FLOW,\n    payload: flowUpdate,\n  }\n}\n\nexport function duplicateFlow(flowYAML: string): DuplicateFlowAction {\n  return {\n    type: DUPLICATE_FLOW,\n    payload: flowYAML,\n  }\n}\n\nexport function importFlow(flowYAML: string): ImportFlowAction {\n  return {\n    type: IMPORT_FLOW,\n    payload: flowYAML,\n  }\n}\n\nexport function deleteFlow(flowId: string): DeleteFlowAction {\n  return {\n    type: DELETE_FLOW,\n    payload: flowId,\n  }\n}\n\nexport function addNode(\n  id: string,\n  position: XYPosition,\n  data?: NodeData\n): AddNodeAction {\n  return {\n    type: ADD_NODE,\n    payload: {\n      data,\n      id,\n      position,\n    },\n  }\n}\n\nexport function addLink(source: NodeId, target: NodeId): AddLinkAction {\n  return {\n    type: ADD_LINK,\n    payload: {\n      source,\n      target,\n    },\n  }\n}\n\nexport function deleteLink(deleteLinkProps: DeleteLinkProps): DeleteLinkAction {\n  return {\n    type: DELETE_LINK,\n    payload: deleteLinkProps,\n  }\n}\n\nexport function updateNode(\n  nodeId: string,\n  nodeUpdate: NodeUpdate\n): UpdateNodeAction {\n  return {\n    type: UPDATE_NODE,\n    payload: { nodeId, nodeUpdate },\n  }\n}\n\nexport function updateNodeData(\n  nodeId: string,\n  nodeDataUpdate: NodeDataUpdate\n): UpdateNodeDataAction {\n  return {\n    type: UPDATE_NODE_DATA,\n    payload: { nodeId, nodeDataUpdate },\n  }\n}\n\nexport function deleteNode(nodeId: string): DeleteNodeAction {\n  return {\n    type: DELETE_NODE,\n    payload: nodeId,\n  }\n}\n\nexport function loadWorkspace(workspaceId: string): LoadWorkspaceAction {\n  return {\n    type: LOAD_WORKSPACE,\n    payload: workspaceId,\n  }\n}\n\nexport function createNewWorkspace(): CreateNewWorkspaceAction {\n  return {\n    type: CREATE_NEW_WORKSPACE,\n  }\n}\n\nexport function updateSelectedWorkspace(\n  workspaceUpdate: WorkspaceUpdate\n): UpdateSelectedWorkspaceAction {\n  return {\n    type: UPDATE_SELECTED_WORKSPACE,\n    payload: workspaceUpdate,\n  }\n}\n\nexport function startFlow(\n  flowId: string\n): ThunkAction<void, FlowState, unknown, Action<string>> {\n  return async function (dispatch) {\n    const flow = store.getState().flowState.flows[flowId]\n    const flowArguments = store.getState().flowState.workspaces[\n      flow.workspaceId\n    ]?.flowArguments\n\n    if (typeof flow === undefined)\n      return dispatch(showBanner(\"Could not start flow\", \"error\") as any)\n\n    const { flowChart } = flow as Flow\n    const yaml = formatAsYAML(flowChart, flowArguments as FlowArguments)\n    logger.log(\n      \"startFlow\",\n      \"\\n\\tworkspaceId:\",\n      flow.workspaceId,\n      \"\\n\\tflowId: \",\n      flowId,\n      \"\\n\\tchart:\",\n      flowChart,\n      \"\\n\\tyaml:\",\n      yaml\n    )\n\n    const result = await jinadClient.startFlow(yaml)\n    const { status, message, flow_id } = result\n\n    logger.log(\"startFlow result\", result)\n\n    if (status === \"error\") return dispatch(showBanner(message, \"error\") as any)\n\n    dispatch(updateSelectedFlow({ daemon_id: flow_id }))\n    dispatch(showBanner(message, \"success\") as any)\n    dispatch(initNetworkFlow(flowId))\n  }\n}\n\nexport function stopFlow(\n  flowId: string\n): ThunkAction<void, FlowState, unknown, Action<string>> {\n  return async function (dispatch) {\n    const flow = store.getState().flowState.flows[flowId]\n    logger.log(\"stopFlow: \", flowId)\n\n    if (typeof flow === undefined)\n      return dispatch(showBanner(\"Could not stop flow\", \"error\") as any)\n\n    const { daemon_id } = flow\n    logger.log(\"flow:\", flow)\n    logger.log(\"daemon_id:\", daemon_id)\n    if (!daemon_id)\n      return dispatch(showBanner(\"Flow is not deployed\", \"error\") as any)\n\n    const result = await jinadClient.terminateFlow(daemon_id)\n    const { status, message } = result\n\n    logger.log(\"stopFlow result: \", result)\n    if (status === \"error\") return dispatch(showBanner(message, \"error\") as any)\n\n    dispatch(showBanner(message, \"success\") as any)\n  }\n}\n\nexport function initNetworkFlow(\n  flowId: string\n): ThunkAction<void, FlowState, unknown, Action<string>> {\n  return async function (dispatch) {\n    const flow = store.getState().flowState.flows[flowId]\n    const { daemon_id } = flow\n    if (!daemon_id)\n      return dispatch(showBanner(\"Could not initialize flow\", \"error\") as any)\n\n    const flowResult = await jinadClient.getFlow(daemon_id)\n    logger.log(\"got network flow:\", flowResult)\n    if (flowResult.status === \"error\") {\n      if (flowResult.message)\n        dispatch(showBanner(flowResult.message, \"error\") as any)\n      return\n    }\n    const { workspace_id } = flowResult.flow\n\n    dispatch(updateSelectedWorkspace({ daemon_id: workspace_id }))\n\n    //See: https://github.com/jina-ai/jina/issues/1812\n    setTimeout(() => dispatch(initLogStream(workspace_id, daemon_id)), 5000)\n  }\n}\n","import { defaultFlowArguments } from \"../redux/flows/flows.constants\"\nimport { ExampleFlows, Workspaces } from \"../redux/flows/flows.types\"\n\nexport const exampleWorkspaces: Workspaces = {\n  example_workspace_pokedex: {\n    jina_version: \"latest\",\n    type: \"example\",\n    name: \"Pokedex Workspace\",\n    selectedFlowId: \"example_flow_pokedex\",\n    flowArguments: defaultFlowArguments,\n    isConnected: false,\n    daemon_endpoint: null,\n    daemon_id: null,\n    files: [],\n  },\n  example_workspace_flower: {\n    jina_version: \"latest\",\n    type: \"example\",\n    name: \"Flower Workspace\",\n    selectedFlowId: \"example_flow_flower\",\n    flowArguments: defaultFlowArguments,\n    isConnected: false,\n    daemon_endpoint: null,\n    daemon_id: null,\n    files: [],\n  },\n  example_workspace_southpark: {\n    jina_version: \"latest\",\n    type: \"example\",\n    name: \"Southpark Workspace\",\n    selectedFlowId: \"example_flow_southpark\",\n    flowArguments: defaultFlowArguments,\n    isConnected: false,\n    daemon_endpoint: null,\n    daemon_id: null,\n    files: [],\n  },\n  example_workspace_test: {\n    jina_version: \"latest\",\n    type: \"example\",\n    name: \"Example Workspace\",\n    selectedFlowId: \"blankFlow\",\n    flowArguments: defaultFlowArguments,\n    isConnected: false,\n    daemon_endpoint: null,\n    daemon_id: null,\n    files: [],\n  },\n}\n\nexport const exampleFlows: ExampleFlows = {\n  example_flow_pokedex: {\n    workspaceId: \"example_workspace_pokedex\",\n    name: \"Pokedex Query\",\n    yaml: `!Flow\n      with:\n        read_only: true\n        rest_api: true\n        port_expose: $JINA_PORT\n        board:\n          canvas:\n            gateway:\n              x: 250\n              y: 150\n            chunk_seg:\n              x: 250\n              y: 268\n            tf_encode:\n              x: 250\n              y: 420\n            chunk_idx:\n              x: 250\n              y: 600\n            ranker:\n              x: 250\n              y: 836\n            doc_idx:\n              x: 249\n              y: 985\n      pods:\n        gateway: {}\n        chunk_seg:\n          uses: pods/craft.yml\n          parallel: $PARALLEL\n          needs: gateway\n        tf_encode:\n          uses: pods/encode.yml\n          parallel: $PARALLEL\n          timeout_ready: 600000\n          needs: chunk_seg\n        chunk_idx:\n          uses: pods/chunk.yml\n          separated_workspace: true\n          polling: all\n          uses_reducing: _merge_all\n          timeout_ready: 100000\n          needs: tf_encode\n        ranker:\n          uses: BiMatchRanker\n          needs: chunk_idx\n        doc_idx:\n          uses: pods/doc.yml\n          needs: ranker\n      \n      `,\n  },\n  example_flow_flower: {\n    workspaceId: \"example_workspace_flower\",\n    name: \"Flower Query\",\n    yaml: `!Flow\n  with:\n    read_only: true\n    port_expose: $JINA_PORT\n    board:\n      canvas:\n        gateway:\n          x: 250\n          y: 150\n        loader:\n          x: 250\n          y: 257\n        flipper:\n          x: 252\n          y: 407\n        normalizer:\n          x: 239\n          y: 563\n        encoder:\n          x: 252\n          y: 712\n        chunk_indexer:\n          x: 250\n          y: 872\n        ranker:\n          x: 252\n          y: 1066\n        doc_indexer:\n          x: 253\n          y: 1199\n  pods:\n    gateway: {}\n    loader:\n      uses: yaml/craft-load.yml\n      read_only: true\n      needs: gateway\n    flipper:\n      uses: yaml/craft-flip.yml\n      read_only: true\n      needs: loader\n    normalizer:\n      uses: yaml/craft-normalize.yml\n      read_only: true\n      needs: flipper\n    encoder:\n      uses: $ENCODER\n      timeout_ready: 600000\n      read_only: true\n      needs: normalizer\n    chunk_indexer:\n      uses: yaml/index-chunk.yml\n      separated_workspace: true\n      polling: all\n      uses_reducing: _merge_all\n      needs: encoder\n    ranker:\n      uses: MinRanker\n      needs: chunk_indexer\n    doc_indexer:\n      uses: yaml/index-doc.yml\n      needs: ranker  \n  `,\n  },\n  example_flow_southpark: {\n    workspaceId: \"example_workspace_southpark\",\n    name: \"Southpark Query\",\n    yaml: `!Flow\nwith:\n  read_only: true\n  port_expose: $JINA_PORT\n  board:\n    canvas:\n      gateway:\n        x: 254\n        y: 147\n      splittor:\n        x: 254\n        y: 270\n      encoder:\n        x: 254\n        y: 448\n      chunk_indexer:\n        x: 251\n        y: 645\n      ranker:\n        x: 255\n        y: 862\n      doc_indexer:\n        x: 256\n        y: 1002\npods:\n  gateway: {}\n  splittor:\n    uses: pods/craft-split.yml\n    parallel: $PARALLEL\n    read_only: true\n    needs: gateway\n  encoder:\n    uses: pods/encode.yml\n    parallel: $PARALLEL\n    timeout_ready: 60000\n    read_only: true\n    needs: splittor\n  chunk_indexer:\n    uses: pods/index-chunk.yml\n    separated_workspace: true\n    polling: all\n    reducing_uses: _merge_all\n    needs: encoder\n  ranker:\n    uses: MinRanker\n    needs: chunk_indexer\n  doc_indexer:\n    uses: pods/index-doc.yml\n    needs: ranker\n`,\n  },\n  blankFlow: {\n    name: \"Test Flow\",\n    workspaceId: \"example_workspace_test\",\n    yaml: `!Flow\n    with:\n      rest_api: true\n      port_expose: 5555\n    pods:\n      pod1:\n        read_only: true\n      pod2:\n        read_only: true\n      pod3:\n        read_only: true`,\n  },\n}\n","import _ from \"lodash\"\nimport { exampleFlows, exampleWorkspaces } from \"../../data/exampleData\"\nimport { formatForFlowchart, parseYAML } from \"../../helpers\"\nimport {\n  ADD_LINK,\n  CREATE_NEW_FLOW,\n  ADD_NODE,\n  DELETE_FLOW,\n  DELETE_LINK,\n  DELETE_NODE,\n  DUPLICATE_FLOW,\n  IMPORT_FLOW,\n  initialFlowChart,\n  LOAD_FLOW,\n  SET_FLOW_ARGUMENTS,\n  UPDATE_NODE,\n  UPDATE_SELECTED_FLOW,\n  UPDATE_NODE_DATA,\n  LOAD_WORKSPACE,\n  CREATE_NEW_WORKSPACE,\n  UPDATE_SELECTED_WORKSPACE,\n  DELETE_WORKSPACE,\n  defaultFlow,\n  defaultJinaVersion,\n  defaultFlowArguments,\n  defaultSelectedFlowId,\n  defaultWorkspaces,\n  defaultFlows,\n} from \"./flows.constants\"\nimport {\n  Flow,\n  FlowActionTypes,\n  FlowElement,\n  Flows,\n  FlowState,\n  NodeData,\n  Workspace,\n  Workspaces,\n} from \"./flows.types\"\nimport { nanoid } from \"nanoid\"\nimport produce from \"immer\"\nimport { isNodeConnection } from \"../../helpers/typeCheckers\"\nimport {\n  createEdge,\n  createNode,\n  isFlowNode,\n  isFlowEdge,\n} from \"../../helpers/flow-chart\"\nimport { Connection } from \"react-flow-renderer/dist/types\"\n\nexport const saveFlowsToStorage = (state: FlowState) => {\n  let toSave: { [id: string]: Flow } = {}\n  Object.entries(state.flows).forEach(([id, flow]) => {\n    if (flow.type === \"user-generated\") toSave[id] = flow\n  })\n  localStorage.setItem(\"userFlows\", JSON.stringify(toSave))\n}\n\nexport const saveWorkspacesToStorage = (state: FlowState) => {\n  let toSave: { [id: string]: Workspace } = {}\n  const { workspaces } = state\n  Object.entries(workspaces).forEach(([id, workspace]: [string, Workspace]) => {\n    if (workspace.type === \"user-generated\") toSave[id] = workspace\n  })\n  localStorage.setItem(\"userWorkspaces\", JSON.stringify(toSave))\n}\n\nfunction getUserFlows(): Flows {\n  const storedFlows = localStorage.getItem(\"userFlows\")\n  const userFlows = storedFlows ? JSON.parse(storedFlows) : null\n  return _.isEmpty(userFlows) ? defaultFlow : userFlows\n}\n\nfunction getUserWorkspaces(): Workspaces {\n  const storedWorkspaces = localStorage.getItem(\"userWorkspaces\")\n  const userWorkspaces = storedWorkspaces ? JSON.parse(storedWorkspaces) : null\n  return _.isEmpty(userWorkspaces)\n    ? {\n        _userWorkspace: {\n          name: \"Workspace 1\",\n          type: \"user-generated\",\n          daemon_endpoint: \"\",\n          isConnected: false,\n          workspace_id: \"\",\n          files: [],\n          selectedFlowId: defaultSelectedFlowId,\n          flows: {\n            ...getUserFlows(),\n          },\n          flowArguments: defaultFlowArguments,\n        },\n      }\n    : userWorkspaces\n}\n\nfunction getExampleFlows() {\n  const flows: Flows = {}\n\n  Object.entries(exampleFlows).forEach(([id, flow]) => {\n    const parsed = parseYAML(flow.yaml)\n    if (parsed?.data) {\n      const formatted = formatForFlowchart(parsed.data)\n      flows[id] = {\n        ...flow,\n        workspaceId: flow.workspaceId,\n        type: \"user-generated\",\n        isConnected: false,\n        flowChart: formatted,\n      }\n    }\n  })\n  return flows\n}\n\nfunction getExampleWorkspaces() {\n  return exampleWorkspaces\n}\n\nconst initialState: FlowState = {\n  selectedWorkspaceId: \"_userWorkspace\",\n  workspaces: {\n    ...getExampleWorkspaces(),\n    ...getUserWorkspaces(),\n  },\n  flows: {\n    ...getExampleFlows(),\n    ...getUserFlows(),\n  },\n}\n\nconst flowReducer = produce((draft: FlowState, action: FlowActionTypes) => {\n  console.log(\"REDUCER ACTION: \", action)\n  switch (action.type) {\n    case CREATE_NEW_FLOW: {\n      draft = _createNewFlow(draft)\n      break\n    }\n    case DUPLICATE_FLOW: {\n      draft = _createNewFlow(draft, action.payload)\n      break\n    }\n    case IMPORT_FLOW: {\n      draft = _createNewFlow(draft, action.payload)\n      break\n    }\n    case DELETE_FLOW: {\n      const flowId = action.payload\n      console.log(\"delete flowId: \", flowId)\n\n      console.log(\"flows before: \", JSON.parse(JSON.stringify(draft.flows)))\n      draft.flows = _.omit(draft.flows, flowId)\n      console.log(\"flows after: \", JSON.parse(JSON.stringify(draft.flows)))\n\n      const workspaceId = draft.selectedWorkspaceId\n\n      console.log(\"workspace: \", workspaceId)\n\n      const { selectedFlowId } = draft.workspaces[workspaceId]\n\n      const workspaceFlows = Object.entries(draft.flows).filter(\n        ([id, flow]: [string, Flow]) => {\n          return flow.workspaceId === workspaceId\n        }\n      )\n\n      console.log(\"workspaceFlows:\", JSON.parse(JSON.stringify(workspaceFlows)))\n\n      if (selectedFlowId === flowId && workspaceFlows.length) {\n        const firstFlowId = workspaceFlows[0][0]\n        draft.workspaces[workspaceId].selectedFlowId = firstFlowId\n        console.log(\"firstFlowId:\", firstFlowId)\n      } else if (!workspaceFlows.length) {\n        const newFlowId = nanoid()\n        _createNewFlow(draft, undefined, newFlowId)\n        draft.workspaces[workspaceId].selectedFlowId = newFlowId\n      }\n      console.log(\"new draft: \", JSON.parse(JSON.stringify(draft)))\n      break\n    }\n    case UPDATE_SELECTED_FLOW: {\n      const flowUpdate = action.payload\n      if (draft.workspaces[draft.selectedWorkspaceId].selectedFlowId) {\n        const selectedFlow =\n          draft.flows[\n            draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n          ]\n        draft.flows[\n          draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n        ] = {\n          ...selectedFlow,\n          ...flowUpdate,\n        }\n      }\n      break\n    }\n    case SET_FLOW_ARGUMENTS: {\n      draft.workspaces[draft.selectedWorkspaceId].flowArguments = action.payload\n      break\n    }\n    case LOAD_FLOW:\n      draft.workspaces[draft.selectedWorkspaceId].selectedFlowId =\n        action.payload\n      break\n    case UPDATE_NODE: {\n      const { nodeUpdate, nodeId } = action.payload\n      const selectedFlowId =\n        draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n      const oldNodeIndex = draft.flows[\n        selectedFlowId\n      ].flowChart.elements.findIndex((element) => element.id === nodeId)\n\n      if (oldNodeIndex >= 0) {\n        const oldNode =\n          draft.flows[selectedFlowId].flowChart.elements[oldNodeIndex]\n\n        const newNode = {\n          ...oldNode,\n          ...nodeUpdate,\n        }\n\n        draft.flows[selectedFlowId].flowChart.elements[oldNodeIndex] = newNode\n      }\n      break\n    }\n    case UPDATE_NODE_DATA: {\n      const { nodeDataUpdate, nodeId } = action.payload\n      const selectedFlowId =\n        draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n      const oldNodeIndex = draft.flows[\n        selectedFlowId\n      ].flowChart.elements.findIndex((element) => element.id === nodeId)\n\n      if (oldNodeIndex >= 0) {\n        const oldNode =\n          draft.flows[selectedFlowId].flowChart.elements[oldNodeIndex]\n\n        const newData: NodeData = {\n          ...oldNode.data,\n          ...nodeDataUpdate,\n        }\n\n        draft.flows[selectedFlowId].flowChart.elements[\n          oldNodeIndex\n        ].data = newData\n      }\n\n      break\n    }\n    case ADD_NODE:\n      const { data, id, position } = action.payload\n      const newNode = createNode(id, data, position)\n      draft.flows[\n        draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n      ].flowChart.elements.push(newNode)\n      break\n    case DELETE_NODE:\n      const nodeId = action.payload\n      const selectedFlow =\n        draft.flows[draft.workspaces[draft.selectedWorkspaceId].selectedFlowId]\n      const withoutLinksAndNode = selectedFlow.flowChart.elements.filter(\n        (element) => {\n          if (isFlowNode(element)) return element.id !== nodeId\n\n          if (isFlowEdge(element))\n            return element.source !== nodeId && element.target !== nodeId\n\n          return true\n        }\n      )\n\n      draft.flows[\n        draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n      ].flowChart.elements = withoutLinksAndNode\n      break\n    case ADD_LINK:\n      const { source, target } = action.payload\n      const newLink = createEdge(source, target)\n      draft.flows[\n        draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n      ].flowChart.elements.push(newLink)\n      break\n    case DELETE_LINK:\n      if (isNodeConnection(action.payload)) {\n        const { source, target } = action.payload as Connection\n        draft.flows[\n          draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n        ].flowChart.elements = draft.flows[\n          draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n        ].flowChart.elements.filter(\n          (element: FlowElement) =>\n            !(\n              isFlowEdge(element) &&\n              (element.source === source || element.target === target)\n            )\n        )\n      } else {\n        const linkId = action.payload\n        draft.flows[\n          draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n        ].flowChart.elements = draft.flows[\n          draft.workspaces[draft.selectedWorkspaceId].selectedFlowId\n        ].flowChart.elements.filter(\n          (element: FlowElement) => linkId !== element.id\n        )\n      }\n      break\n    case LOAD_WORKSPACE:\n      draft.selectedWorkspaceId = action.payload\n      break\n    case CREATE_NEW_WORKSPACE:\n      draft = _createNewWorkspace(draft)\n      break\n    case UPDATE_SELECTED_WORKSPACE: {\n      const workspaceUpdate = action.payload\n      if (draft.selectedWorkspaceId) {\n        const selectedWorkspace = draft.workspaces[draft.selectedWorkspaceId]\n        draft.workspaces[draft.selectedWorkspaceId] = {\n          ...selectedWorkspace,\n          ...workspaceUpdate,\n        }\n      }\n      break\n    }\n    case DELETE_WORKSPACE: {\n      const workspaceId = action.payload as string\n      draft.workspaces = _.omit(draft.workspaces, workspaceId)\n      draft.flows = _.pickBy(\n        draft.flows,\n        (flow) => flow.workspaceId !== workspaceId\n      )\n\n      const nonExampleWorkspaces = Object.entries(draft.workspaces).filter(\n        ([id, workspace]: [string, Workspace]) => workspace.type !== \"example\"\n      )\n\n      if (\n        draft.selectedWorkspaceId === workspaceId &&\n        nonExampleWorkspaces.length\n      ) {\n        const idFirstNonExampleWorkspace = nonExampleWorkspaces[0][0]\n        draft.selectedWorkspaceId = idFirstNonExampleWorkspace\n      } else if (!nonExampleWorkspaces.length) {\n        draft.workspaces = {\n          ..._.cloneDeep(defaultWorkspaces),\n          ...getExampleWorkspaces(),\n        }\n        draft.flows = {\n          ..._.cloneDeep(defaultFlows),\n          ...getExampleFlows(),\n        }\n        draft.selectedWorkspaceId = Object.keys(draft.workspaces)[0]\n      }\n      break\n    }\n  }\n  saveFlowsToStorage(draft)\n  saveWorkspacesToStorage(draft)\n}, initialState)\n\nfunction _createNewFlow(\n  draft: FlowState,\n  customYAML?: string,\n  id = nanoid(),\n  workspaceId?: string\n): FlowState {\n  const prefixString = \"Custom Flow\"\n\n  let userFlows = Object.values(draft.flows).filter((flow: Flow) =>\n    flow.name.startsWith(prefixString)\n  )\n\n  const userFlowNumbers = userFlows\n    .map(\n      (userFlow: Flow) =>\n        parseInt(userFlow.name.substring(prefixString.length)) || 0\n    )\n    .sort((a, b) => a - b)\n\n  const largestNumber = userFlowNumbers[userFlowNumbers.length - 1] || 0\n\n  let flowChart = initialFlowChart\n\n  if (customYAML) {\n    const parsed = parseYAML(customYAML)\n    if (parsed?.data) flowChart = formatForFlowchart(parsed.data)\n  }\n  draft.flows[id] = {\n    isConnected: false,\n    name: `${prefixString} ${largestNumber + 1}`,\n    type: \"user-generated\",\n    workspaceId: workspaceId ? workspaceId : draft.selectedWorkspaceId,\n    flowChart,\n  }\n  return draft\n}\n\nfunction _createNewWorkspace(draft: FlowState): FlowState {\n  const prefixString = \"Workspace\"\n\n  let userWorkspaces = Object.values(\n    draft.workspaces\n  ).filter((workspace: Workspace) => workspace.name.startsWith(prefixString))\n\n  const userWorkspaceNumbers = userWorkspaces\n    .map(\n      (userWorkspace: Workspace) =>\n        parseInt(userWorkspace.name.substring(prefixString.length)) || 0\n    )\n    .sort((a, b) => a - b)\n\n  const largestNumber =\n    userWorkspaceNumbers[userWorkspaceNumbers.length - 1] || 0\n\n  const workspaceId = nanoid()\n  const flowId = nanoid()\n\n  draft.workspaces[workspaceId] = {\n    jina_version: defaultJinaVersion,\n    flowArguments: defaultFlowArguments,\n    selectedFlowId: flowId,\n    name: `${prefixString} ${largestNumber + 1}`,\n    type: \"user-generated\",\n    daemon_endpoint: \"\",\n    isConnected: false,\n    daemon_id: null,\n    files: [],\n  }\n  draft = _createNewFlow(draft, undefined, flowId, workspaceId)\n  return draft\n}\n\nexport default flowReducer\n","import { NodeConnection, DeleteLinkProps } from \"../redux/flows/flows.types\"\n\nexport function isNodeConnection(\n  deleteLinkProps: DeleteLinkProps\n): deleteLinkProps is NodeConnection {\n  return (deleteLinkProps as NodeConnection).source !== undefined\n}\n","import { HubState, HubActionTypes } from \"./hub.types\"\nimport {\n  FETCH_HUB_IMAGES,\n  FETCH_HUB_IMAGES_SUCCESS,\n  FETCH_HUB_IMAGES_FAILURE,\n  initialHubState,\n  PICK_FILTER,\n  CLEAR_FILTERS,\n} from \"./hub.constants\"\nimport produce from \"immer\"\nimport _ from \"lodash\"\n\nconst hubReducer = produce((draft: HubState, action: HubActionTypes) => {\n  switch (action.type) {\n    case FETCH_HUB_IMAGES:\n      draft.loading = true\n      break\n    case FETCH_HUB_IMAGES_SUCCESS:\n      draft.loading = false\n      draft.images = action.payload.images\n      draft.error = null\n      break\n    case FETCH_HUB_IMAGES_FAILURE:\n      draft.images = []\n      draft.loading = false\n      draft.error = action.payload.error\n      break\n    case PICK_FILTER:\n      draft.selectedFilters = _.xor(draft.selectedFilters, [\n        action.payload.filter,\n      ])\n      break\n    case CLEAR_FILTERS:\n      draft.selectedFilters = draft.selectedFilters.filter(\n        (selectedFilter) => !action.payload.filters.includes(selectedFilter)\n      )\n  }\n}, initialHubState)\n\nexport default hubReducer\n","import { intialSettings, UPDATE_SETTINGS } from \"./settings.constants\"\nimport {\n  SettingName,\n  Settings,\n  SettingsActionTypes,\n  SettingsState,\n} from \"./settings.types\"\nimport logger from \"../../logger\"\nimport produce from \"immer\"\n\nconst settingsReducer = produce(\n  (draft: SettingsState, action: SettingsActionTypes) => {\n    switch (action.type) {\n      case UPDATE_SETTINGS:\n        draft.settings = {\n          ...draft.settings,\n          ...action.payload,\n        }\n        logger.log(\"saveSettings - settings\", draft.settings)\n        _saveSettingsInStore(draft.settings)\n    }\n  },\n  intialSettings\n)\n\nfunction _saveSettingsInStore(settings: Settings) {\n  Object.keys(settings).forEach((key) => {\n    localStorage.setItem(\n      `preferences-${key}`,\n      settings[key as SettingName] as string\n    )\n  })\n}\n\nexport default settingsReducer\n","import {\n  HANDLE_NEW_LOG,\n  getInitialLogLevel,\n  intialLogStreamState,\n  SHOW_LOG_INDEX,\n} from \"./logStream.constants\"\nimport { LogStreamActionTypes, LogStreamState, RawLog } from \"./logStream.types\"\nimport logger from \"../../logger\"\nimport { transformLog } from \"../../helpers\"\nimport produce from \"immer\"\n\nconst logStreamReducer = produce(\n  (draft: LogStreamState, action: LogStreamActionTypes) => {\n    switch (action.type) {\n      case SHOW_LOG_INDEX:\n        draft.logIndex = action.payload\n        break\n      case HANDLE_NEW_LOG:\n        _handleNewLog()\n    }\n\n    function _handleNewLog() {\n      const rawLog = action.payload as RawLog\n      logger.log(\"_handleNewLog\")\n      const log = transformLog(rawLog, draft.logs.length)\n\n      const { name, level, unixTime } = log\n      draft.logs.push(log)\n\n      const newLogSourceValue = draft.logSources[name]\n        ? draft.logSources[name] + 1\n        : 1\n      draft.logSources[name] = newLogSourceValue\n\n      const newLogLevelValue = draft.logLevels[level]\n        ? draft.logLevels[level] + 1\n        : 1\n      draft.logLevels[level] = newLogLevelValue\n\n      const newLogLevelOccurrence = draft.logLevelOccurrences[unixTime]\n        ? { ...draft.logLevelOccurrences[unixTime] }\n        : getInitialLogLevel()\n      draft.logLevelOccurrences[unixTime] = newLogLevelOccurrence\n      draft.logLevelOccurrences[unixTime].levels[level]++\n      draft.logLevelOccurrences[unixTime].lastLog = log.idx\n    }\n  },\n  intialLogStreamState\n)\n\nexport default logStreamReducer\n","import {\n  CLOSE_MODAL,\n  HANDLE_CONNECTION_STATUS,\n  HIDE_BANNER,\n  LOGOUT,\n  SHOW_BANNER,\n  SHOW_ERROR,\n  SHOW_MODAL,\n  TOGGLE_SIDE_BAR,\n  SETUSER,\n  getInitialGlobalState,\n} from \"./global.constants\"\nimport logger from \"../../logger\"\nimport { HANDLE_NEW_LOG } from \"../logStream/logStream.constants\"\nimport produce from \"immer\"\nimport { GlobalActionTypes, GlobalState } from \"./global.types\"\n\nconst globalReducer = produce(\n  (draft: GlobalState, action: GlobalActionTypes) => {\n    switch (action.type) {\n      case HANDLE_CONNECTION_STATUS:\n        logger.log(\n          \"handleLogConnectionStatus - status\",\n          action.payload.connected\n        )\n        logger.log(\n          \"handleLogConnectionStatus - message\",\n          action.payload.message\n        )\n        draft.loading = false\n        draft.connected = action.payload.connected\n        break\n      case TOGGLE_SIDE_BAR:\n        draft.menuVisible = !draft.menuVisible\n        break\n      case SHOW_BANNER:\n        draft.banners.push({\n          message: action.payload.message,\n          theme: action.payload.theme,\n        })\n        break\n      case HIDE_BANNER:\n        draft.banners.shift()\n        break\n      case SHOW_ERROR:\n        draft.banners.push({\n          message: action.payload.message,\n          theme: \"error\",\n        })\n        break\n      case SHOW_MODAL:\n        draft.modal = action.payload.modal\n        draft.modalParams = action.payload.modalParams\n        break\n      case CLOSE_MODAL:\n        draft.modal = null\n        draft.modalParams = null\n        break\n      case HANDLE_NEW_LOG:\n        draft.processes[action.payload.process] = action.payload.name\n        break\n      case SETUSER:\n        draft.user = action.payload.user\n        break\n      case LOGOUT:\n        draft.user = null\n        localStorage.removeItem(\"user\")\n        break\n    }\n  },\n  getInitialGlobalState()\n)\n\nexport default globalReducer\n","import { TaskState } from \"./task.types\";\n\nexport const HANDLE_NEW_TASK_EVENT = \"HANDLE_TASK\";\n\nexport const initialTaskState: TaskState = {\n  taskData: {\n    qps: {\n      current: \"0\",\n      history: new Array(30).fill(0),\n    },\n    elapsed: {\n      task_name: \"No Current Task\",\n      seconds: \"0s\",\n    },\n    progress: {\n      currentRequest: 0,\n      bar_len: 0,\n      num_bars: 0,\n    },\n    speed: {\n      current: \"0\",\n      unit: \"units\",\n      history: new Array(30).fill(0),\n    },\n    lastUpdateChart: new Date(),\n    messages: [],\n    bytes: [],\n  },\n};\n","import { Message, TaskActions, TaskEvent, TaskState } from \"./task.types\"\nimport { HANDLE_NEW_TASK_EVENT, initialTaskState } from \"./task.constants\"\nimport { Processes } from \"../global/global.types\"\nimport { formatSeconds } from \"../../helpers\"\nimport produce from \"immer\"\n\nconst taskReducer = produce((draft: TaskState, action: TaskActions) => {\n  switch (action.type) {\n    case HANDLE_NEW_TASK_EVENT:\n      return _handleNewTaskEvent()\n  }\n\n  function _handleNewTaskEvent() {\n    const {\n      taskEvent,\n      processes,\n    }: { taskEvent: TaskEvent; processes: Processes } = action.payload\n\n    const event = { ...taskEvent }\n\n    const {\n      task_name,\n      process,\n      bar_len,\n      num_bars,\n      elapsed,\n      speed,\n      speed_unit,\n      bytes_recv,\n      bytes_sent,\n      msg_recv,\n      msg_sent,\n      num_reqs,\n      qps,\n    } = event\n\n    if (bar_len && num_bars) {\n      draft.taskData.progress.currentRequest = num_reqs\n      draft.taskData.progress.bar_len = bar_len\n      draft.taskData.progress.num_bars = num_bars\n    }\n\n    if (msg_recv && msg_sent) {\n      let index = draft.taskData.messages\n        .map((obj) => obj.process)\n        .indexOf(process)\n\n      let msgData = {\n        process,\n        sent: msg_sent,\n        received: msg_recv,\n        node: processes[process],\n      }\n\n      let bytesData = {\n        process,\n        sent: bytes_sent,\n        received: bytes_recv,\n        node: processes[process],\n      }\n\n      if (index < 0) {\n        draft.taskData.messages.push(msgData)\n        draft.taskData.bytes.push(bytesData)\n      } else {\n        draft.taskData.messages[index] = msgData\n        draft.taskData.bytes[index] = bytesData\n      }\n\n      draft.taskData.messages = draft.taskData.messages\n        .sort(\n          (a: Message, b: Message) =>\n            b.sent + b.received - (a.sent + a.received)\n        )\n        .slice(0, 20)\n\n      draft.taskData.bytes = draft.taskData.bytes\n        .sort(\n          (a: Message, b: Message) =>\n            b.sent + b.received - (a.sent + a.received)\n        )\n        .slice(0, 20)\n    }\n\n    draft.taskData.lastUpdateChart = new Date()\n\n    if (qps) {\n      draft.taskData.qps.current = parseFloat(qps).toFixed(1)\n      draft.taskData.qps.history.push(parseFloat(qps).toFixed(3))\n      draft.taskData.qps.history.shift()\n    }\n\n    if (speed && speed_unit) {\n      draft.taskData.speed.unit = speed_unit\n      draft.taskData.speed.current = parseFloat(speed).toFixed(1)\n      draft.taskData.speed.history.push(parseFloat(speed).toFixed(3))\n      draft.taskData.speed.history.shift()\n    }\n\n    if (elapsed) {\n      draft.taskData.elapsed.seconds = formatSeconds(parseInt(elapsed))\n      draft.taskData.elapsed.task_name = `Task: ${task_name}`\n    }\n  }\n}, initialTaskState)\n\nexport default taskReducer\n","import { combineReducers, createStore, applyMiddleware, Action } from \"redux\"\nimport flowReducer from \"./flows/flows.reducer\"\nimport { FlowState } from \"./flows/flows.types\"\nimport { HubState } from \"./hub/hub.types\"\nimport hubReducer from \"./hub/hub.reducer\"\nimport { composeWithDevTools } from \"redux-devtools-extension\"\nimport { SettingsState } from \"./settings/settings.types\"\nimport settingsReducer from \"./settings/settings.reducer\"\nimport { LogStreamState } from \"./logStream/logStream.types\"\nimport logStreamReducer from \"./logStream/logStream.reducer\"\nimport { GlobalState } from \"./global/global.types\"\nimport globalReducer from \"./global/global.reducer\"\nimport thunk, { ThunkAction } from \"redux-thunk\"\nimport { handleJinadConnectionStatus } from \"./global/global.actions\"\nimport taskReducer from \"./task/task.reducer\"\nimport { TaskState } from \"./task/task.types\"\nimport jinadClient from \"../services/jinad\"\nexport type State = {\n  flowState: FlowState\n  hubState: HubState\n  settingsState: SettingsState\n  logStreamState: LogStreamState\n  globalState: GlobalState\n  taskState: TaskState\n}\n\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  State,\n  unknown,\n  Action<string>\n>\n\nconst rootReducer = combineReducers({\n  flowState: flowReducer,\n  hubState: hubReducer,\n  settingsState: settingsReducer,\n  logStreamState: logStreamReducer,\n  globalState: globalReducer,\n  taskState: taskReducer,\n})\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nfunction _handleLogConnectionStatus({\n  connected,\n  message,\n}: {\n  connected: boolean\n  message: string\n}) {\n  store.dispatch<any>(handleJinadConnectionStatus(connected, message))\n}\n\njinadClient.connect(\n  store.getState().settingsState.settings,\n  _handleLogConnectionStatus\n)\n\nexport default store\n","import { GlobalState, TNavItem } from \"./global.types\"\n\nexport const HANDLE_CONNECTION_STATUS = \"HANDLE_CONNECTION_STATUS\"\nexport const TOGGLE_SIDE_BAR = \"TOGGLE_SIDE_BAR\"\nexport const SHOW_BANNER = \"SHOW_BANNER\"\nexport const HIDE_BANNER = \"HIDE_BANNER\"\nexport const SHOW_ERROR = \"SHOW_ERROR\"\nexport const SHOW_MODAL = \"SHOW_MODAL\"\nexport const CLOSE_MODAL = \"CLOSE_MODAL\"\nexport const CONNECT_JINAD = \"CONNECT_JINAD\"\nexport const FETCH_ARGUMENTS_FROM_API = \"FETCH_ARGUMENTS_FROM_API\"\nexport const FETCH_ARGUMENTS_FROM_DAEMON = \"FETCH_ARGUMENTS_FROM_DAEMON\"\nexport const LOGOUT = \"LOGOUT\"\nexport const SETUSER = \"SETUSER\"\n\nexport const HIDE_BANNER_TIMEOUT = 5000\n\nconst navItems: TNavItem[] = [\n  {\n    title: \"Home\",\n    to: \"/home\",\n    iconName: \"home\",\n    matches: [\"home\"],\n  },\n  {\n    title: \"Log Stream\",\n    to: \"/logs\",\n    iconName: \"insert_comment\",\n    matches: [\"logs\"],\n  },\n  {\n    title: \"Flow Design\",\n    to: \"/flow\",\n    iconName: \"device_hub\",\n    matches: [\"flow\"],\n  },\n  {\n    title: \"Hub\",\n    to: \"/hub\",\n    iconName: \"store\",\n    matches: [\"hub\", \"package\"],\n  },\n  {\n    title: \"Debug\",\n    to: \"/debug\",\n    iconName: \"pest_control\",\n    matches: [\"debug\"],\n  },\n  {\n    title: \"Settings\",\n    to: \"/settings\",\n    iconName: \"settings\",\n    matches: [\"settings\"],\n  },\n  {\n    title: \"Help\",\n    to: \"/help\",\n    iconName: \"help\",\n    matches: [\"help\"],\n  },\n]\n\nexport function getInitialGlobalState(): GlobalState {\n  let user = null\n  const userString = localStorage.getItem(\"user\")\n  if (userString) {\n    user = JSON.parse(userString)\n  }\n\n  return {\n    user,\n    banners: [],\n    connected: false,\n    currentTab: \"logStream\",\n    loading: true,\n    menuVisible: false,\n    modal: null,\n    modalParams: null,\n    navItems,\n    processes: {},\n  }\n}\n","import { ProcessedLog } from \"../redux/logStream/logStream.types\";\n\nconst toBlob = (content: string) => {\n  return new Blob([content], { type: \"text,plain;charset=utf-8\" });\n};\n\nconst serializeLogsToCSV = (logs: ProcessedLog[]): string => {\n  const columns =\n    \"created,formatted timestamp,name,process,level name,message,context,host,workspace\\n\";\n  const fileContent = logs.reduce((acc, log) => {\n    acc += `${log.uptime},\"${log.formattedTimestamp}\",${log.name},${log.process},${log.level},\"${log.message}\",${log.context},${log.host},${log.workspace_path}\\n`;\n    return acc;\n  }, columns);\n  return fileContent;\n};\n\nconst serializeLogsToJSON = (logs: ProcessedLog[]): string => {\n  const fileContent = logs.reduce((acc, log, i) => {\n    acc += JSON.stringify(log) + `${i < logs.length - 1 ? \",\" : \"\"}\\n`;\n    return acc;\n  }, \"\\n\");\n  return `[${fileContent}]`;\n};\n\nconst serializeLogsToText = (logs: ProcessedLog[]): string => {\n  const fileContent = logs.reduce((acc, log) => {\n    acc += `${log.formattedTimestamp} ${log.name}@${log.process} [${log.level}]: ${log.message}\\n`;\n    return acc;\n  }, \"\");\n  return fileContent;\n};\n\nexport const serializeLogsToCSVBlob = (logs: ProcessedLog[]) =>\n  toBlob(serializeLogsToCSV(logs));\n\nexport const serializeLogsToJSONBlob = (logs: ProcessedLog[]) =>\n  toBlob(serializeLogsToJSON(logs));\nexport const serializeLogsToTextBlob = (logs: ProcessedLog[]) =>\n  toBlob(serializeLogsToText(logs));\n","import { nanoid } from \"nanoid\";\nimport { ProcessedLog, RawLog } from \"../redux/logStream/logStream.types\";\nconst levels = [\n  \"INFO\",\n  \"SUCCESS\",\n  \"WARNING\",\n  \"ERROR\",\n  \"CRITICAL\",\n  \"DEBUG\",\n] as const;\nexport type Level = typeof levels[number];\n\nfunction transformLog(log: RawLog, idx: number): ProcessedLog {\n  const { uptime, type } = log;\n  const id = nanoid();\n  const timestamp = new Date(uptime);\n  const unixTime = Math.floor(timestamp.valueOf() / 1000);\n  const formattedTimestamp = timestamp.toLocaleString();\n  return {\n    ...log,\n    id,\n    idx,\n    unixTime,\n    timestamp,\n    formattedTimestamp,\n    level: type,\n  };\n}\n\nexport { transformLog };\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { ThemeProvider } from \"@emotion/react\"\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\"\nimport { Provider } from \"react-redux\"\nimport { theme } from \"./theme\"\nimport * as Sentry from \"@sentry/react\"\nimport { Integrations } from \"@sentry/tracing\"\n\nimport \"swagger-ui-react/swagger-ui.css\"\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n// Todo: Remove shards and associated styles when we stop using it\nimport \"./styles/shards-dashboards.scss\"\nimport \"./App.css\"\nimport store from \"./redux\"\nimport { newVersionLocalStorageReset } from \"./helpers/utils\"\n\nlet App\nconst version = require(\"../package.json\").version\nconst localVersion = localStorage.getItem(\"version\")\n\nnewVersionLocalStorageReset(version, localVersion)\n\nconst { REACT_APP_TARGET, NODE_ENV } = process.env\n\nif (REACT_APP_TARGET === \"hub\") {\n  const { Hub } = require(\"./apps/Hub\")\n  App = Hub\n} else if (REACT_APP_TARGET === \"styleguide\") {\n  const { Styleguide } = require(\"./apps/Styleguide\")\n  App = Styleguide\n} else if (REACT_APP_TARGET === \"swagger\") {\n  const { Swagger } = require(\"./apps/Swagger\")\n  App = Swagger\n} else {\n  const { Dashboard } = require(\"./apps/Dashboard\")\n  App = Dashboard\n}\n\nif (NODE_ENV === \"production\") {\n  Sentry.init({\n    dsn:\n      \"https://085edd94ec3e479cb20f2c65f7b8cb82@o525420.ingest.sentry.io/5639443\",\n    integrations: [new Integrations.BrowserTracing()],\n    tracesSampleRate: 1.0,\n  })\n}\n\nReactDOM.render(\n  // HOC to make theme available as a prop in all components\n  <MuiThemeProvider theme={theme}>\n    <ThemeProvider theme={theme}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </ThemeProvider>\n  </MuiThemeProvider>,\n  document.getElementById(\"root\")\n)\n\nif (window.Cypress) {\n  window.store = store\n}\n","import axios from \"axios\"\nimport { timeout } from \"../helpers/utils\"\nimport logger from \"../logger\"\nimport {\n  FlowArgument,\n  FlowArguments,\n  FlowArgumentType,\n} from \"../redux/flows/flows.types\"\nimport { RawLog } from \"../redux/logStream/logStream.types\"\nimport { FLOW_RETRIES, FLOW_RETRY_TIMEOUT, TIMEOUT } from \"./config\"\nimport { DaemonArgumentsResponse } from \"./services.types\"\nimport { Settings } from \"../redux/settings/settings.types\"\nimport { ConnectionCallback } from \"../redux/global/global.types\"\n\nexport let jinadInstance = axios.create()\n\ntype LogHandler = (log: RawLog) => void\n\ntype Args = { [key: string]: string | number | boolean }\n\nconst jinadClient = {\n  connect: async (settings: Settings, callback: ConnectionCallback) => {\n    logger.log(\"api - connect - settings\", settings)\n    const baseURL = `${settings.jinadHost}:${settings.jinadPort}`\n\n    jinadInstance = axios.create({ baseURL, timeout: TIMEOUT })\n\n    let result\n    try {\n      result = await jinadInstance.get(\"/\")\n      if (result.status === 200) {\n        logger.log(\"api - connect successfully connected to jinad\")\n        return callback({\n          connected: true,\n          message: `Successfully connected to Jina at ${baseURL}`,\n        })\n      }\n    } catch (e) {\n      logger.log(\"api - connect could not connect to jinad:\", e)\n    }\n    return callback({ connected: false, message: \"failed to connect\" })\n  },\n  getJinaFlowArguments: async (): Promise<FlowArguments> => {\n    const statusResult = await jinadInstance.get(\"/status\")\n    const version = statusResult.data.jina.jina\n\n    const flowResult = await jinadInstance.get(\"/flows/arguments\")\n    const flow = parseDaemonFlowMethodOptions(flowResult.data)\n\n    const podResult = await jinadInstance.get(\"/pods/arguments\")\n    const pod = parseDaemonFlowMethodOptions(podResult.data)\n\n    const peaResult = await jinadInstance.get(\"/peas/arguments\")\n    const pea = parseDaemonFlowMethodOptions(peaResult.data)\n\n    return { version, flow, pod, pea }\n  },\n  getDaemonStatus: async () => {\n    try {\n      const result = await jinadInstance.get(\"/status\")\n      if (result.status === 200)\n        return { status: \"success\", daemonStatus: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  getWorkspaces: async () => {\n    try {\n      const result = await jinadInstance.get(\"/workspaces\")\n      if (result.status === 200)\n        return { status: \"success\", workspaces: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  createWorkspace: async (files: (string | Blob)[]) => {\n    const formData = new FormData()\n    files.forEach((file: string | Blob) => {\n      if (typeof file === \"string\") formData.append(\"files\", new Blob([file]))\n      else formData.append(\"files\", file)\n    })\n    const options = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    }\n    try {\n      const result = await jinadInstance.post(\"/workspaces\", formData, options)\n      if (result.status === 201)\n        return { status: \"success\", workspace: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  deleteWorkspace: async (workspace_id: string) => {\n    try {\n      const result = await jinadInstance.delete(`/workspaces/${workspace_id}`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - deleteWorkspace ${workspace_id} error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  deleteAllWorkspaces: async () => {\n    try {\n      const result = await jinadInstance.delete(`/workspaces/all`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - deleteAllWorkspaces error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  getArgumentsForFlow: async () => {\n    try {\n      const result = await jinadInstance.get(\"/flows/arguments\")\n      if (result.status === 200)\n        return { status: \"success\", arguments: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  getFlow: async (flow_id: string) => {\n    try {\n      const result = await jinadInstance.get(`/flows/${flow_id}`)\n      if (result.status === 200) return { status: \"success\", flow: result.data }\n      return {\n        status: \"error\",\n        message: result.data,\n      }\n    } catch (e) {\n      logger.log(\"api - getFlow error getting flow: \", e)\n    }\n    return {\n      status: \"error\",\n      message: `Could not get flow\\nFlowId:${flow_id}`,\n    }\n  },\n  startFlow: async (yaml: string, workspace_id?: string) => {\n    logger.log(\"yamlString:\", yaml)\n    const formData = new FormData()\n    formData.append(\"flow\", new Blob([yaml]))\n    if (workspace_id) formData.append(\"workspace_id\", workspace_id)\n    const options = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    }\n    try {\n      const result = await jinadInstance.post(`/flows`, formData, options)\n      if (result.status === 201) {\n        const flow_id = result.data\n        const message = `Successfuly started flow\\nid: ${flow_id}`\n        return { status: \"success\", message, flow_id }\n      }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      logger.log(\"api - startFlow error: \", e)\n      return { status: \"error\", message: e.message }\n    }\n  },\n  terminateFlow: async (flow_id: string) => {\n    try {\n      const result = await jinadInstance.delete(`/flows/${flow_id}`)\n      logger.log(\"terminate result\", result)\n      if (result.status === 200) {\n        const message = `Successfuly terminated flow ${flow_id}`\n        return { status: \"success\", message, flow: result.data }\n      }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      logger.log(\"api - terminateFlow error: \", e)\n      return { status: \"error\", message: e.message }\n    }\n  },\n  terminateAllFlows: async () => {\n    try {\n      const result = await jinadInstance.delete(\"/flows/all\")\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(\"api - terminateAllFlows error: \", e)\n    }\n    return { status: \"error\" }\n  },\n  getLogs: async (workspace_id: string, flow_id: string) => {\n    try {\n      const result = await jinadInstance.get(`/logs/${workspace_id}/${flow_id}`)\n      if (result.status === 200) {\n        const logs = result.data\n          .split(\"\\n\")\n          .filter((line: string) => line !== \"\")\n          .map(JSON.parse)\n        return { status: \"success\", logs }\n      }\n    } catch (e) {\n      logger.log(\"api - getLogs error: \", e)\n    }\n    return {\n      status: \"error\",\n      message: `Could not get logs for flow.\\nFlowId:${flow_id}`,\n    }\n  },\n  waitForFlow: async (\n    workspace_id: string,\n    flow_id: string,\n    numRetries: number = FLOW_RETRIES,\n    retryTimeout: number = FLOW_RETRY_TIMEOUT\n  ) => {\n    for (let i = 0; i < numRetries; ++i) {\n      logger.log(`checking for flow logs [${i + 1}]`)\n      try {\n        const result = await jinadInstance.get(\n          `/logs/${workspace_id}/${flow_id}`\n        )\n        if (result.status === 200) {\n          return {\n            status: \"success\",\n            message: `Successfuly stablished logstream.\\nFlowId:${flow_id}`,\n          }\n        }\n      } catch (e) {\n        logger.log(`no flow logs yet [${i + 1}]`)\n      }\n      await timeout(retryTimeout)\n    }\n    return {\n      status: \"error\",\n      message: `Could not establish log stream for flow.\\nFlowId:${flow_id}`,\n    }\n  },\n  listenForLogs: async (\n    workspace_id: string,\n    flow_id: string,\n    settings: Settings,\n    callback: ConnectionCallback,\n    handleLog: LogHandler\n  ) => {\n    let origin = settings.jinadHost\n      .replace(\"http://\", \"ws://\")\n      .replace(\"https://\", \"wss://\")\n    const baseURL = `${origin}:${settings.jinadPort}/logstream/${workspace_id}/${flow_id}`\n    logger.log(\"api - listenForLogs - baseURl:\", baseURL)\n    let socket: WebSocket\n    try {\n      socket = new WebSocket(baseURL)\n    } catch (e) {\n      return callback({ connected: false, message: e })\n    }\n\n    socket.addEventListener(\"open\", () => {\n      callback({ connected: true, message: \"Successfully Connected\" })\n      socket.send(JSON.stringify({ from: 0 }))\n    })\n    socket.addEventListener(\"message\", function (event) {\n      logger.log(\"api - logstream - message received: \", event)\n      const log: RawLog = JSON.parse(event.data)\n      handleLog(log)\n    })\n    socket.addEventListener(\"close\", function (event) {\n      callback({ connected: false, message: \"Connection closed\" })\n    })\n    socket.addEventListener(\"error\", function (event) {\n      callback({ connected: false, message: \"Socket error\" })\n    })\n  },\n  getArgumentsForPod: async () => {\n    try {\n      const result = await jinadInstance.get(\"/pods/arguments\")\n      if (result.status === 200)\n        return { status: \"success\", arguments: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  getPod: async (podId: string) => {\n    try {\n      const result = await jinadInstance.get(`/pods/${podId}`)\n      if (result.status === 200) return { status: \"success\", pod: result.data }\n    } catch (e) {\n      logger.log(`api - getPod ${podId} error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  startPod: async (podArgs: Args) => {\n    try {\n      const result = await jinadInstance.post(`/pods`, podArgs)\n      if (result.status === 201) return { status: \"success\", pod: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  terminatePod: async (podId: string) => {\n    try {\n      const result = await jinadInstance.delete(`/pods/${podId}`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - terminatePod ${podId} error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  terminateAllPods: async () => {\n    try {\n      const result = await jinadInstance.delete(`/pods/all`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - terminateAllPods error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  getArgumentsForPea: async () => {\n    try {\n      const result = await jinadInstance.get(\"/peas/arguments\")\n      if (result.status === 200)\n        return { status: \"success\", arguments: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  getPea: async (peaId: string) => {\n    try {\n      const result = await jinadInstance.get(`/peas/${peaId}`)\n      if (result.status === 200) return { status: \"success\", pea: result.data }\n    } catch (e) {\n      logger.log(`api - getPea error getting pea ${peaId}: `, e)\n    }\n    return { status: \"error\" }\n  },\n  startPea: async (peaArgs: Args) => {\n    try {\n      const result = await jinadInstance.post(`/peas`, peaArgs)\n      if (result.status === 201) return { status: \"success\", pea: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  terminatePea: async (peaId: string) => {\n    try {\n      const result = await jinadInstance.delete(`/peas/${peaId}`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - terminatePea ${peaId} error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  terminateAllPeas: async () => {\n    try {\n      const result = await jinadInstance.delete(\"/peas/all\")\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - terminateAllPeas error: `, e)\n    }\n    return { status: \"error\" }\n  },\n}\n\nconst typeMap: { [key: string]: FlowArgumentType } = {\n  string: \"string\",\n  boolean: \"boolean\",\n  integer: \"integer\",\n  array: \"string\",\n}\n\nexport const parseDaemonFlowMethodOptions = (\n  data: DaemonArgumentsResponse\n): FlowArgument[] => {\n  return Object.entries(data).map(\n    ([name, { description, default: defaultValue, type: itemType }]) => {\n      const type = typeMap[itemType]\n      if (typeof defaultValue === \"undefined\" || defaultValue === null)\n        return { name, description, type }\n      return { name, description, defaultValue, type }\n    }\n  )\n}\n\nexport default jinadClient\n","export const nodeOffset = {\n  x: 250,\n  y: 150,\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { Col } from \"react-bootstrap\";\n\ntype Props = {\n  title: string;\n  subtitle?: string;\n  className: string;\n};\n\nfunction PageTitle({ title, subtitle, className }: Props) {\n  const classes = classNames(\n    className,\n    \"text-center\",\n    \"text-md-left\",\n    \"mb-sm-0\"\n  );\n\n  return (\n    <Col xs=\"12\" sm=\"3\" className={classes}>\n      <h3 className=\"page-title\" data-name=\"title\">\n        {title}\n      </h3>\n      <p className=\"page-subtitle mt-2 mb-0\">{subtitle}</p>\n    </Col>\n  );\n}\n\nexport { PageTitle };\n","import React from \"react\"\nimport { HashRouter as Router, Route } from \"react-router-dom\"\n\nimport { hubRoutes as routes } from \"../routes\"\nimport withTracker from \"../withTracker\"\n\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"../App.css\"\nimport { ErrorBoundary } from \"react-error-boundary\"\nimport { FallbackPage } from \"../views/FallbackPage\"\nimport { HubRoute } from \"../routes/Hub\"\n\nconst Hub = () => {\n  document.title = \"Jina Hub\"\n  return (\n    <Router basename={\"/\"}>\n      <div>\n        {routes.map((route: HubRoute, index: number) => {\n          return (\n            <Route\n              key={index}\n              path={route.path}\n              exact={route.exact}\n              component={withTracker((props) => {\n                return (\n                  <route.layout {...props} {...route.props}>\n                    <ErrorBoundary FallbackComponent={FallbackPage}>\n                      <route.component {...props} />\n                    </ErrorBoundary>\n                  </route.layout>\n                )\n              })}\n            />\n          )\n        })}\n      </div>\n    </Router>\n  )\n}\n\nexport { Hub }\n","import { HubState } from \"./hub.types\"\n\nexport const FETCH_HUB_IMAGES = \"FETCH_HUB_IMAGES\"\nexport const FETCH_HUB_IMAGES_SUCCESS = \"FETCH_HUB_IMAGES_SUCCESS\"\nexport const FETCH_HUB_IMAGES_FAILURE = \"FETCH_HUB_IMAGES_FAILURE\"\nexport const PICK_FILTER = \"PICK_FILTER\"\nexport const CLEAR_FILTERS = \"CLEAR_FILTERS\"\n\nexport const HIDE_BANNER_TIMEOUT = 5000\n\nexport const initialHubState: HubState = {\n  images: [],\n  loading: false,\n  error: null,\n  selectedFilters: [],\n}\n\nexport const sortOptions = [\n  \"name increasing\",\n  \"name decreasing\",\n  \"author increasing\",\n  \"author decreasing\",\n]\n","// @ts-nocheck\nimport {\n  FlowChart,\n  FlowEdge,\n  FlowNode,\n  NodeData,\n  Pod,\n} from \"../redux/flows/flows.types\"\nimport { isEdge, isNode, XYPosition } from \"react-flow-renderer\"\nconst settings = require(\"./../settings\")\n\nexport const isFlowEdge = isEdge\nexport const isFlowNode = isNode\n\nexport const createNode = (\n  id: string,\n  data?: NodeData,\n  position: XYPosition\n): FlowNode => {\n  return {\n    id,\n    type: id === \"gateway\" ? \"gateway\" : \"pod\",\n    data,\n    position,\n  }\n}\n\nexport const createEdge = (source: string, target: string): FlowEdge => ({\n  id: `e-${source}-to-${target}`,\n  source,\n  target,\n  type: \"step\",\n})\n\ntype ParsedYAML = {\n  pods: Pod[]\n  with?: {\n    board?: {\n      canvas?: { [key: string]: { x: number; y: number } }\n    }\n  }\n  version?: string\n}\n\nexport const formatForFlowchart = (data: ParsedYAML): FlowChart => {\n  let pods = data.pods\n  let canvas = data.with?.board?.canvas\n\n  const formatted: FlowChart = {\n    with: data.with,\n  }\n\n  let nodes: FlowNode[] = []\n  let links: FlowLink[] = []\n\n  if (data.version?.includes(\"1\")) {\n    let podMap = {}\n    pods.forEach((pod) => {\n      const id = pod.name\n      delete pod.name\n      podMap[id] = {\n        ...pod,\n      }\n    })\n    pods = podMap\n  }\n\n  if (!pods.gateway) {\n    pods = {\n      gateway: null,\n      ...pods,\n    }\n  }\n\n  let prevNode\n  Object.keys(pods).forEach((id) => {\n    const pod = pods[id] || {}\n\n    let node: FlowNode = createNode(id, pod, {})\n\n    node.data.label = id\n    node.data.name = id\n\n    if (prevNode && !node.data.needs && id !== \"gateway\") {\n      !node.data.needs && (node.data.needs = [])\n      node.data.needs.push(prevNode)\n    }\n\n    if (node?.data?.needs)\n      node.data.needs.forEach((parent) => links.push(createEdge(parent, id)))\n\n    if (canvas && canvas[id]) {\n      const { x, y } = canvas[id]\n      node.position = { x: parseInt(x), y: parseInt(y) }\n    }\n    nodes.push(node)\n    prevNode = id\n  })\n\n  const depthPopulation = {} //how many nodes at each depth\n  const offsetX = settings.nodeOffset.x\n  const offsetY = settings.nodeOffset.y\n\n  //fallback: if no position encoded on canvas portion of YAML, infer the position using depth and order\n  nodes.forEach((node) => {\n    const depth = getNodeDepth(nodes, node)\n    node.data.depth = depth\n\n    depthPopulation[depth] === undefined\n      ? (depthPopulation[depth] = 1)\n      : (depthPopulation[depth] = depthPopulation[depth] + 1)\n\n    if (!node.position.x)\n      node.position = {\n        y: depth * offsetY + offsetY,\n        x: depthPopulation[depth] * offsetX,\n      }\n  })\n\n  formatted.elements = [...nodes, ...links]\n\n  return formatted\n}\n\nfunction getNodeDepth(nodes: FlowNode[], node: FlowNode): number {\n  const parents = node.data.needs\n\n  if (!parents || parents.length === 0) return 0\n  else {\n    const parentDepthList = parents.map((parentId) => {\n      const parent = nodes.find((node) => node.id === parentId)\n      let depth\n      if (parent.data.depth) depth = parent.data.depth\n      else depth = getNodeDepth(nodes, parent)\n      return depth\n    })\n    const max = Math.max(...parentDepthList) + 1\n    return max\n  }\n}\n","import {\n  CREATE_NEW_FLOW,\n  DELETE_FLOW,\n  DELETE_NODE,\n  DUPLICATE_FLOW,\n  LOAD_FLOW,\n  UPDATE_NODE,\n  UPDATE_SELECTED_FLOW,\n  IMPORT_FLOW,\n  SET_FLOW_ARGUMENTS,\n  ADD_NODE,\n  ADD_LINK,\n  DELETE_LINK,\n  UPDATE_NODE_DATA,\n  LOAD_WORKSPACE,\n  CREATE_NEW_WORKSPACE,\n  UPDATE_SELECTED_WORKSPACE,\n  ADD_FILES_TO_WORKSPACE,\n  DELETE_WORKSPACE,\n} from \"./flows.constants\"\n\nimport { Edge, Node, XYPosition } from \"react-flow-renderer\"\n\nconst PodNecessaryObject = {\n  name: \"string\",\n}\n\nconst PodOptionalObject = {\n  uses: \"string\",\n  inspect: \"string\",\n  add: \"string\",\n  needs: [\"string\"],\n  parallel: \"string\",\n  timeout_ready: 0,\n  separated_workspace: true,\n}\n\ntype Pod = typeof PodNecessaryObject & Partial<typeof PodOptionalObject>\n\nexport const CustomDataObjectReq = {\n  label: \"string\",\n  name: \"string\",\n}\n\nexport const CustomDataObjectOpt = {\n  depth: 0,\n}\n\nexport const CustomDataObject = {\n  ...CustomDataObjectOpt,\n  ...CustomDataObjectReq,\n}\n\ntype CustomData = typeof CustomDataObjectReq &\n  Partial<typeof CustomDataObjectOpt>\n\nexport type NodeData = CustomData & Pod\n\nexport type FlowNode = Node<NodeData>\nexport type FlowEdge = Edge\nexport type FlowElement = FlowNode | FlowEdge\nexport type NodeId = string\nexport type LinkId = string\nexport type HandlerId = string\nexport type NodeUpdate = Partial<FlowNode>\nexport type NodeDataUpdate = Partial<NodeData>\n\nexport type NodeConnection = {\n  source: NodeId\n  target: NodeId\n  sourceHandle?: HandlerId\n  targetHandle?: HandlerId\n}\n\nexport type DeleteLinkProps = LinkId | NodeConnection\n\nexport type With = {\n  logserver?: string\n  compress_hwm?: number\n  rest_api?: boolean\n  port_expose: string\n  board: {\n    canvas: {\n      [pod: string]: {\n        x: number\n        y: number\n      }\n    }\n  }\n  read_only: boolean\n}\nexport interface FlowChart {\n  elements: FlowElement[]\n  with?: With\n}\n\ntype FlowType = \"user-generated\" | \"remote\" | \"example\"\n\ntype WorkspaceType = \"user-generated\" | \"remote\" | \"example\"\n\ntype DaemonData = string | null\n\nexport type Flow = {\n  name: string\n  type: FlowType\n  isConnected: boolean\n  workspaceId: string\n  daemon_id?: DaemonData\n  flowChart: FlowChart\n  yaml?: string\n}\n\nexport type Workspace = {\n  jina_version: string\n  flowArguments: FlowArguments\n  selectedFlowId: string\n  name: string\n  type: WorkspaceType\n  daemon_endpoint: DaemonData\n  daemon_id: DaemonData\n  isConnected: boolean\n  files: string[]\n}\n\nexport type FlowUpdate = Partial<Flow>\nexport type WorkspaceUpdate = Partial<Workspace>\n\nexport type Flows = {\n  [flowId: string]: Flow\n}\n\nexport type Workspaces = {\n  [workspaceId: string]: Workspace\n}\n\nexport type LoadFlowAction = {\n  type: typeof LOAD_FLOW\n  payload: string\n}\n\nexport type CreateNewFlowAction = {\n  type: typeof CREATE_NEW_FLOW\n}\n\nexport type LoadWorkspaceAction = {\n  type: typeof LOAD_WORKSPACE\n  payload: string\n}\n\nexport type CreateNewWorkspaceAction = {\n  type: typeof CREATE_NEW_WORKSPACE\n}\n\nexport type UpdateSelectedWorkspaceAction = {\n  type: typeof UPDATE_SELECTED_WORKSPACE\n  payload: WorkspaceUpdate\n}\n\nexport type AddFilesToWorkspaceAction = {\n  type: typeof ADD_FILES_TO_WORKSPACE\n}\n\nexport type DeleteWorkspaceAction = {\n  type: typeof DELETE_WORKSPACE\n  payload: string\n}\n\nexport type FlowArgumentType = \"string\" | \"boolean\" | \"integer\"\n\nexport type FlowArgument = {\n  name: string\n  description: string\n  type: FlowArgumentType\n  defaultValue?: string | number | boolean | null\n}\n\nexport type FlowArguments = {\n  flow: FlowArgument[]\n  pea: FlowArgument[]\n  pod: FlowArgument[]\n}\n\nexport type FlowState = {\n  selectedWorkspaceId: string\n  workspaces: Workspaces\n  flows: Flows\n}\n\nexport type ExampleFlows = {\n  [id: string]: {\n    name: string\n    yaml: string\n    workspaceId: string\n  }\n}\n\nexport type ExampleWorkspaces = {\n  [id: string]: {\n    jina_version: string\n    type: WorkspaceType\n    name: string\n  }\n}\n\nexport type SetFlowArgumentsAction = {\n  type: typeof SET_FLOW_ARGUMENTS\n  payload: FlowArguments\n}\nexport type UpdateSelectedFlowAction = {\n  type: typeof UPDATE_SELECTED_FLOW\n  payload: FlowUpdate\n}\nexport type DuplicateFlowAction = {\n  type: typeof DUPLICATE_FLOW\n  payload: string\n}\nexport type DeleteFlowAction = {\n  type: typeof DELETE_FLOW\n  payload: string\n}\n\nexport type AddNodeAction = {\n  type: typeof ADD_NODE\n  payload: {\n    data?: NodeData\n    id: string\n    position: XYPosition\n  }\n}\n\nexport type UpdateNodeAction = {\n  type: typeof UPDATE_NODE\n  payload: { nodeId: string; nodeUpdate: NodeUpdate }\n}\n\nexport type UpdateNodeDataAction = {\n  type: typeof UPDATE_NODE_DATA\n  payload: { nodeId: string; nodeDataUpdate: NodeDataUpdate }\n}\n\nexport type DeleteNodeAction = {\n  type: typeof DELETE_NODE\n  payload: string\n}\n\nexport type AddLinkAction = {\n  type: typeof ADD_LINK\n  payload: NodeConnection\n}\n\nexport type DeleteLinkAction = {\n  type: typeof DELETE_LINK\n  payload: DeleteLinkProps\n}\n\nexport type ImportFlowAction = {\n  type: typeof IMPORT_FLOW\n  payload: string\n}\n\nexport type FlowActionTypes =\n  | LoadFlowAction\n  | CreateNewFlowAction\n  | UpdateSelectedFlowAction\n  | DuplicateFlowAction\n  | SetFlowArgumentsAction\n  | DeleteFlowAction\n  | UpdateNodeAction\n  | DeleteNodeAction\n  | ImportFlowAction\n  | AddNodeAction\n  | AddLinkAction\n  | DeleteLinkAction\n  | UpdateNodeDataAction\n  | LoadWorkspaceAction\n  | CreateNewWorkspaceAction\n  | UpdateSelectedWorkspaceAction\n  | AddFilesToWorkspaceAction\n  | DeleteWorkspaceAction\n","// @ts-nocheck\nimport * as YAML from \"yaml\"\nimport { getInitialLogLevel } from \"../redux/logStream/logStream.constants\"\nimport _ from \"lodash\"\nimport { Level, LogLevelOccurrences } from \"../redux/logStream/logStream.types\"\nimport {\n  CustomDataObject,\n  FlowArgument,\n  FlowArguments,\n  FlowChart,\n  FlowNode,\n  FlowEdge,\n} from \"../redux/flows/flows.types\"\nimport { isFlowNode, isFlowEdge } from \"./flow-chart\"\n\nconst customData = Object.keys(CustomDataObject)\n\nexport const fileToBase64 = (file: File): Promise<string> =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.readAsDataURL(file)\n    reader.onload = () => resolve(reader.result)\n    reader.onerror = (error) => reject(error)\n  })\n\nexport const mimeTypeFromDataURI = (dataURI: string) =>\n  dataURI.substring(dataURI.indexOf(\":\") + 1, dataURI.indexOf(\";\"))\n\nexport const formatDebugRequest = async (\n  textQuery: string,\n  files: FileList | null,\n  rows: string[],\n  locations: { [key: string]: string },\n  keys: { [key: string]: string },\n  values: { [key: string]: string }\n) => {\n  const request: any = {\n    data: [],\n    parameters: {},\n  }\n  if (textQuery) {\n    request.data.push({ text: textQuery })\n  }\n  if (files?.length) {\n    for (let file of Array.from(files)) {\n      const uri = await fileToBase64(file)\n      request.data.push({ uri })\n    }\n  }\n  rows.forEach((row) => {\n    const location = locations[row]\n    const key = keys[row]\n    const value = values[row]\n\n    if (!key || !value) return\n\n    let formattedValue = \"\"\n\n    try {\n      formattedValue = JSON.parse(value)\n    } catch (e) {\n      formattedValue = value\n    }\n\n    if (!location || location === \"parameters\")\n      request.parameters[key] = formattedValue\n    else if (location === \"root\") request[key] = formattedValue\n    else if (location === \"textQuery\" && textQuery)\n      request.data[0][key] = formattedValue\n    else if (files) {\n      let dataIndex = _.findIndex(\n        Array.from(files),\n        (file) => `file-${file.name}` === location\n      )\n      if (textQuery) dataIndex = 1\n      if (dataIndex >= 0) request.data[dataIndex][key] = formattedValue\n    }\n  })\n  return JSON.stringify(request, null, \"\\t\")\n}\n\nexport const parseYAML = (yamlSTR: string) => {\n  let yamlStrWithoutTag = /^!/.test(yamlSTR)\n    ? yamlSTR.split(\"\\n\").slice(1).join(\"\\n\")\n    : yamlSTR\n\n  try {\n    const data = YAML.parse(yamlStrWithoutTag)\n    if (typeof data !== \"object\" || data === null)\n      throw new Error(\"Invalid YAML\")\n    Object.keys(data.pods).forEach((podId) => {\n      if (data.pods[podId].needs && !Array.isArray(data.pods[podId].needs)) {\n        data.pods[podId].needs = [data.pods[podId].needs]\n      }\n    })\n\n    return { data }\n  } catch (error) {\n    alert(\"Error Parsing YAML:\\n\" + error.message)\n  }\n}\n\nexport const decodePropValue = (\n  argName,\n  propValue,\n  possibleArguments: FlowArgument[]\n) => {\n  const argument = possibleArguments.find((arg) => arg.name === argName)\n  if (!argument) return propValue\n  if (argument.type === \"boolean\") return String(propValue) === \"true\"\n  return propValue\n}\n\nconst unpackIfLengthOne = (arr) =>\n  Array.isArray(arr) && arr.length === 1 ? arr[0] : arr\n\nexport const formatAsYAML = (\n  chart: FlowChart,\n  flowArguments: FlowArguments\n) => {\n  const { with: chartWith, elements } = chart\n\n  let nodes: FlowNode[] = []\n  let flowEdges: FlowEdge[] = []\n\n  elements.forEach((element) => {\n    if (isFlowEdge(element)) flowEdges.push(element)\n    if (isFlowNode(element)) nodes.push(element)\n  })\n\n  const { pod: podArguments } = flowArguments\n\n  const childParentsMap = flowEdges.reduce((acc, curr) => {\n    const parent = curr.source\n    const child = curr.target\n\n    if (!acc[child]) {\n      acc[child] = []\n    }\n    acc[child].push(parent)\n    return acc\n  }, {})\n\n  const pods = nodes\n    .filter((node) => node.data.label !== \"gateway\")\n    .reduce((acc, node) => {\n      const key = node.data.label\n\n      const podProperties = Object.entries(node.data).reduce(\n        (acc, [argName, propValue]) => {\n          if (customData.includes(argName)) return acc\n          acc[argName] = decodePropValue(argName, propValue, podArguments)\n          return acc\n        },\n        {}\n      )\n      if (childParentsMap[key]) {\n        podProperties.needs = unpackIfLengthOne(childParentsMap[key])\n      }\n\n      acc[key] = { ...podProperties }\n      return acc\n    }, {})\n\n  const canvas = nodes.reduce((acc, node) => {\n    const {\n      position: { x, y },\n    } = node\n    const key = node.data.label || node.data.name\n    acc[key] = { x: parseInt(x), y: parseInt(y) }\n    return acc\n  }, {})\n\n  const output = { with: { ...chartWith, board: { canvas } }, pods }\n  return `!Flow\\n${YAML.stringify(output)}`\n}\n\nexport const formatSeconds = (numSeconds: number): string => {\n  let minute = 60\n  let hour = 60 * minute\n\n  return numSeconds < minute\n    ? `${Math.floor(numSeconds)}s`\n    : numSeconds < hour\n    ? `${Math.floor(numSeconds / minute)}m ${Math.floor(numSeconds % minute)}s`\n    : `${Math.floor(numSeconds / hour)}h ${Math.floor(\n        (numSeconds % hour) / minute\n      )}m ${Math.floor(numSeconds % minute)}s`\n}\n\nexport const formatBytes = (numBytes: number): string => {\n  return numBytes < 1024\n    ? `${numBytes} Bytes`\n    : numBytes < 1024 ** 2\n    ? `${(numBytes / 1024).toFixed(1)} KB`\n    : numBytes < 1024 ** 3\n    ? `${(numBytes / 1024 ** 2).toFixed(1)} MB`\n    : `${(numBytes / 1024 ** 3).toFixed(1)} GB`\n}\n\nexport function getLogLevelCharts(\n  numSeconds: number = 60,\n  MAX_CHART_TICKS: number,\n  logLevelOccurrences: LogLevelOccurrences,\n  currentDate: Date\n) {\n  const emptyItem = getInitialLogLevel()\n  const step = numSeconds / MAX_CHART_TICKS\n  const data = []\n  const currentInterval = Math.ceil(currentDate / 1000 / step) * step\n  const now = Math.floor(currentDate / 1000)\n  for (let i = currentInterval - numSeconds; i < currentInterval; i += step) {\n    let item = _.cloneDeep(emptyItem)\n    for (let j = i; j < i + step; ++j) {\n      const occurrence = logLevelOccurrences[j]\n      if (!occurrence) continue\n      item.lastLog = occurrence.lastLog\n      Object.entries(occurrence.levels).forEach((logEntry) => {\n        const level = logEntry[0] as Level\n        const amount = logEntry[1] as number\n        item.levels[level] = item.levels[level] + amount\n      })\n    }\n    data.push(item)\n  }\n  return { data, numSeconds, numTicks: MAX_CHART_TICKS, lastTimestamp: now }\n}\n\nexport function capitalizeFirstLetter(word: string) {\n  return word.charAt(0).toUpperCase() + word.slice(1)\n}\n","import { LogStreamState } from \"./logStream.types\";\nimport { RawLogLevel } from \"./logStream.types\";\n\nexport const SHOW_LOG_INDEX = \"SHOW_LOG_INDEX\";\nexport const HANDLE_NEW_LOG = \"HANDLE_NEW_LOG\";\n\nexport const intialLogStreamState: LogStreamState = {\n  logIndex: 0,\n  logLevelOccurrences: {},\n  logs: [],\n  logLevels: {\n    INFO: 0,\n    SUCCESS: 0,\n    WARNING: 0,\n    ERROR: 0,\n    CRITICAL: 0,\n    DEBUG: 0,\n  },\n  logSources: {},\n};\n\nexport const getInitialLogLevel = (): RawLogLevel => ({\n  lastLog: 0,\n  levels: {\n    INFO: 0,\n    SUCCESS: 0,\n    WARNING: 0,\n    ERROR: 0,\n    CRITICAL: 0,\n    DEBUG: 0,\n  },\n});\n"],"sourceRoot":""}